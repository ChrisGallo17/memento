/*! For license information please see main.c2fcae4f.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var g=h(n,y);try{c(t,y,g)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||w(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===b||e.$$typeof===k||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}return(0,a.default)(r)};var r,i=n(54),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},54:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,a,o){var s=i||"<<anonymous>>",u=o||r;if(null==n[r])return t?new Error("Required "+a+" `"+u+"` was not specified in `"+s+"`."):null;for(var c=arguments.length,l=Array(c>6?c-6:0),f=6;f<c;f++)l[f-6]=arguments[f];return e.apply(void 0,[n,r,s,a,u].concat(l))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),I=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,F=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var V=!1;function z(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function U(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case E:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Se=null;function Ee(e){if(e=mi(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=gi(t),_e(e.stateNode,e.type,t))}}function Ce(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Ie(){if(xe){var e=xe,t=Se;if(Se=xe=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Te(e,t){return e(t)}function Ne(){}var Re=!1;function Pe(e,t,n){if(Re)return e(t,n);Re=!0;try{return Te(e,t,n)}finally{Re=!1,(null!==xe||null!==Se)&&(Ne(),Ie())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=gi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Oe=!1}function Me(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Fe=null,je=!1,Ve=null,ze={onError:function(e){Le=!0,Fe=e}};function Ue(e,t,n,r,i,a,o,s,u){Le=!1,Fe=null,Me.apply(ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var gt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,wt,_t,xt,St,Et=!1,Ct=[],It=null,Tt=null,Nt=null,Rt=new Map,Pt=new Map,At=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=mi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=vi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=mi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function jt(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Et=!1,null!==It&&Ft(It)&&(It=null),null!==Tt&&Ft(Tt)&&(Tt=null),null!==Nt&&Ft(Nt)&&(Nt=null),Rt.forEach(jt),Pt.forEach(jt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Ut(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&zt(It,e),null!==Tt&&zt(Tt,e),null!==Nt&&zt(Nt,e),Rt.forEach(t),Pt.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Lt(n),null===n.blockedOn&&At.shift()}var Bt=k.ReactCurrentBatchConfig;function qt(e,t,n,r){var i=gt,a=Bt.transition;Bt.transition=null;try{gt=1,Kt(e,t,n,r)}finally{gt=i,Bt.transition=a}}function Wt(e,t,n,r){var i=gt,a=Bt.transition;Bt.transition=null;try{gt=4,Kt(e,t,n,r)}finally{gt=i,Bt.transition=a}}function Kt(e,t,n,r){var i=Gt(e,t,n,r);if(null===i)Br(e,t,r,Ht,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Mt(It,e,t,n,r,i),!0;case"dragenter":return Tt=Mt(Tt,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=mi(i);if(null!==a&&kt(a),null===(a=Gt(e,t,n,r))&&Br(e,t,r,Ht,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Br(e,t,r,null,n)}var Ht=null;function Gt(e,t,n,r){if(Ht=null,null!==(e=vi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ht=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Yt=null,Xt=null;function Jt(){if(Xt)return Xt;var e,t,n=Yt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function Zt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?en:tn,this.isPropagationStopped=tn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var rn,an,on,sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=nn(sn),cn=F({},sn,{view:0,detail:0}),ln=nn(cn),fn=F({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(rn=e.screenX-on.screenX,an=e.screenY-on.screenY):an=rn=0,on=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),hn=nn(fn),dn=nn(F({},fn,{dataTransfer:0})),pn=nn(F({},cn,{relatedTarget:0})),vn=nn(F({},sn,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=F({},sn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=nn(mn),gn=nn(F({},sn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function xn(){return _n}var Sn=F({},cn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Zt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?Zt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Zt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=nn(Sn),Cn=nn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=nn(F({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),Tn=nn(F({},sn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=nn(Nn),Pn=[9,13,27,32],An=l&&"CompositionEvent"in window,On=null;l&&"documentMode"in document&&(On=document.documentMode);var Dn=l&&"TextEvent"in window&&!On,Mn=l&&(!An||On&&8<On&&11>=On),Ln=String.fromCharCode(32),Fn=!1;function jn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function qn(e,t,n,r){Ce(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Hn(e){Lr(e,0)}function Gn(e){if(G(yi(e)))return e}function Qn(e,t){if("change"===e)return t}var $n=!1;if(l){var Yn;if(l){var Xn="oninput"in document;if(!Xn){var Jn=document.createElement("div");Jn.setAttribute("oninput","return;"),Xn="function"===typeof Jn.oninput}Yn=Xn}else Yn=!1;$n=Yn&&(!document.documentMode||9<document.documentMode)}function Zn(){Wn&&(Wn.detachEvent("onpropertychange",er),Kn=Wn=null)}function er(e){if("value"===e.propertyName&&Gn(Kn)){var t=[];qn(t,Kn,e,we(e)),Pe(Hn,t)}}function tr(e,t,n){"focusin"===e?(Zn(),Kn=n,(Wn=t).attachEvent("onpropertychange",er)):"focusout"===e&&Zn()}function nr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Kn)}function rr(e,t){if("click"===e)return Gn(t)}function ir(e,t){if("input"===e||"change"===e)return Gn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function sr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=sr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sr(r)}}function cr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?cr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function lr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=lr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=ur(n,a);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dr=l&&"documentMode"in document&&11>=document.documentMode,pr=null,vr=null,mr=null,yr=!1;function gr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==pr||pr!==Q(r)||("selectionStart"in(r=pr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&or(mr,r)||(mr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},wr={},_r={};function xr(e){if(wr[e])return wr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return wr[e]=n[t];return e}l&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Sr=xr("animationend"),Er=xr("animationiteration"),Cr=xr("animationstart"),Ir=xr("transitionend"),Tr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Tr.set(e,t),u(t,[e])}for(var Pr=0;Pr<Nr.length;Pr++){var Ar=Nr[Pr];Rr(Ar.toLowerCase(),"on"+(Ar[0].toUpperCase()+Ar.slice(1)))}Rr(Sr,"onAnimationEnd"),Rr(Er,"onAnimationIteration"),Rr(Cr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Ue.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Fe;Le=!1,Fe=null,je||(je=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function Lr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Mr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Mr(i,s,c),a=u}}}if(je)throw e=Ve,je=!1,Ve=null,e}function Fr(e,t){var n=t[hi];void 0===n&&(n=t[hi]=new Set);var r=e+"__bubble";n.has(r)||(Ur(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),Ur(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,jr("selectionchange",!1,t))}}function Ur(e,t,n,r){switch(Qt(t)){case 1:var i=qt;break;case 4:i=Wt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Br(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=vi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=a,i=we(n),o=[];e:{var s=Tr.get(e);if(void 0!==s){var u=un,c=e;switch(e){case"keypress":if(0===Zt(n))break e;case"keydown":case"keyup":u=En;break;case"focusin":c="focus",u=pn;break;case"focusout":c="blur",u=pn;break;case"beforeblur":case"afterblur":u=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=In;break;case Sr:case Er:case Cr:u=vn;break;case Ir:u=Tn;break;case"scroll":u=ln;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ae(p,h))&&l.push(qr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[fi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=hn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:yi(u),d=null==c?s:yi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,vi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Kr(l),h=Kr(h)}l=null}else l=null;null!==u&&Hr(o,s,u,l,!1),null!==c&&null!==f&&Hr(o,f,c,l,!0)}if("select"===(u=(s=r?yi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Qn;else if(Bn(s))if($n)m=ir;else{m=nr;var y=tr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=rr);switch(m&&(m=m(e,r))?qn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?yi(r):window,e){case"focusin":(Bn(y)||"true"===y.contentEditable)&&(pr=y,vr=r,mr=null);break;case"focusout":mr=vr=pr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,gr(o,n,i);break;case"selectionchange":if(dr)break;case"keydown":case"keyup":gr(o,n,i)}var g;if(An)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?jn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(g=Jt()):(Yt="value"in($t=i)?$t.value:$t.textContent,zn=!0)),0<(y=Wr(r,b)).length&&(b=new gn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=Vn(n))&&(b.data=g))),(g=Dn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Ln);case"textInput":return(e=t.data)===Ln&&Fn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!An&&jn(e,t)?(e=Jt(),Xt=Yt=$t=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new gn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Lr(o,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ae(e,n))&&r.unshift(qr(e,a,i)),null!=(a=Ae(e,t))&&r.push(qr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Hr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ae(n,a))&&o.unshift(qr(n,u,s)):i||null!=(u=Ae(n,a))&&o.push(qr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Gr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Gr,"\n").replace(Qr,"")}function Yr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(a(425))}function Xr(){}var Jr=null;function Zr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ei="function"===typeof setTimeout?setTimeout:void 0,ti="function"===typeof clearTimeout?clearTimeout:void 0,ni="function"===typeof Promise?Promise:void 0,ri="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ni?function(e){return ni.resolve(null).then(e).catch(ii)}:ei;function ii(e){setTimeout((function(){throw e}))}function ai(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function oi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function si(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ui=Math.random().toString(36).slice(2),ci="__reactFiber$"+ui,li="__reactProps$"+ui,fi="__reactContainer$"+ui,hi="__reactEvents$"+ui,di="__reactListeners$"+ui,pi="__reactHandles$"+ui;function vi(e){var t=e[ci];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[ci]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=si(e);null!==e;){if(n=e[ci])return n;e=si(e)}return t}n=(e=n).parentNode}return null}function mi(e){return!(e=e[ci]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function gi(e){return e[li]||null}var bi=[],ki=-1;function wi(e){return{current:e}}function _i(e){0>ki||(e.current=bi[ki],bi[ki]=null,ki--)}function xi(e,t){ki++,bi[ki]=e.current,e.current=t}var Si={},Ei=wi(Si),Ci=wi(!1),Ii=Si;function Ti(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){_i(Ci),_i(Ei)}function Pi(e,t,n){if(Ei.current!==Si)throw Error(a(168));xi(Ei,t),xi(Ci,n)}function Ai(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ii=Ei.current,xi(Ei,e),xi(Ci,Ci.current),!0}function Di(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ai(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,_i(Ci),_i(Ei),xi(Ei,e)):_i(Ci),xi(Ci,n)}var Mi=null,Li=!1,Fi=!1;function ji(e){null===Mi?Mi=[e]:Mi.push(e)}function Vi(){if(!Fi&&null!==Mi){Fi=!0;var e=0,t=gt;try{var n=Mi;for(gt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Mi=null,Li=!1}catch(i){throw null!==Mi&&(Mi=Mi.slice(e+1)),Ge(Ze,Vi),i}finally{gt=t,Fi=!1}}return null}var zi=k.ReactCurrentBatchConfig;function Ui(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Bi=wi(null),qi=null,Wi=null,Ki=null;function Hi(){Ki=Wi=qi=null}function Gi(e){var t=Bi.current;_i(Bi),e._currentValue=t}function Qi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $i(e,t){qi=e,Ki=Wi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ys=!0),e.firstContext=null)}function Yi(e){var t=e._currentValue;if(Ki!==e)if(e={context:e,memoizedValue:t,next:null},null===Wi){if(null===qi)throw Error(a(308));Wi=e,qi.dependencies={lanes:0,firstContext:e}}else Wi=Wi.next=e;return t}var Xi=null,Ji=!1;function Zi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ea(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ta(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function na(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==gu&&0!==(1&e.mode)&&0===(2&yu)?(null===(e=n.interleaved)?(t.next=t,null===Xi?Xi=[n]:Xi.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function ia(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function aa(e,t,n,r){var i=e.updateQueue;Ji=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Ji=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Eu|=o,e.lanes=o,e.memoizedState=f}}function oa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var sa=(new r.Component).refs;function ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ca={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Bu(),i=qu(e),a=ta(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Wu(e,i,r))&&ra(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Bu(),i=qu(e),a=ta(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Wu(e,i,r))&&ra(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bu(),r=qu(e),i=ta(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),na(e,i),null!==(t=Wu(e,r,n))&&ra(t,e,r)}};function la(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(i,a))}function fa(e,t,n){var r=!1,i=Si,a=t.contextType;return"object"===typeof a&&null!==a?a=Yi(a):(i=Ni(t)?Ii:Ei.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ti(e,i):Si),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ca,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ca.enqueueReplaceState(t,t.state,null)}function da(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=sa,Zi(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Yi(a):(a=Ni(t)?Ii:Ei.current,i.context=Ti(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ca.enqueueReplaceState(i,i.state,null),aa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var pa=[],va=0,ma=null,ya=0,ga=[],ba=0,ka=null,wa=1,_a="";function xa(e,t){pa[va++]=ya,pa[va++]=ma,ma=e,ya=t}function Sa(e,t,n){ga[ba++]=wa,ga[ba++]=_a,ga[ba++]=ka,ka=e;var r=wa;e=_a;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,wa=1<<32-ot(t)+i|n<<i|r,_a=a+e}else wa=1<<a|n<<i|r,_a=e}function Ea(e){null!==e.return&&(xa(e,1),Sa(e,1,0))}function Ca(e){for(;e===ma;)ma=pa[--va],pa[va]=null,ya=pa[--va],pa[va]=null;for(;e===ka;)ka=ga[--ba],ga[ba]=null,_a=ga[--ba],ga[ba]=null,wa=ga[--ba],ga[ba]=null}var Ia=null,Ta=null,Na=!1,Ra=null;function Pa(e,t){var n=kc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Aa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ia=e,Ta=oi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ia=e,Ta=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==ka?{id:wa,overflow:_a}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=kc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ia=e,Ta=null,!0);default:return!1}}function Oa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Da(e){if(Na){var t=Ta;if(t){var n=t;if(!Aa(e,t)){if(Oa(e))throw Error(a(418));t=oi(n.nextSibling);var r=Ia;t&&Aa(e,t)?Pa(r,n):(e.flags=-4097&e.flags|2,Na=!1,Ia=e)}}else{if(Oa(e))throw Error(a(418));e.flags=-4097&e.flags|2,Na=!1,Ia=e}}}function Ma(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ia=e}function La(e){if(e!==Ia)return!1;if(!Na)return Ma(e),Na=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Zr(e.type,e.memoizedProps)),t&&(t=Ta)){if(Oa(e)){for(e=Ta;e;)e=oi(e.nextSibling);throw Error(a(418))}for(;t;)Pa(e,t),t=oi(t.nextSibling)}if(Ma(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ta=oi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ta=null}}else Ta=Ia?oi(e.stateNode.nextSibling):null;return!0}function Fa(){Ta=Ia=null,Na=!1}function ja(e){null===Ra?Ra=[e]:Ra.push(e)}function Va(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===sa&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function za(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ua(e){return(0,e._init)(e._payload)}function Ba(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=_c(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Cc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===A&&Ua(a)===t.type)?((r=i(t,n.props)).ref=Va(e,t,n),r.return=e,r):((r=xc(n.type,n.key,n.props,null,e.mode,r)).ref=Va(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ic(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Sc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Cc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=xc(t.type,t.key,t.props,null,e.mode,n)).ref=Va(e,null,t),n.return=e,n;case _:return(t=Ic(t,e.mode,n)).return=e,t;case A:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Sc(t,e.mode,n,null)).return=e,t;za(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case A:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:f(e,t,n,r,null);za(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,i,null);za(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),Na&&xa(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return Na&&xa(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),Na&&xa(i,v),c}function m(i,s,u,c){var l=M(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=d(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),Na&&xa(i,m),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return Na&&xa(i,m),l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),Na&&xa(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&Ua(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Va(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Sc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=xc(o.type,o.key,o.props,null,r.mode,u)).ref=Va(r,a,o),u.return=r,r=u)}return s(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Ic(o,r.mode,u)).return=r,r=a}return s(r);case A:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(M(o))return m(r,a,o,u);za(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Cc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var qa=Ba(!0),Wa=Ba(!1),Ka={},Ha=wi(Ka),Ga=wi(Ka),Qa=wi(Ka);function $a(e){if(e===Ka)throw Error(a(174));return e}function Ya(e,t){switch(xi(Qa,t),xi(Ga,e),xi(Ha,Ka),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(Ha),xi(Ha,t)}function Xa(){_i(Ha),_i(Ga),_i(Qa)}function Ja(e){$a(Qa.current);var t=$a(Ha.current),n=ue(t,e.type);t!==n&&(xi(Ga,e),xi(Ha,n))}function Za(e){Ga.current===e&&(_i(Ha),_i(Ga))}var eo=wi(0);function to(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var no=[];function ro(){for(var e=0;e<no.length;e++)no[e]._workInProgressVersionPrimary=null;no.length=0}var io=k.ReactCurrentDispatcher,ao=k.ReactCurrentBatchConfig,oo=0,so=null,uo=null,co=null,lo=!1,fo=!1,ho=0,po=0;function vo(){throw Error(a(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function yo(e,t,n,r,i,o){if(oo=o,so=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=null===e||null===e.memoizedState?Zo:es,e=n(r,i),fo){o=0;do{if(fo=!1,ho=0,25<=o)throw Error(a(301));o+=1,co=uo=null,t.updateQueue=null,io.current=ts,e=n(r,i)}while(fo)}if(io.current=Jo,t=null!==uo&&null!==uo.next,oo=0,co=uo=so=null,lo=!1,t)throw Error(a(300));return e}function go(){var e=0!==ho;return ho=0,e}function bo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===co?so.memoizedState=co=e:co=co.next=e,co}function ko(){if(null===uo){var e=so.alternate;e=null!==e?e.memoizedState:null}else e=uo.next;var t=null===co?so.memoizedState:co.next;if(null!==t)co=t,uo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(uo=e).memoizedState,baseState:uo.baseState,baseQueue:uo.baseQueue,queue:uo.queue,next:null},null===co?so.memoizedState=co=e:co=co.next=e}return co}function wo(e,t){return"function"===typeof t?t(e):t}function _o(e){var t=ko(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=uo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((oo&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,so.lanes|=f,Eu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,ar(r,t.memoizedState)||(ys=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,so.lanes|=o,Eu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xo(e){var t=ko(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);ar(o,t.memoizedState)||(ys=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function So(){}function Eo(e,t){var n=so,r=ko(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,ys=!0),r=r.queue,Lo(To.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==co&&1&co.memoizedState.tag){if(n.flags|=2048,Po(9,Io.bind(null,n,r,i,t),void 0,null),null===gu)throw Error(a(349));0!==(30&oo)||Co(n,t,i)}return i}function Co(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=so.updateQueue)?(t={lastEffect:null,stores:null},so.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Io(e,t,n,r){t.value=n,t.getSnapshot=r,No(t)&&Wu(e,1,-1)}function To(e,t,n){return n((function(){No(t)&&Wu(e,1,-1)}))}function No(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Ro(e){var t=bo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Go.bind(null,so,e),[t.memoizedState,e]}function Po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=so.updateQueue)?(t={lastEffect:null,stores:null},so.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ao(){return ko().memoizedState}function Oo(e,t,n,r){var i=bo();so.flags|=e,i.memoizedState=Po(1|t,n,void 0,void 0===r?null:r)}function Do(e,t,n,r){var i=ko();r=void 0===r?null:r;var a=void 0;if(null!==uo){var o=uo.memoizedState;if(a=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=Po(t,n,a,r))}so.flags|=e,i.memoizedState=Po(1|t,n,a,r)}function Mo(e,t){return Oo(8390656,8,e,t)}function Lo(e,t){return Do(2048,8,e,t)}function Fo(e,t){return Do(4,2,e,t)}function jo(e,t){return Do(4,4,e,t)}function Vo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4,4,Vo.bind(null,t,e),n)}function Uo(){}function Bo(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qo(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wo(e,t){var n=gt;gt=0!==n&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{gt=n,ao.transition=r}}function Ko(){return ko().memoizedState}function Ho(e,t,n){var r=qu(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qo(e)?$o(t,n):(Yo(e,t,n),null!==(e=Wu(e,r,n=Bu()))&&Xo(e,t,r))}function Go(e,t,n){var r=qu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))$o(t,i);else{Yo(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,ar(s,o))return}catch(u){}null!==(e=Wu(e,r,n=Bu()))&&Xo(e,t,r)}}function Qo(e){var t=e.alternate;return e===so||null!==t&&t===so}function $o(e,t){fo=lo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yo(e,t,n){null!==gu&&0!==(1&e.mode)&&0===(2&yu)?(null===(e=t.interleaved)?(n.next=n,null===Xi?Xi=[t]:Xi.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function Xo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Jo={readContext:Yi,useCallback:vo,useContext:vo,useEffect:vo,useImperativeHandle:vo,useInsertionEffect:vo,useLayoutEffect:vo,useMemo:vo,useReducer:vo,useRef:vo,useState:vo,useDebugValue:vo,useDeferredValue:vo,useTransition:vo,useMutableSource:vo,useSyncExternalStore:vo,useId:vo,unstable_isNewReconciler:!1},Zo={readContext:Yi,useCallback:function(e,t){return bo().memoizedState=[e,void 0===t?null:t],e},useContext:Yi,useEffect:Mo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oo(4194308,4,Vo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oo(4,2,e,t)},useMemo:function(e,t){var n=bo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ho.bind(null,so,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bo().memoizedState=e},useState:Ro,useDebugValue:Uo,useDeferredValue:function(e){var t=Ro(e),n=t[0],r=t[1];return Mo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){var e=Ro(!1),t=e[0];return e=Wo.bind(null,e[1]),bo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=so,i=bo();if(Na){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===gu)throw Error(a(349));0!==(30&oo)||Co(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Mo(To.bind(null,r,o,e),[e]),r.flags|=2048,Po(9,Io.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=bo(),t=gu.identifierPrefix;if(Na){var n=_a;t=":"+t+"R"+(n=(wa&~(1<<32-ot(wa)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Yi,useCallback:Bo,useContext:Yi,useEffect:Lo,useImperativeHandle:zo,useInsertionEffect:Fo,useLayoutEffect:jo,useMemo:qo,useReducer:_o,useRef:Ao,useState:function(){return _o(wo)},useDebugValue:Uo,useDeferredValue:function(e){var t=_o(wo),n=t[0],r=t[1];return Lo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[_o(wo)[0],ko().memoizedState]},useMutableSource:So,useSyncExternalStore:Eo,useId:Ko,unstable_isNewReconciler:!1},ts={readContext:Yi,useCallback:Bo,useContext:Yi,useEffect:Lo,useImperativeHandle:zo,useInsertionEffect:Fo,useLayoutEffect:jo,useMemo:qo,useReducer:xo,useRef:Ao,useState:function(){return xo(wo)},useDebugValue:Uo,useDeferredValue:function(e){var t=xo(wo),n=t[0],r=t[1];return Lo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[xo(wo)[0],ko().memoizedState]},useMutableSource:So,useSyncExternalStore:Eo,useId:Ko,unstable_isNewReconciler:!1};function ns(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function rs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var is,as,os,ss="function"===typeof WeakMap?WeakMap:Map;function us(e,t,n){(n=ta(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Au||(Au=!0,Ou=r),rs(0,t)},n}function cs(e,t,n){(n=ta(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){rs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){rs(0,t),"function"!==typeof r&&(null===Du?Du=new Set([this]):Du.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ls(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ss;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=pc.bind(null,e,t,n),t.then(e,e))}function fs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function hs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ta(-1,1)).tag=2,na(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function ds(e,t){if(!Na)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ps(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function vs(e,t,n){var r=t.pendingProps;switch(Ca(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ps(t),null;case 1:case 17:return Ni(t.type)&&Ri(),ps(t),null;case 3:return r=t.stateNode,Xa(),_i(Ci),_i(Ei),ro(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(La(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Ra&&($u(Ra),Ra=null))),ps(t),null;case 5:Za(t);var i=$a(Qa.current);if(n=t.type,null!==e&&null!=t.stateNode)as(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return ps(t),null}if(e=$a(Ha.current),La(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ci]=t,r[li]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Fr(Or[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Y(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(Yr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(Yr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Fr("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[ci]=t,e[li]=r,is(e,t),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Fr(Or[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Fr("scroll",e):null!=l&&b(e,o,l,u))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ps(t),null;case 6:if(e&&null!=t.stateNode)os(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=$a(Qa.current),$a(Ha.current),La(t)){if(r=t.stateNode,n=t.memoizedProps,r[ci]=t,(o=r.nodeValue!==n)&&null!==(e=Ia))switch(u=0!==(1&e.mode),e.tag){case 3:Yr(r.nodeValue,n,u);break;case 5:!0!==e.memoizedProps[void 0]&&Yr(r.nodeValue,n,u)}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ci]=t,t.stateNode=r}return ps(t),null;case 13:if(_i(eo),r=t.memoizedState,Na&&null!==Ta&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Ta;r;)r=oi(r.nextSibling);return Fa(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=La(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[ci]=t}else Fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return ps(t),null}return null!==Ra&&($u(Ra),Ra=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?La(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&eo.current)?0===xu&&(xu=3):ic())),null!==t.updateQueue&&(t.flags|=4),ps(t),null);case 4:return Xa(),null===e&&zr(t.stateNode.containerInfo),ps(t),null;case 10:return Gi(t.type._context),ps(t),null;case 19:if(_i(eo),null===(o=t.memoizedState))return ps(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)ds(o,!1);else{if(0!==xu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=to(e))){for(t.flags|=128,ds(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xi(eo,1&eo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Pu&&(t.flags|=128,r=!0,ds(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=to(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ds(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!Na)return ps(t),null}else 2*Xe()-o.renderingStartTime>Pu&&1073741824!==n&&(t.flags|=128,r=!0,ds(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=eo.current,xi(eo,r?1&n|2:1&n),t):(ps(t),null);case 22:case 23:return ec(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&wu)&&(ps(t),6&t.subtreeFlags&&(t.flags|=8192)):ps(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}is=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},as=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,$a(Ha.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Fr("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},os=function(e,t,n,r){n!==r&&(t.flags|=4)};var ms=k.ReactCurrentOwner,ys=!1;function gs(e,t,n,r){t.child=null===e?Wa(t,null,n,r):qa(t,e.child,n,r)}function bs(e,t,n,r,i){n=n.render;var a=t.ref;return $i(t,i),r=yo(e,t,n,r,a,i),n=go(),null===e||ys?(Na&&n&&Ea(t),t.flags|=1,gs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vs(e,t,i))}function ks(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||wc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=xc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ws(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:or)(o,r)&&e.ref===t.ref)return Vs(e,t,i)}return t.flags|=1,(e=_c(a,r)).ref=t.ref,e.return=t,t.child=e}function ws(e,t,n,r,i){if(null!==e&&or(e.memoizedProps,r)&&e.ref===t.ref){if(ys=!1,0===(e.lanes&i))return t.lanes=e.lanes,Vs(e,t,i);0!==(131072&e.flags)&&(ys=!0)}return Ss(e,t,n,r,i)}function _s(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},xi(_u,wu),wu|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,xi(_u,wu),wu|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,xi(_u,wu),wu|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xi(_u,wu),wu|=r;return gs(e,t,i,n),t.child}function xs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ss(e,t,n,r,i){var a=Ni(n)?Ii:Ei.current;return a=Ti(t,a),$i(t,i),n=yo(e,t,n,r,a,i),r=go(),null===e||ys?(Na&&r&&Ea(t),t.flags|=1,gs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vs(e,t,i))}function Es(e,t,n,r,i){if(Ni(n)){var a=!0;Oi(t)}else a=!1;if($i(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),fa(t,n,r),da(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Yi(c):c=Ti(t,c=Ni(n)?Ii:Ei.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&ha(t,o,r,c),Ji=!1;var h=t.memoizedState;o.state=h,aa(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ci.current||Ji?("function"===typeof l&&(ua(t,n,l,r),u=t.memoizedState),(s=Ji||la(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ea(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ui(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Yi(u):u=Ti(t,u=Ni(n)?Ii:Ei.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&ha(t,o,r,u),Ji=!1,h=t.memoizedState,o.state=h,aa(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ci.current||Ji?("function"===typeof d&&(ua(t,n,d,r),p=t.memoizedState),(c=Ji||la(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Cs(e,t,n,r,a,i)}function Cs(e,t,n,r,i,a){xs(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Di(t,n,!1),Vs(e,t,a);r=t.stateNode,ms.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=qa(t,e.child,null,a),t.child=qa(t,null,s,a)):gs(e,t,s,a),t.memoizedState=r.state,i&&Di(t,n,!0),t.child}function Is(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),Ya(e,t.containerInfo)}function Ts(e,t,n,r,i){return Fa(),ja(i),t.flags|=256,gs(e,t,n,r),t.child}var Ns={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null}}function Ps(e,t,n){var r,i=t.pendingProps,o=eo.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),xi(eo,1&o),null===e)return Da(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,s?(i=t.mode,s=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=o):s=Ec(o,i,0,null),e=Sc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(n),t.memoizedState=Ns,e):As(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(u)return 256&t.flags?(t.flags&=-257,Ms(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,o=t.mode,i=Ec({mode:"visible",children:i.children},o,0,null),(s=Sc(s,o,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!==(1&t.mode)&&qa(t,e.child,null,n),t.child.memoizedState=Rs(n),t.memoizedState=Ns,s);if(0===(1&t.mode))t=Ms(e,t,n,null);else if("$!"===r.data)t=Ms(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),ys||i){if(null!==(i=gu)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(i=0!==(s&(i.suspendedLanes|n))?0:s)&&i!==o.retryLane&&(o.retryLane=i,Wu(e,i,-1))}ic(),t=Ms(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=mc.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Ta=oi(r.nextSibling),Ia=t,Na=!0,Ra=null,null!==n&&(ga[ba++]=wa,ga[ba++]=_a,ga[ba++]=ka,wa=n.id,_a=n.overflow,ka=t),(t=As(t,t.pendingProps.children)).flags|=4096);return t}return s?(i=Ds(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?Rs(n):{baseLanes:o.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Ns,i):(n=Os(e,t,i.children,n),t.memoizedState=null,n)}return s?(i=Ds(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?Rs(n):{baseLanes:o.baseLanes|n,cachePool:null},s.childLanes=e.childLanes&~n,t.memoizedState=Ns,i):(n=Os(e,t,i.children,n),t.memoizedState=null,n)}function As(e,t){return(t=Ec({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Os(e,t,n,r){var i=e.child;return e=i.sibling,n=_c(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Ds(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,s={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=_c(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=_c(o,r):(r=Sc(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Ms(e,t,n,r){return null!==r&&ja(r),qa(t,e.child,null,n),(e=As(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ls(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Qi(e.return,t,n)}function Fs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function js(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(gs(e,t,r.children,n),0!==(2&(r=eo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ls(e,n,t);else if(19===e.tag)Ls(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xi(eo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===to(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Fs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===to(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Fs(t,!0,n,null,a);break;case"together":Fs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Eu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=_c(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=_c(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function zs(e,t){switch(Ca(t),t.tag){case 1:return Ni(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xa(),_i(Ci),_i(Ei),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(_i(eo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(eo),null;case 4:return Xa(),null;case 10:return Gi(t.type._context),null;case 22:case 23:return ec(),null;default:return null}}var Us=!1,Bs=!1,qs="function"===typeof WeakSet?WeakSet:Set,Ws=null;function Ks(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){dc(e,t,r)}else n.current=null}function Hs(e,t,n){try{n()}catch(r){dc(e,t,r)}}var Gs=!1;function Qs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Hs(t,n,a)}i=i.next}while(i!==r)}}function $s(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ys(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function Xs(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&Hs(t,n,a),r=r.next}while(r!==e)}break;case 1:if(Ks(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){dc(t,n,o)}break;case 5:Ks(t,n);break;case 4:iu(e,t,n)}}function Js(e){var t=e.alternate;null!==t&&(e.alternate=null,Js(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ci],delete t[li],delete t[hi],delete t[di],delete t[pi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zs(e){return 5===e.tag||3===e.tag||4===e.tag}function eu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Zs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function tu(e){e:{for(var t=e.return;null!==t;){if(Zs(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(he(t,""),n.flags&=-33),ru(e,n=eu(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,nu(e,n=eu(e),t);break;default:throw Error(a(161))}}function nu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(nu(e,t,n),e=e.sibling;null!==e;)nu(e,t,n),e=e.sibling}function ru(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ru(e,t,n),e=e.sibling;null!==e;)ru(e,t,n),e=e.sibling}function iu(e,t,n){for(var r,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var u=e,c=o,l=n,f=c;;)if(Xs(u,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(u=r,c=o.stateNode,8===u.nodeType?u.parentNode.removeChild(c):u.removeChild(c)):r.removeChild(o.stateNode)}else if(18===o.tag)i?(u=r,c=o.stateNode,8===u.nodeType?ai(u.parentNode,c):1===u.nodeType&&ai(u,c),Ut(u)):ai(r,o.stateNode);else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(Xs(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function au(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return Qs(3,t,t.return),$s(3,t),void Qs(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for("input"===e&&"radio"===r.type&&null!=r.name&&X(n,r),be(e,i),t=be(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?me(n,u):"dangerouslySetInnerHTML"===s?fe(n,u):"children"===s?he(n,u):b(n,s,u,t)}switch(e){case"input":J(n,r);break;case"textarea":ae(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ne(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ne(n,!!r.multiple,r.defaultValue,!0):ne(n,!!r.multiple,r.multiple?[]:"",!1))}n[li]=r}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void(null!==e&&e.memoizedState.isDehydrated&&Ut(t.stateNode.containerInfo));case 13:case 19:return void ou(t)}throw Error(a(163))}function ou(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new qs),t.forEach((function(t){var r=yc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function su(e,t,n){Ws=e,uu(e,t,n)}function uu(e,t,n){for(var r=0!==(1&e.mode);null!==Ws;){var i=Ws,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Us;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Bs;s=Us;var c=Bs;if(Us=o,(Bs=u)&&!c)for(Ws=i;null!==Ws;)u=(o=Ws).child,22===o.tag&&null!==o.memoizedState?fu(i):null!==u?(u.return=o,Ws=u):fu(i);for(;null!==a;)Ws=a,uu(a,t,n),a=a.sibling;Ws=i,Us=s,Bs=c}cu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ws=a):cu(e)}}function cu(e){for(;null!==Ws;){var t=Ws;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Bs||$s(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Bs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ui(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&oa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}oa(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(a(163))}Bs||512&t.flags&&Ys(t)}catch(d){dc(t,t.return,d)}}if(t===e){Ws=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ws=n;break}Ws=t.return}}function lu(e){for(;null!==Ws;){var t=Ws;if(t===e){Ws=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ws=n;break}Ws=t.return}}function fu(e){for(;null!==Ws;){var t=Ws;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{$s(4,t)}catch(u){dc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){dc(t,i,u)}}var a=t.return;try{Ys(t)}catch(u){dc(t,a,u)}break;case 5:var o=t.return;try{Ys(t)}catch(u){dc(t,o,u)}}}catch(u){dc(t,t.return,u)}if(t===e){Ws=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Ws=s;break}Ws=t.return}}var hu,du=Math.ceil,pu=k.ReactCurrentDispatcher,vu=k.ReactCurrentOwner,mu=k.ReactCurrentBatchConfig,yu=0,gu=null,bu=null,ku=0,wu=0,_u=wi(0),xu=0,Su=null,Eu=0,Cu=0,Iu=0,Tu=null,Nu=null,Ru=0,Pu=1/0,Au=!1,Ou=null,Du=null,Mu=!1,Lu=null,Fu=0,ju=0,Vu=null,zu=-1,Uu=0;function Bu(){return 0!==(6&yu)?Xe():-1!==zu?zu:zu=Xe()}function qu(e){return 0===(1&e.mode)?1:0!==(2&yu)&&0!==ku?ku&-ku:null!==zi.transition?(0===Uu&&(e=ct,0===(4194240&(ct<<=1))&&(ct=64),Uu=e),Uu):0!==(e=gt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function Wu(e,t,n){if(50<ju)throw ju=0,Vu=null,Error(a(185));var r=Ku(e,t);return null===r?null:(mt(r,t,n),0!==(2&yu)&&r===gu||(r===gu&&(0===(2&yu)&&(Cu|=t),4===xu&&Yu(r,ku)),Hu(r,n),1===t&&0===yu&&0===(1&e.mode)&&(Pu=Xe()+500,Li&&Vi())),r)}function Ku(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Hu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===gu?ku:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Li=!0,ji(e)}(Xu.bind(null,e)):ji(Xu.bind(null,e)),ri((function(){0===yu&&Vi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=gc(n,Gu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Gu(e,t){if(zu=-1,Uu=0,0!==(6&yu))throw Error(a(327));var n=e.callbackNode;if(fc()&&e.callbackNode!==n)return null;var r=ht(e,e===gu?ku:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ac(e,r);else{t=r;var i=yu;yu|=2;var o=rc();for(gu===e&&ku===t||(Pu=Xe()+500,tc(e,t));;)try{sc();break}catch(u){nc(e,u)}Hi(),pu.current=o,yu=i,null!==bu?t=0:(gu=null,ku=0,t=xu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=Qu(e,i))),1===t)throw n=Su,tc(e,0),Yu(e,r),Hu(e,Xe()),n;if(6===t)Yu(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ar(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ac(e,r))&&(0!==(o=pt(e))&&(r=o,t=Qu(e,o))),1===t))throw n=Su,tc(e,0),Yu(e,r),Hu(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:lc(e,Nu);break;case 3:if(Yu(e,r),(130023424&r)===r&&10<(t=Ru+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Bu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ei(lc.bind(null,e,Nu),t);break}lc(e,Nu);break;case 4:if(Yu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*du(r/1960))-r)){e.timeoutHandle=ei(lc.bind(null,e,Nu),r);break}lc(e,Nu);break;default:throw Error(a(329))}}}return Hu(e,Xe()),e.callbackNode===n?Gu.bind(null,e):null}function Qu(e,t){var n=Tu;return e.current.memoizedState.isDehydrated&&(tc(e,t).flags|=256),2!==(e=ac(e,t))&&(t=Nu,Nu=n,null!==t&&$u(t)),e}function $u(e){null===Nu?Nu=e:Nu.push.apply(Nu,e)}function Yu(e,t){for(t&=~Iu,t&=~Cu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function Xu(e){if(0!==(6&yu))throw Error(a(327));fc();var t=ht(e,0);if(0===(1&t))return Hu(e,Xe()),null;var n=ac(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=Qu(e,r))}if(1===n)throw n=Su,tc(e,0),Yu(e,t),Hu(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lc(e,Nu),Hu(e,Xe()),null}function Ju(e,t){var n=yu;yu|=1;try{return e(t)}finally{0===(yu=n)&&(Pu=Xe()+500,Li&&Vi())}}function Zu(e){null!==Lu&&0===Lu.tag&&0===(6&yu)&&fc();var t=yu;yu|=1;var n=mu.transition,r=gt;try{if(mu.transition=null,gt=1,e)return e()}finally{gt=r,mu.transition=n,0===(6&(yu=t))&&Vi()}}function ec(){wu=_u.current,_i(_u)}function tc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ti(n)),null!==bu)for(n=bu.return;null!==n;){var r=n;switch(Ca(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:Xa(),_i(Ci),_i(Ei),ro();break;case 5:Za(r);break;case 4:Xa();break;case 13:case 19:_i(eo);break;case 10:Gi(r.type._context);break;case 22:case 23:ec()}n=n.return}if(gu=e,bu=e=_c(e.current,null),ku=wu=t,xu=0,Su=null,Iu=Cu=Eu=0,Nu=Tu=null,null!==Xi){for(t=0;t<Xi.length;t++)if(null!==(r=(n=Xi[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Xi=null}return e}function nc(e,t){for(;;){var n=bu;try{if(Hi(),io.current=Jo,lo){for(var r=so.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}lo=!1}if(oo=0,co=uo=so=null,fo=!1,ho=0,vu.current=null,null===n||null===n.return){xu=1,Su=t,bu=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=ku,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=fs(s);if(null!==p){p.flags&=-257,hs(p,s,u,0,t),1&p.mode&&ls(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ls(o,l,t),ic();break e}c=Error(a(426))}else if(Na&&1&u.mode){var y=fs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),hs(y,s,u,0,t),ja(c);break e}}o=c,4!==xu&&(xu=2),null===Tu?Tu=[o]:Tu.push(o),c=ns(c,u),u=s;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t,ia(u,us(0,c,t));break e;case 1:o=c;var g=u.type,b=u.stateNode;if(0===(128&u.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Du||!Du.has(b)))){u.flags|=65536,t&=-t,u.lanes|=t,ia(u,cs(u,o,t));break e}}u=u.return}while(null!==u)}cc(n)}catch(k){t=k,bu===n&&null!==n&&(bu=n=n.return);continue}break}}function rc(){var e=pu.current;return pu.current=Jo,null===e?Jo:e}function ic(){0!==xu&&3!==xu&&2!==xu||(xu=4),null===gu||0===(268435455&Eu)&&0===(268435455&Cu)||Yu(gu,ku)}function ac(e,t){var n=yu;yu|=2;var r=rc();for(gu===e&&ku===t||tc(e,t);;)try{oc();break}catch(i){nc(e,i)}if(Hi(),yu=n,pu.current=r,null!==bu)throw Error(a(261));return gu=null,ku=0,xu}function oc(){for(;null!==bu;)uc(bu)}function sc(){for(;null!==bu&&!$e();)uc(bu)}function uc(e){var t=hu(e.alternate,e,wu);e.memoizedProps=e.pendingProps,null===t?cc(e):bu=t,vu.current=null}function cc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=vs(n,t,wu)))return void(bu=n)}else{if(null!==(n=zs(n,t)))return n.flags&=32767,void(bu=n);if(null===e)return xu=6,void(bu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(bu=t);bu=t=e}while(null!==t);0===xu&&(xu=5)}function lc(e,t){var n=gt,r=mu.transition;try{mu.transition=null,gt=1,function(e,t,n){do{fc()}while(null!==Lu);if(0!==(6&yu))throw Error(a(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===gu&&(bu=gu=null,ku=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Mu||(Mu=!0,gc(tt,(function(){return fc(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=mu.transition,mu.transition=null;var s=gt;gt=1;var u=yu;yu|=4,vu.current=null,function(e,t){if(fr(e=lr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jr={focusedElem:e,selectionRange:n},Ws=t;null!==Ws;)if(e=(t=Ws).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ws=e;else for(;null!==Ws;){t=Ws;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:Ui(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;if(1===k.nodeType)k.textContent="";else if(9===k.nodeType){var w=k.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(_){dc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Ws=e;break}Ws=t.return}v=Gs,Gs=!1}(e,r),function(e,t){for(Ws=t;null!==Ws;){var n=(t=Ws).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{iu(e,i,t);var a=i.alternate;null!==a&&(a.return=null),i.return=null}catch(S){dc(i,t,S)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,Ws=n;else for(;null!==Ws;){t=Ws;try{var o=t.flags;if(32&o&&he(t.stateNode,""),512&o){var s=t.alternate;if(null!==s){var u=s.ref;null!==u&&("function"===typeof u?u(null):u.current=null)}}if(8192&o)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(Ru=Xe())}break;case 22:var l=null!==t.memoizedState,f=t.alternate,h=null!==f&&null!==f.memoizedState;e:{i=l;for(var d=null,p=r=n=t;;){if(5===p.tag){if(null===d){d=p;var v=p.stateNode;if(i){var m=v.style;"function"===typeof m.setProperty?m.setProperty("display","none","important"):m.display="none"}else{var y=p.stateNode,g=p.memoizedProps.style,b=void 0!==g&&null!==g&&g.hasOwnProperty("display")?g.display:null;y.style.display=ve("display",b)}}}else if(6===p.tag)null===d&&(p.stateNode.nodeValue=i?"":p.memoizedProps);else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}if(l&&!h&&0!==(1&n.mode)){Ws=n;for(var k=n.child;null!==k;){for(n=Ws=k;null!==Ws;){var w=(r=Ws).child;switch(r.tag){case 0:case 11:case 14:case 15:Qs(4,r,r.return);break;case 1:Ks(r,r.return);var _=r.stateNode;if("function"===typeof _.componentWillUnmount){var x=r.return;try{_.props=r.memoizedProps,_.state=r.memoizedState,_.componentWillUnmount()}catch(S){dc(r,x,S)}}break;case 5:Ks(r,r.return);break;case 22:if(null!==r.memoizedState){lu(n);continue}}null!==w?(w.return=r,Ws=w):lu(n)}k=k.sibling}}}switch(4102&o){case 2:tu(t),t.flags&=-3;break;case 6:tu(t),t.flags&=-3,au(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,au(t.alternate,t);break;case 4:au(t.alternate,t)}}catch(S){dc(t,t.return,S)}if(null!==(n=t.sibling)){n.return=t.return,Ws=n;break}Ws=t.return}}}(e,r),hr(Jr),Jr=null,e.current=r,su(r,e,i),Ye(),yu=u,gt=s,mu.transition=o}else e.current=r;if(Mu&&(Mu=!1,Lu=e,Fu=i),0===(o=e.pendingLanes)&&(Du=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Hu(e,Xe()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(Au)throw Au=!1,e=Ou,Ou=null,e;0!==(1&Fu)&&0!==e.tag&&fc(),0!==(1&(o=e.pendingLanes))?e===Vu?ju++:(ju=0,Vu=e):ju=0,Vi()}(e,t,n)}finally{mu.transition=r,gt=n}return null}function fc(){if(null!==Lu){var e=bt(Fu),t=mu.transition,n=gt;try{if(mu.transition=null,gt=16>e?16:e,null===Lu)var r=!1;else{if(e=Lu,Lu=null,Fu=0,0!==(6&yu))throw Error(a(331));var i=yu;for(yu|=4,Ws=e.current;null!==Ws;){var o=Ws,s=o.child;if(0!==(16&Ws.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Ws=l;null!==Ws;){var f=Ws;switch(f.tag){case 0:case 11:case 15:Qs(8,f,o)}var h=f.child;if(null!==h)h.return=f,Ws=h;else for(;null!==Ws;){var d=(f=Ws).sibling,p=f.return;if(Js(f),f===l){Ws=null;break}if(null!==d){d.return=p,Ws=d;break}Ws=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ws=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Ws=s;else e:for(;null!==Ws;){if(0!==(2048&(o=Ws).flags))switch(o.tag){case 0:case 11:case 15:Qs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ws=g;break e}Ws=o.return}}var b=e.current;for(Ws=b;null!==Ws;){var k=(s=Ws).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,Ws=k;else e:for(s=b;null!==Ws;){if(0!==(2048&(u=Ws).flags))try{switch(u.tag){case 0:case 11:case 15:$s(9,u)}}catch(_){dc(u,u.return,_)}if(u===s){Ws=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Ws=w;break e}Ws=u.return}}if(yu=i,Vi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{gt=n,mu.transition=t}}return!1}function hc(e,t,n){na(e,t=us(0,t=ns(n,t),1)),t=Bu(),null!==(e=Ku(e,1))&&(mt(e,1,t),Hu(e,t))}function dc(e,t,n){if(3===e.tag)hc(e,e,n);else for(;null!==t;){if(3===t.tag){hc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Du||!Du.has(r))){na(t,e=cs(t,e=ns(n,e),1)),e=Bu(),null!==(t=Ku(t,1))&&(mt(t,1,e),Hu(t,e));break}}t=t.return}}function pc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Bu(),e.pingedLanes|=e.suspendedLanes&n,gu===e&&(ku&n)===n&&(4===xu||3===xu&&(130023424&ku)===ku&&500>Xe()-Ru?tc(e,0):Iu|=n),Hu(e,t)}function vc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=Bu();null!==(e=Ku(e,t))&&(mt(e,t,n),Hu(e,n))}function mc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),vc(e,n)}function yc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),vc(e,n)}function gc(e,t){return Ge(e,t)}function bc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kc(e,t,n,r){return new bc(e,t,n,r)}function wc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function _c(e,t){var n=e.alternate;return null===n?((n=kc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function xc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)wc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Sc(n.children,i,o,t);case S:s=8,i|=8;break;case E:return(e=kc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case N:return(e=kc(13,n,t,i)).elementType=N,e.lanes=o,e;case R:return(e=kc(19,n,t,i)).elementType=R,e.lanes=o,e;case O:return Ec(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case I:s=9;break e;case T:s=11;break e;case P:s=14;break e;case A:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=kc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Sc(e,t,n,r){return(e=kc(7,e,r,t)).lanes=n,e}function Ec(e,t,n,r){return(e=kc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={},e}function Cc(e,t,n){return(e=kc(6,e,null,t)).lanes=n,e}function Ic(e,t,n){return(t=kc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Tc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Nc(e,t,n,r,i,a,o,s,u){return e=new Tc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=kc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},Zi(a),e}function Rc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Pc(e){if(!e)return Si;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Ai(e,n,t)}return t}function Ac(e,t,n,r,i,a,o,s,u){return(e=Nc(n,r,!0,e,0,a,0,s,u)).context=Pc(null),n=e.current,(a=ta(r=Bu(),i=qu(n))).callback=void 0!==t&&null!==t?t:null,na(n,a),e.current.lanes=i,mt(e,i,r),Hu(e,r),e}function Oc(e,t,n,r){var i=t.current,a=Bu(),o=qu(i);return n=Pc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ta(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),na(i,t),null!==(e=Wu(i,o,a))&&ra(e,i,o),o}function Dc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Mc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Lc(e,t){Mc(e,t),(e=e.alternate)&&Mc(e,t)}hu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)ys=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ys=!1,function(e,t,n){switch(t.tag){case 3:Is(t),Fa();break;case 5:Ja(t);break;case 1:Ni(t.type)&&Oi(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xi(Bi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xi(eo,1&eo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ps(e,t,n):(xi(eo,1&eo.current),null!==(e=Vs(e,t,n))?e.sibling:null);xi(eo,1&eo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return js(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(eo,eo.current),r)break;return null;case 22:case 23:return t.lanes=0,_s(e,t,n)}return Vs(e,t,n)}(e,t,n);ys=0!==(131072&e.flags)}else ys=!1,Na&&0!==(1048576&t.flags)&&Sa(t,ya,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ti(t,Ei.current);$i(t,n),i=yo(null,t,r,e,i,n);var o=go();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(o=!0,Oi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Zi(t),i.updater=ca,t.stateNode=i,i._reactInternals=t,da(t,r,e,n),t=Cs(null,t,r,!0,o,n)):(t.tag=0,Na&&o&&Ea(t),gs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return wc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===P)return 14}return 2}(r),e=Ui(r,e),i){case 0:t=Ss(null,t,r,e,n);break e;case 1:t=Es(null,t,r,e,n);break e;case 11:t=bs(null,t,r,e,n);break e;case 14:t=ks(null,t,r,Ui(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:Ui(r,i),n);case 1:return r=t.type,i=t.pendingProps,Es(e,t,r,i=t.elementType===r?i:Ui(r,i),n);case 3:e:{if(Is(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ea(e,t),aa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ts(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Ts(e,t,r,n,i=Error(a(424)));break e}for(Ta=oi(t.stateNode.containerInfo.firstChild),Ia=t,Na=!0,Ra=null,n=Wa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Fa(),r===i){t=Vs(e,t,n);break e}gs(e,t,r,n)}t=t.child}return t;case 5:return Ja(t),null===e&&Da(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Zr(r,i)?s=null:null!==o&&Zr(r,o)&&(t.flags|=32),xs(e,t),gs(e,t,s,n),t.child;case 6:return null===e&&Da(t),null;case 13:return Ps(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=qa(t,null,r,n):gs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,bs(e,t,r,i=t.elementType===r?i:Ui(r,i),n);case 7:return gs(e,t,t.pendingProps,n),t.child;case 8:case 12:return gs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,xi(Bi,r._currentValue),r._currentValue=s,null!==o)if(ar(o.value,s)){if(o.children===i.children&&!Ci.current){t=Vs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ta(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Qi(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Qi(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}gs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,$i(t,n),r=r(i=Yi(i)),t.flags|=1,gs(e,t,r,n),t.child;case 14:return i=Ui(r=t.type,t.pendingProps),ks(e,t,r,i=Ui(r.type,i),n);case 15:return ws(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ui(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ni(r)?(e=!0,Oi(t)):e=!1,$i(t,n),fa(t,r,i),da(t,r,i,n),Cs(null,t,r,!0,e,n);case 19:return js(e,t,n);case 22:return _s(e,t,n)}throw Error(a(156,t.tag))};var Fc="function"===typeof reportError?reportError:function(e){console.error(e)};function jc(e){this._internalRoot=e}function Vc(e){this._internalRoot=e}function zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Uc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Bc(){}function qc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Dc(o);s.call(e)}}Oc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Dc(o);a.call(e)}}var o=Ac(t,r,e,0,null,!1,0,"",Bc);return e._reactRootContainer=o,e[fi]=o.current,zr(8===e.nodeType?e.parentNode:e),Zu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Dc(u);s.call(e)}}var u=Nc(e,0,!1,null,0,!1,0,"",Bc);return e._reactRootContainer=u,e[fi]=u.current,zr(8===e.nodeType?e.parentNode:e),Zu((function(){Oc(t,u,n,r)})),u}(n,t,e,i,r);return Dc(o)}Vc.prototype.render=jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Oc(e,t,null,null)},Vc.prototype.unmount=jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zu((function(){Oc(null,e,null,null)})),t[fi]=null}},Vc.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Lt(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),Hu(t,Xe()),0===(6&yu)&&(Pu=Xe()+500,Vi()))}break;case 13:var r=Bu();Zu((function(){return Wu(e,1,r)})),Lc(e,1)}},wt=function(e){13===e.tag&&(Wu(e,134217728,Bu()),Lc(e,134217728))},_t=function(e){if(13===e.tag){var t=Bu(),n=qu(e);Wu(e,n,t),Lc(e,n)}},xt=function(){return gt},St=function(e,t){var n=gt;try{return gt=e,t()}finally{gt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=gi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=Ju,Ne=Zu;var Wc={usingClientEntryPoint:!1,Events:[mi,yi,gi,Ce,Ie,Ju]},Kc={findFiberByHostInstance:vi,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},Hc={bundleType:Kc.bundleType,version:Kc.version,rendererPackageName:Kc.rendererPackageName,rendererConfig:Kc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:Kc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{it=Gc.inject(Hc),at=Gc}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!zc(t))throw Error(a(200));return Rc(e,t,null,n)},t.createRoot=function(e,t){if(!zc(e))throw Error(a(299));var n=!1,r="",i=Fc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Nc(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,zr(8===e.nodeType?e.parentNode:e),new jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return Zu(e)},t.hydrate=function(e,t,n){if(!Uc(t))throw Error(a(200));return qc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!zc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Fc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Ac(t,null,e,1,null!=n?n:null,i,0,o,s),e[fi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Vc(t)},t.render=function(e,t,n){if(!Uc(t))throw Error(a(200));return qc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Uc(e))throw Error(a(40));return!!e._reactRootContainer&&(Zu((function(){qc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=Ju,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Uc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return qc(e,t,n,!1,r)},t.version="18.0.0-fc46dba67-20220329"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,s=60109,u=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,m=60117,y=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),a=b("react.strict_mode"),o=b("react.profiler"),s=b("react.provider"),u=b("react.context"),c=b("react.forward_ref"),l=b("react.suspense"),f=b("react.suspense_list"),h=b("react.memo"),d=b("react.lazy"),p=b("react.block"),v=b("react.server.block"),m=b("react.fundamental"),y=b("react.debug_trace_mode"),g=b("react.legacy_hidden")}function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case h:case s:return e;default:return t}}case r:return t}}}},441:function(e,t,n){"use strict";n(372)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=b.prototype=new g;k.constructor=b,v(k,y.prototype),k.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+T(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+T(s=e[c],c);u+=N(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,l=a+T(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function R(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},O={transition:null},D={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:O,ReactCurrentOwner:x};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)_.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.0.0-fc46dba67-20220329"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(P){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new T(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return R()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var b={};u(b,a,(function(){return this}));var k=Object.getPrototypeOf,w=k&&k(k(N([])));w&&w!==n&&r.call(w,a)&&(b=w);var _=g.prototype=m.prototype=Object.create(b);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:R}}function R(){return{value:t,done:!0}}return y.prototype=g,u(_,"constructor",g),u(g,"constructor",y),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},x(S.prototype),u(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(_),u(_,s,"Generator"),u(_,a,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,O(_);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,g(C),C=-1),p=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,E=null,C=-1,I=5,T=-1;function N(){return!(t.unstable_now()-T<I)}function R(){if(null!==E){var e=t.unstable_now();T=e;var n=!0;try{n=E(!0,e)}finally{n?x():(S=!1,E=null)}}else S=!1}if("function"===typeof b)x=function(){b(R)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,A=P.port2;P.port1.onmessage=R,x=function(){A.postMessage(null)}}else x=function(){y(R,0)};function O(e){E=e,S||(S=!0,x())}function D(e,n){C=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(C),C=-1):m=!0,D(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,O(_))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".f25cc18b.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="memento:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/memento/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkmemento=self.webpackChunkmemento||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Aa},SDK_VERSION:function(){return Bo},_DEFAULT_ENTRY_NAME:function(){return No},_addComponent:function(){return Oo},_addOrOverwriteComponent:function(){return Do},_apps:function(){return Po},_clearComponents:function(){return jo},_components:function(){return Ao},_getProvider:function(){return Lo},_registerComponent:function(){return Mo},_removeServiceInstance:function(){return Fo},deleteApp:function(){return Ho},getApp:function(){return Wo},getApps:function(){return Ko},initializeApp:function(){return qo},onLog:function(){return $o},registerVersion:function(){return Qo},setLogLevel:function(){return Yo}});var t=n(791),r=n.t(t,2),i=n(164);function a(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(LF){return void n(LF)}s.done?t(u):Promise.resolve(u).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,u,"next",e)}function u(e){a(o,r,i,s,u,"throw",e)}s(void 0)}))}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l=n(757),f=n.n(l);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function v(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=v(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function m(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=v(e))&&(r&&(r+=" "),r+=t);return r}function y(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}function g(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var b=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},k=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,w=b((function(e){return k.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var _=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),x=Math.abs,S=String.fromCharCode,E=Object.assign;function C(e){return e.trim()}function I(e,t,n){return e.replace(t,n)}function T(e,t){return e.indexOf(t)}function N(e,t){return 0|e.charCodeAt(t)}function R(e,t,n){return e.slice(t,n)}function P(e){return e.length}function A(e){return e.length}function O(e,t){return t.push(e),e}var D=1,M=1,L=0,F=0,j=0,V="";function z(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:D,column:M,length:o,return:""}}function U(e,t){return E(z("",null,null,"",null,null,0),e,{length:-e.length},t)}function B(){return j=F>0?N(V,--F):0,M--,10===j&&(M=1,D--),j}function q(){return j=F<L?N(V,F++):0,M++,10===j&&(M=1,D++),j}function W(){return N(V,F)}function K(){return F}function H(e,t){return R(V,e,t)}function G(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Q(e){return D=M=1,L=P(V=e),F=0,[]}function $(e){return V="",e}function Y(e){return C(H(F-1,Z(91===e?e+2:40===e?e+1:e)))}function X(e){for(;(j=W())&&j<33;)q();return G(e)>2||G(j)>3?"":" "}function J(e,t){for(;--t&&q()&&!(j<48||j>102||j>57&&j<65||j>70&&j<97););return H(e,K()+(t<6&&32==W()&&32==q()))}function Z(e){for(;q();)switch(j){case e:return F;case 34:case 39:34!==e&&39!==e&&Z(j);break;case 40:41===e&&Z(e);break;case 92:q()}return F}function ee(e,t){for(;q()&&e+j!==57&&(e+j!==84||47!==W()););return"/*"+H(t,F-1)+"*"+S(47===e?e:q())}function te(e){for(;!G(W());)q();return H(e,F)}var ne="-ms-",re="-moz-",ie="-webkit-",ae="comm",oe="rule",se="decl",ue="@keyframes";function ce(e,t){for(var n="",r=A(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function le(e,t,n,r){switch(e.type){case"@import":case se:return e.return=e.return||e.value;case ae:return"";case ue:return e.return=e.value+"{"+ce(e.children,r)+"}";case oe:e.value=e.props.join(",")}return P(n=ce(e.children,r))?e.return=e.value+"{"+n+"}":""}function fe(e,t){switch(function(e,t){return(((t<<2^N(e,0))<<2^N(e,1))<<2^N(e,2))<<2^N(e,3)}(e,t)){case 5103:return ie+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ie+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ie+e+re+e+ne+e+e;case 6828:case 4268:return ie+e+ne+e+e;case 6165:return ie+e+ne+"flex-"+e+e;case 5187:return ie+e+I(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return ie+e+ne+"flex-item-"+I(e,/flex-|-self/,"")+e;case 4675:return ie+e+ne+"flex-line-pack"+I(e,/align-content|flex-|-self/,"")+e;case 5548:return ie+e+ne+I(e,"shrink","negative")+e;case 5292:return ie+e+ne+I(e,"basis","preferred-size")+e;case 6060:return ie+"box-"+I(e,"-grow","")+ie+e+ne+I(e,"grow","positive")+e;case 4554:return ie+I(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return I(I(I(e,/(zoom-|grab)/,ie+"$1"),/(image-set)/,ie+"$1"),e,"")+e;case 5495:case 3959:return I(e,/(image-set\([^]*)/,ie+"$1$`$1");case 4968:return I(I(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+ie+e+e;case 4095:case 3583:case 4068:case 2532:return I(e,/(.+)-inline(.+)/,ie+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(P(e)-1-t>6)switch(N(e,t+1)){case 109:if(45!==N(e,t+4))break;case 102:return I(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+re+(108==N(e,t+3)?"$3":"$2-$3"))+e;case 115:return~T(e,"stretch")?fe(I(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==N(e,t+1))break;case 6444:switch(N(e,P(e)-3-(~T(e,"!important")&&10))){case 107:return I(e,":",":"+ie)+e;case 101:return I(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ie+(45===N(e,14)?"inline-":"")+"box$3$1"+ie+"$2$3$1"+ne+"$2box$3")+e}break;case 5936:switch(N(e,t+11)){case 114:return ie+e+ne+I(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ie+e+ne+I(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ie+e+ne+I(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ie+e+ne+e+e}return e}function he(e){return $(de("",null,null,null,[""],e=Q(e),0,[0],e))}function de(e,t,n,r,i,a,o,s,u){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,m=1,y=1,g=0,b="",k=i,w=a,_=r,x=b;m;)switch(p=g,g=q()){case 40:if(108!=p&&58==x.charCodeAt(f-1)){-1!=T(x+=I(Y(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:x+=Y(g);break;case 9:case 10:case 13:case 32:x+=X(p);break;case 92:x+=J(K()-1,7);continue;case 47:switch(W()){case 42:case 47:O(ve(ee(q(),K()),t,n),u);break;default:x+="/"}break;case 123*v:s[c++]=P(x)*y;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+l:d>0&&P(x)-f&&O(d>32?me(x+";",r,n,f-1):me(I(x," ","")+";",r,n,f-2),u);break;case 59:x+=";";default:if(O(_=pe(x,t,n,c,l,i,s,b,k=[],w=[],f),a),123===g)if(0===l)de(x,t,_,_,k,a,f,s,w);else switch(h){case 100:case 109:case 115:de(e,_,_,r&&O(pe(e,_,_,0,0,i,s,b,i,k=[],f),w),i,w,f,s,r?k:w);break;default:de(x,_,_,_,[""],w,0,s,w)}}c=l=d=0,v=y=1,b=x="",f=o;break;case 58:f=1+P(x),d=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==B())continue;switch(x+=S(g),g*v){case 38:y=l>0?1:(x+="\f",-1);break;case 44:s[c++]=(P(x)-1)*y,y=1;break;case 64:45===W()&&(x+=Y(q())),h=W(),l=f=P(b=x+=te(K())),g++;break;case 45:45===p&&2==P(x)&&(v=0)}}return a}function pe(e,t,n,r,i,a,o,s,u,c,l){for(var f=i-1,h=0===i?a:[""],d=A(h),p=0,v=0,m=0;p<r;++p)for(var y=0,g=R(e,f+1,f=x(v=o[p])),b=e;y<d;++y)(b=C(v>0?h[y]+" "+g:I(g,/&\f/g,h[y])))&&(u[m++]=b);return z(e,t,n,0===i?oe:s,u,c,l)}function ve(e,t,n){return z(e,t,n,ae,S(j),R(e,2,-2),0)}function me(e,t,n,r){return z(e,t,n,se,R(e,0,r),R(e,r+1,-1),r)}var ye=function(e,t,n){for(var r=0,i=0;r=i,i=W(),38===r&&12===i&&(t[n]=1),!G(i);)q();return H(e,F)},ge=function(e,t){return $(function(e,t){var n=-1,r=44;do{switch(G(r)){case 0:38===r&&12===W()&&(t[n]=1),e[n]+=ye(F-1,t,n);break;case 2:e[n]+=Y(r);break;case 4:if(44===r){e[++n]=58===W()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=S(r)}}while(r=q());return e}(Q(e),t))},be=new WeakMap,ke=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||be.get(n))&&!r){be.set(e,!0);for(var i=[],a=ge(t,i),o=n.props,s=0,u=0;s<a.length;s++)for(var c=0;c<o.length;c++,u++)e.props[u]=i[s]?a[s].replace(/&\f/g,o[c]):o[c]+" "+a[s]}}},we=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},_e=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case se:e.return=fe(e.value,e.length);break;case ue:return ce([U(e,{value:I(e.value,"@","@"+ie)})],r);case oe:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ce([U(e,{props:[I(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return ce([U(e,{props:[I(t,/:(plac\w+)/,":-webkit-input-$1")]}),U(e,{props:[I(t,/:(plac\w+)/,":-moz-$1")]}),U(e,{props:[I(t,/:(plac\w+)/,ne+"input-$1")]})],r)}return""}))}}],xe=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||_e;var i,a,o={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;s.push(e)}));var u,c,l=[le,(c=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=A(e);return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}([ke,we].concat(r,l));a=function(e,t,n,r){u=n,function(e){ce(he(e),f)}(e?e+"{"+t.styles+"}":t.styles),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new _({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(s),h};var Se=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},Ee={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ce=/[A-Z]|^ms/g,Ie=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Te=function(e){return 45===e.charCodeAt(1)},Ne=function(e){return null!=e&&"boolean"!==typeof e},Re=b((function(e){return Te(e)?e:e.replace(Ce,"-$&").toLowerCase()})),Pe=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Ie,(function(e,t,n){return Oe={name:t,styles:n,next:Oe},t}))}return 1===Ee[e]||Te(e)||"number"!==typeof t||0===t?t:t+"px"};function Ae(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Oe={name:n.name,styles:n.styles,next:Oe},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Oe={name:r.name,styles:r.styles,next:Oe},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ae(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":Ne(o)&&(r+=Re(a)+":"+Pe(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=Ae(e,t,o);switch(a){case"animation":case"animationName":r+=Re(a)+":"+s+";";break;default:r+=a+"{"+s+"}"}}else for(var u=0;u<o.length;u++)Ne(o[u])&&(r+=Re(a)+":"+Pe(a,o[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Oe,a=n(e);return Oe=i,Ae(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var Oe,De=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Me=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Oe=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=Ae(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=Ae(n,t,e[o]),r&&(i+=a[o]);De.lastIndex=0;for(var s,u="";null!==(s=De.exec(i));)u+="-"+s[1];return{name:Se(i)+u,styles:i,next:Oe}},Le=(0,t.createContext)("undefined"!==typeof HTMLElement?xe({key:"css"}):null);Le.Provider;var Fe=function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(Le);return e(n,i,r)}))},je=(0,t.createContext)({});r.useInsertionEffect&&r.useInsertionEffect;function Ve(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var ze=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Ue=function(e,t,n){ze(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}},Be=w,qe=function(e){return"theme"!==e},We=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?Be:qe},Ke=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},He=r.useInsertionEffect?r.useInsertionEffect:function(e){e()};var Ge=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;ze(t,n,r);He((function(){return Ue(t,n,r)}));return null},Qe=function e(n,r){var i,a,o=n.__emotion_real===n,s=o&&n.__emotion_base||n;void 0!==r&&(i=r.label,a=r.target);var u=Ke(n,r,o),c=u||We(s),l=!c("as");return function(){var f=arguments,h=o&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&h.push("label:"+i+";"),null==f[0]||void 0===f[0].raw)h.push.apply(h,f);else{0,h.push(f[0][0]);for(var d=f.length,v=1;v<d;v++)h.push(f[v],f[0][v])}var m=Fe((function(e,n,r){var i=l&&e.as||s,o="",f=[],d=e;if(null==e.theme){for(var p in d={},e)d[p]=e[p];d.theme=(0,t.useContext)(je)}"string"===typeof e.className?o=Ve(n.registered,f,e.className):null!=e.className&&(o=e.className+" ");var v=Me(h.concat(f),n.registered,d);o+=n.key+"-"+v.name,void 0!==a&&(o+=" "+a);var m=l&&void 0===u?We(i):c,y={};for(var g in e)l&&"as"===g||m(g)&&(y[g]=e[g]);return y.className=o,y.ref=r,(0,t.createElement)(t.Fragment,null,(0,t.createElement)(Ge,{cache:n,serialized:v,isStringTag:"string"===typeof i}),(0,t.createElement)(i,y))}));return m.displayName=void 0!==i?i:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",m.defaultProps=n.defaultProps,m.__emotion_real=m,m.__emotion_base=s,m.__emotion_styles=h,m.__emotion_forwardProp=u,Object.defineProperty(m,"toString",{value:function(){return"."+a}}),m.withComponent=function(t,n){return e(t,p({},r,n,{shouldForwardProp:Ke(m,n,!0)})).apply(void 0,h)},m}},$e=Qe.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){$e[e]=$e(e)}));var Ye=$e;function Xe(e,t){return Ye(e,t)}function Je(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function Ze(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?p({},e):e;return Je(e)&&Je(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(Je(t[i])&&i in e&&Je(e[i])?r[i]=Ze(e[i],t[i],n):r[i]=t[i])})),r}var et=["values","unit","step"];function tt(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,s=d(e,et),u=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return p({},e,h({},t.key,t.val))}),{})}(n),c=Object.keys(u);function l(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function v(e,t){var r=c.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[c[r]]?n[c[r]]:t)-o/100).concat(i,")")}return p({keys:c,values:u,up:l,down:f,between:v,only:function(e){return c.indexOf(e)+1<c.length?v(e,c[c.indexOf(e)+1]):l(e)},not:function(e){var t=c.indexOf(e);return 0===t?l(c[1]):t===c.length-1?f(c[t]):v(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},s)}var nt={borderRadius:4},rt={xs:0,sm:600,md:900,lg:1200,xl:1536},it={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(rt[e],"px)")}};function at(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||it;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||it;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||rt).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function ot(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function st(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function ut(e){var t,n=e.values,r=e.breakpoints,i=e.base||function(e,t){if("object"!==typeof e)return{};var n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((function(t,r){r<e.length&&(n[t]=!0)})):r.forEach((function(t){null!=e[t]&&(n[t]=!0)})),n}(n,r),a=Object.keys(i);return 0===a.length?n:a.reduce((function(e,r,i){return Array.isArray(n)?(e[r]=null!=n[i]?n[i]:n[t],t=i):(e[r]=null!=n[r]?n[r]:n[t]||n,t=r),e}),{})}function ct(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function lt(e){if("string"!==typeof e)throw new Error(ct(7));return e.charAt(0).toUpperCase()+e.slice(1)}function ft(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}function ht(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:ft(e,n)||i,t&&(r=t(r)),r}var dt=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=ft(e.theme,i)||{};return at(e,n,(function(e){var n=ht(o,a,e);return e===n&&"string"===typeof e&&(n=ht(o,a,"".concat(t).concat("default"===e?"":lt(e)),e)),!1===r?n:h({},r,n)}))};return o.propTypes={},o.filterProps=[t],o};var pt=function(e,t){return t?Ze(e,t,{clone:!1}):e};var vt={m:"margin",p:"padding"},mt={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},yt={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},gt=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!yt[e])return[e];e=yt[e]}var t=c(e.split(""),2),n=t[0],r=t[1],i=vt[n],a=mt[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),bt=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],kt=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],wt=[].concat(bt,kt);function _t(e,t,n,r){var i=ft(e,t)||n;return"number"===typeof i?function(e){return"string"===typeof e?e:i*e}:Array.isArray(i)?function(e){return"string"===typeof e?e:i[e]}:"function"===typeof i?i:function(){}}function xt(e){return _t(e,"spacing",8)}function St(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function Et(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=St(t,n),e}),{})}}(gt(n),r);return at(e,e[n],i)}function Ct(e,t){var n=xt(e.theme);return Object.keys(e).map((function(r){return Et(e,t,r,n)})).reduce(pt,{})}function It(e){return Ct(e,bt)}function Tt(e){return Ct(e,kt)}function Nt(e){return Ct(e,wt)}It.propTypes={},It.filterProps=bt,Tt.propTypes={},Tt.filterProps=kt,Nt.propTypes={},Nt.filterProps=wt;var Rt=Nt;function Pt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=xt({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var At=["breakpoints","palette","spacing","shape"];var Ot=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,s=void 0===o?{}:o,u=d(e,At),c=tt(n),l=Pt(a),f=Ze({breakpoints:c,direction:"ltr",components:{},palette:p({mode:"light"},i),spacing:l,shape:p({},nt,s)},u),h=arguments.length,v=new Array(h>1?h-1:0),m=1;m<h;m++)v[m-1]=arguments[m];return f=v.reduce((function(e,t){return Ze(e,t)}),f)},Dt=["variant"];function Mt(e){return 0===e.length}function Lt(e){var t=e.variant,n=d(e,Dt),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?Mt(r)?e[t]:lt(e[t]):"".concat(Mt(r)?t:lt(t)).concat(lt(e[t].toString()))})),r}var Ft=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?pt(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function jt(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var Vt=dt({prop:"border",themeKey:"borders",transform:jt}),zt=dt({prop:"borderTop",themeKey:"borders",transform:jt}),Ut=dt({prop:"borderRight",themeKey:"borders",transform:jt}),Bt=dt({prop:"borderBottom",themeKey:"borders",transform:jt}),qt=dt({prop:"borderLeft",themeKey:"borders",transform:jt}),Wt=dt({prop:"borderColor",themeKey:"palette"}),Kt=dt({prop:"borderTopColor",themeKey:"palette"}),Ht=dt({prop:"borderRightColor",themeKey:"palette"}),Gt=dt({prop:"borderBottomColor",themeKey:"palette"}),Qt=dt({prop:"borderLeftColor",themeKey:"palette"}),$t=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=_t(e.theme,"shape.borderRadius",4);return at(e,e.borderRadius,(function(e){return{borderRadius:St(t,e)}}))}return null};$t.propTypes={},$t.filterProps=["borderRadius"];var Yt=Ft(Vt,zt,Ut,Bt,qt,Wt,Kt,Ht,Gt,Qt,$t),Xt=Ft(dt({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),dt({prop:"display"}),dt({prop:"overflow"}),dt({prop:"textOverflow"}),dt({prop:"visibility"}),dt({prop:"whiteSpace"})),Jt=Ft(dt({prop:"flexBasis"}),dt({prop:"flexDirection"}),dt({prop:"flexWrap"}),dt({prop:"justifyContent"}),dt({prop:"alignItems"}),dt({prop:"alignContent"}),dt({prop:"order"}),dt({prop:"flex"}),dt({prop:"flexGrow"}),dt({prop:"flexShrink"}),dt({prop:"alignSelf"}),dt({prop:"justifyItems"}),dt({prop:"justifySelf"})),Zt=function(e){if(void 0!==e.gap&&null!==e.gap){var t=_t(e.theme,"spacing",8);return at(e,e.gap,(function(e){return{gap:St(t,e)}}))}return null};Zt.propTypes={},Zt.filterProps=["gap"];var en=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=_t(e.theme,"spacing",8);return at(e,e.columnGap,(function(e){return{columnGap:St(t,e)}}))}return null};en.propTypes={},en.filterProps=["columnGap"];var tn=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=_t(e.theme,"spacing",8);return at(e,e.rowGap,(function(e){return{rowGap:St(t,e)}}))}return null};tn.propTypes={},tn.filterProps=["rowGap"];var nn=Ft(Zt,en,tn,dt({prop:"gridColumn"}),dt({prop:"gridRow"}),dt({prop:"gridAutoFlow"}),dt({prop:"gridAutoColumns"}),dt({prop:"gridAutoRows"}),dt({prop:"gridTemplateColumns"}),dt({prop:"gridTemplateRows"}),dt({prop:"gridTemplateAreas"}),dt({prop:"gridArea"})),rn=Ft(dt({prop:"position"}),dt({prop:"zIndex",themeKey:"zIndex"}),dt({prop:"top"}),dt({prop:"right"}),dt({prop:"bottom"}),dt({prop:"left"})),an=Ft(dt({prop:"color",themeKey:"palette"}),dt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),dt({prop:"backgroundColor",themeKey:"palette"})),on=dt({prop:"boxShadow",themeKey:"shadows"});function sn(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var un=dt({prop:"width",transform:sn}),cn=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return at(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||rt[t]||sn(t)}}))}return null};cn.filterProps=["maxWidth"];var ln=dt({prop:"minWidth",transform:sn}),fn=dt({prop:"height",transform:sn}),hn=dt({prop:"maxHeight",transform:sn}),dn=dt({prop:"minHeight",transform:sn}),pn=(dt({prop:"size",cssProperty:"width",transform:sn}),dt({prop:"size",cssProperty:"height",transform:sn}),Ft(un,cn,ln,fn,hn,dn,dt({prop:"boxSizing"}))),vn=dt({prop:"fontFamily",themeKey:"typography"}),mn=dt({prop:"fontSize",themeKey:"typography"}),yn=dt({prop:"fontStyle",themeKey:"typography"}),gn=dt({prop:"fontWeight",themeKey:"typography"}),bn=dt({prop:"letterSpacing"}),kn=dt({prop:"textTransform"}),wn=dt({prop:"lineHeight"}),_n=dt({prop:"textAlign"}),xn=Ft(dt({prop:"typography",cssProperty:!1,themeKey:"typography"}),vn,mn,yn,gn,bn,wn,_n,kn),Sn={borders:Yt.filterProps,display:Xt.filterProps,flexbox:Jt.filterProps,grid:nn.filterProps,positions:rn.filterProps,palette:an.filterProps,shadows:on.filterProps,sizing:pn.filterProps,spacing:Rt.filterProps,typography:xn.filterProps},En={borders:Yt,display:Xt,flexbox:Jt,grid:nn,positions:rn,palette:an,shadows:on,sizing:pn,spacing:Rt,typography:xn},Cn=Object.keys(Sn).reduce((function(e,t){return Sn[t].forEach((function(n){e[n]=En[t]})),e}),{});function In(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}function Tn(e,t){return"function"===typeof e?e(t):e}var Nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En,t=Object.keys(e).reduce((function(t,n){return e[n].filterProps.forEach((function(r){t[r]=e[n]})),t}),{});function n(e,n,r){var i,a=(h(i={},e,n),h(i,"theme",r),i),o=t[e];return o?o(a):h({},e,n)}function r(e){var i=e||{},a=i.sx,o=i.theme,s=void 0===o?{}:o;if(!a)return null;function u(e){var i=e;if("function"===typeof e)i=e(s);else if("object"!==typeof e)return e;if(!i)return null;var a=ot(s.breakpoints),o=Object.keys(a),u=a;return Object.keys(i).forEach((function(e){var a=Tn(i[e],s);if(null!==a&&void 0!==a)if("object"===typeof a)if(t[e])u=pt(u,n(e,a,s));else{var o=at({theme:s},a,(function(t){return h({},e,t)}));In(o,a)?u[e]=r({sx:a,theme:s}):u=pt(u,o)}else u=pt(u,n(e,a,s))})),st(o,u)}return Array.isArray(a)?a.map(u):u(a)}return r}();Nn.filterProps=["sx"];var Rn=Nn,Pn=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],An=["theme"],On=["theme"];function Dn(e){return 0===Object.keys(e).length}var Mn=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},Ln=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=Lt(e.props);r[t]=e.style})),r},Fn=function(e,t,n,r){var i,a,o=e.ownerState,s=void 0===o?{}:o,u=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){s[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&u.push(t[Lt(n.props)])})),u};function jn(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var Vn=Ot();function zn(e,t,n){var r;return p({toolbar:(r={minHeight:56},h(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),h(r,e.up("sm"),{minHeight:64}),r)},n)}function Un(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Bn(e){if(e.type)return e;if("#"===e.charAt(0))return Bn(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(ct(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(ct(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function qn(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function Wn(e){var t="hsl"===(e=Bn(e)).type?Bn(function(e){var t=(e=Bn(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",u=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(s+="a",u.push(t[3])),qn({type:s,values:u})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Kn(e,t){return e=Bn(e),t=Un(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,qn(e)}function Hn(e,t){if(e=Bn(e),t=Un(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return qn(e)}function Gn(e,t){if(e=Bn(e),t=Un(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return qn(e)}var Qn={black:"#000",white:"#fff"},$n={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Yn={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Xn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Jn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Zn={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},er={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},tr={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},nr=["mode","contrastThreshold","tonalOffset"],rr={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Qn.white,default:Qn.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},ir={text:{primary:Qn.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Qn.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function ar(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Gn(e.main,i):"dark"===t&&(e.dark=Hn(e.main,a)))}function or(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,a=e.tonalOffset,o=void 0===a?.2:a,s=d(e,nr),u=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Zn[200],light:Zn[50],dark:Zn[400]}:{main:Zn[700],light:Zn[400],dark:Zn[800]}}(n),c=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Yn[200],light:Yn[50],dark:Yn[400]}:{main:Yn[500],light:Yn[300],dark:Yn[700]}}(n),l=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Xn[500],light:Xn[300],dark:Xn[700]}:{main:Xn[700],light:Xn[400],dark:Xn[800]}}(n),f=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:er[400],light:er[300],dark:er[700]}:{main:er[700],light:er[500],dark:er[900]}}(n),h=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:tr[400],light:tr[300],dark:tr[700]}:{main:tr[800],light:tr[500],dark:tr[900]}}(n),v=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Jn[400],light:Jn[300],dark:Jn[700]}:{main:"#ed6c02",light:Jn[500],dark:Jn[900]}}(n);function m(e){var t=function(e,t){var n=Wn(e),r=Wn(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,ir.text.primary)>=i?ir.text.primary:rr.text.primary;return t}var y=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,a=e.lightShade,s=void 0===a?300:a,u=e.darkShade,c=void 0===u?700:u;if(!(t=p({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(ct(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(ct(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return ar(t,"light",s,o),ar(t,"dark",c,o),t.contrastText||(t.contrastText=m(t.main)),t},g={dark:ir,light:rr};return Ze(p({common:Qn,mode:n,primary:y({color:u,name:"primary"}),secondary:y({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:l,name:"error"}),warning:y({color:v,name:"warning"}),info:y({color:f,name:"info"}),success:y({color:h,name:"success"}),grey:$n,contrastThreshold:i,getContrastText:m,augmentColor:y,tonalOffset:o},g[n]),s)}var sr=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var ur={textTransform:"uppercase"},cr='"Roboto", "Helvetica", "Arial", sans-serif';function lr(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?cr:r,a=n.fontSize,o=void 0===a?14:a,s=n.fontWeightLight,u=void 0===s?300:s,c=n.fontWeightRegular,l=void 0===c?400:c,f=n.fontWeightMedium,h=void 0===f?500:f,v=n.fontWeightBold,m=void 0===v?700:v,y=n.htmlFontSize,g=void 0===y?16:y,b=n.allVariants,k=n.pxToRem,w=d(n,sr);var _=o/14,x=k||function(e){return"".concat(e/g*_,"rem")},S=function(e,t,n,r,a){return p({fontFamily:i,fontWeight:e,fontSize:x(t),lineHeight:n},i===cr?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,b);var o},E={h1:S(u,96,1.167,-1.5),h2:S(u,60,1.2,-.5),h3:S(l,48,1.167,0),h4:S(l,34,1.235,.25),h5:S(l,24,1.334,0),h6:S(h,20,1.6,.15),subtitle1:S(l,16,1.75,.15),subtitle2:S(h,14,1.57,.1),body1:S(l,16,1.5,.15),body2:S(l,14,1.43,.15),button:S(h,14,1.75,.4,ur),caption:S(l,12,1.66,.4),overline:S(l,12,2.66,1,ur)};return Ze(p({htmlFontSize:g,pxToRem:x,fontFamily:i,fontSize:o,fontWeightLight:u,fontWeightRegular:l,fontWeightMedium:h,fontWeightBold:m},E),w,{clone:!1})}function fr(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var hr=["none",fr(0,2,1,-1,0,1,1,0,0,1,3,0),fr(0,3,1,-2,0,2,2,0,0,1,5,0),fr(0,3,3,-2,0,3,4,0,0,1,8,0),fr(0,2,4,-1,0,4,5,0,0,1,10,0),fr(0,3,5,-1,0,5,8,0,0,1,14,0),fr(0,3,5,-1,0,6,10,0,0,1,18,0),fr(0,4,5,-2,0,7,10,1,0,2,16,1),fr(0,5,5,-3,0,8,10,1,0,3,14,2),fr(0,5,6,-3,0,9,12,1,0,3,16,2),fr(0,6,6,-3,0,10,14,1,0,4,18,3),fr(0,6,7,-4,0,11,15,1,0,4,20,3),fr(0,7,8,-4,0,12,17,2,0,5,22,4),fr(0,7,8,-4,0,13,19,2,0,5,24,4),fr(0,7,9,-4,0,14,21,2,0,5,26,4),fr(0,8,9,-5,0,15,22,2,0,6,28,5),fr(0,8,10,-5,0,16,24,2,0,6,30,5),fr(0,8,11,-5,0,17,26,2,0,6,32,5),fr(0,9,11,-5,0,18,28,2,0,7,34,6),fr(0,9,12,-6,0,19,29,2,0,7,36,6),fr(0,10,13,-6,0,20,31,3,0,8,38,7),fr(0,10,13,-6,0,21,33,3,0,8,40,7),fr(0,10,14,-6,0,22,35,3,0,8,42,7),fr(0,11,14,-7,0,23,36,3,0,9,44,8),fr(0,11,15,-7,0,24,38,3,0,9,46,8)],dr=["duration","easing","delay"],pr={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},vr={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function mr(e){return"".concat(Math.round(e),"ms")}function yr(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function gr(e){var t=p({},pr,e.easing),n=p({},vr,e.duration);return p({getAutoHeightDuration:yr,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,s=void 0===o?t.easeInOut:o,u=r.delay,c=void 0===u?0:u;d(r,dr);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:mr(a)," ").concat(s," ").concat("string"===typeof c?c:mr(c))})).join(",")}},e,{easing:t,duration:n})}var br={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},kr=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function wr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,s=e.typography,u=void 0===s?{}:s,c=d(e,kr),l=or(i),f=Ot(e),h=Ze(f,{mixins:zn(f.breakpoints,f.spacing,n),palette:l,shadows:hr.slice(),typography:lr(l,u),transitions:gr(o),zIndex:p({},br)});h=Ze(h,c);for(var v=arguments.length,m=new Array(v>1?v-1:0),y=1;y<v;y++)m[y-1]=arguments[y];return h=m.reduce((function(e,t){return Ze(e,t)}),h)}var _r=wr,xr=_r(),Sr=function(e){return jn(e)&&"classes"!==e},Er=jn,Cr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?Vn:t,r=e.rootShouldForwardProp,i=void 0===r?jn:r,a=e.slotShouldForwardProp,o=void 0===a?jn:a,s=e.styleFunctionSx,u=void 0===s?Rn:s;return function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.name,s=r.slot,l=r.skipVariantsResolver,f=r.skipSx,h=r.overridesResolver,v=d(r,Pn),m=void 0!==l?l:s&&"Root"!==s||!1,y=f||!1;var b=jn;"Root"===s?b=i:s&&(b=o);var k=Xe(e,p({shouldForwardProp:b,label:t},v)),w=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o=r?r.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=d(t,An);return e(p({theme:Dn(r)?n:r},i))}:e})):[],s=e;a&&h&&o.push((function(e){var t=Dn(e.theme)?n:e.theme,r=Mn(a,t);if(r){var i={};return Object.entries(r).forEach((function(t){var n=c(t,2),r=n[0],a=n[1];i[r]="function"===typeof a?a(e):a})),h(e,i)}return null})),a&&!m&&o.push((function(e){var t=Dn(e.theme)?n:e.theme;return Fn(e,Ln(a,t),t,a)})),y||o.push((function(e){var t=Dn(e.theme)?n:e.theme;return u(p({},e,{theme:t}))}));var l=o.length-r.length;if(Array.isArray(e)&&l>0){var f=new Array(l).fill("");(s=[].concat(g(e),g(f))).raw=[].concat(g(e.raw),g(f))}else"function"===typeof e&&e.__emotion_real!==e&&(s=function(t){var r=t.theme,i=d(t,On);return e(p({theme:Dn(r)?n:r},i))});var v=k.apply(void 0,[s].concat(g(o)));return v};return k.withConfig&&(w.withConfig=k.withConfig),w}}({defaultTheme:xr,rootShouldForwardProp:Sr}),Ir=Cr;function Tr(e,t){var n=p({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}var Nr=t.createContext(null);function Rr(){return t.useContext(Nr)}function Pr(e){return 0===Object.keys(e).length}var Ar=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Rr();return!t||Pr(t)?e:t},Or=Ot();var Dr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or;return Ar(e)};function Mr(e){var t=e.props,n=e.name,r=e.defaultTheme,i=function(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?Tr(t.components[n].defaultProps,r):r}({theme:Dr(r),name:n,props:t});return i}function Lr(e){return Mr({props:e.props,name:e.name,defaultTheme:xr})}function Fr(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function jr(e,n){return t.useMemo((function(){return null==e&&null==n?null:function(t){Fr(e,t),Fr(n,t)}}),[e,n])}var Vr=jr,zr="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;function Ur(e){var n=t.useRef(e);return zr((function(){n.current=e})),t.useCallback((function(){return n.current.apply(void 0,arguments)}),[])}var Br,qr=Ur,Wr=!0,Kr=!1,Hr={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Gr(e){e.metaKey||e.altKey||e.ctrlKey||(Wr=!0)}function Qr(){Wr=!1}function $r(){"hidden"===this.visibilityState&&Kr&&(Wr=!0)}function Yr(e){var t=e.target;try{return t.matches(":focus-visible")}catch(LF){}return Wr||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!Hr[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var Xr=function(){var e=t.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",Gr,!0),t.addEventListener("mousedown",Qr,!0),t.addEventListener("pointerdown",Qr,!0),t.addEventListener("touchstart",Qr,!0),t.addEventListener("visibilitychange",$r,!0))}),[]),n=t.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!Yr(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(Kr=!0,window.clearTimeout(Br),Br=window.setTimeout((function(){Kr=!1}),100),n.current=!1,!0)},ref:e}};function Jr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Zr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ei(e,t){return ei=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ei(e,t)}function ti(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ei(e,t)}var ni=t.createContext(null);function ri(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function ii(e,t,n){return null!=n[t]?n[t]:e.props[t]}function ai(e,n,r){var i=ri(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var s={};for(var u in t){if(i[u])for(r=0;r<i[u].length;r++){var c=i[u][r];s[i[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<a.length;r++)s[a[r]]=n(a[r]);return s}(n,i);return Object.keys(a).forEach((function(o){var s=a[o];if((0,t.isValidElement)(s)){var u=o in n,c=o in i,l=n[o],f=(0,t.isValidElement)(l)&&!l.props.in;!c||u&&!f?c||!u||f?c&&u&&(0,t.isValidElement)(l)&&(a[o]=(0,t.cloneElement)(s,{onExited:r.bind(null,s),in:l.props.in,exit:ii(s,"exit",e),enter:ii(s,"enter",e)})):a[o]=(0,t.cloneElement)(s,{in:!1}):a[o]=(0,t.cloneElement)(s,{onExited:r.bind(null,s),in:!0,exit:ii(s,"exit",e),enter:ii(s,"enter",e)})}})),a}var oi=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},si=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(Zr(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}ti(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,ri(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:ii(e,"appear",r),enter:ii(e,"enter",r),exit:ii(e,"exit",r)})}))):ai(e,a,o),firstRender:!1}},r.handleExited=function(e,t){var n=ri(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=p({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=d(e,["component","childFactory"]),a=this.state.contextValue,o=oi(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(ni.Provider,{value:a},o):t.createElement(ni.Provider,{value:a},t.createElement(n,i,o))},n}(t.Component);si.propTypes={},si.defaultProps={component:"div",childFactory:function(e){return e}};var ui=si,ci=(n(110),r.useInsertionEffect?r.useInsertionEffect:t.useLayoutEffect),li=Fe((function(e,n){var r=e.styles,i=Me([r],void 0,(0,t.useContext)(je)),a=(0,t.useRef)();return ci((function(){var e=n.key+"-global",t=new n.sheet.constructor({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),t.hydrate([o])),a.current=[t,r],function(){t.flush()}}),[n]),ci((function(){var e=a.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&Ue(n,i.next,!0),t.tags.length){var r=t.tags[t.tags.length-1].nextElementSibling;t.before=r,t.flush()}n.insert("",i,t,!1)}}),[n,i.name]),null}));function fi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Me(t)}var hi=function(){var e=fi.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var di=n(184);var pi=function(e){var n=e.className,r=e.classes,i=e.pulsate,a=void 0!==i&&i,o=e.rippleX,s=e.rippleY,u=e.rippleSize,l=e.in,f=e.onExited,h=e.timeout,d=c(t.useState(!1),2),p=d[0],v=d[1],y=m(n,r.ripple,r.rippleVisible,a&&r.ripplePulsate),g={width:u,height:u,top:-u/2+s,left:-u/2+o},b=m(r.child,p&&r.childLeaving,a&&r.childPulsate);return l||p||v(!0),t.useEffect((function(){if(!l&&null!=f){var e=setTimeout(f,h);return function(){clearTimeout(e)}}}),[f,l,h]),(0,di.jsx)("span",{className:y,style:g,children:(0,di.jsx)("span",{className:b})})},vi=function(e){return e},mi=function(){var e=vi;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=vi}}}(),yi={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function gi(e,t){return yi[t]||"".concat(mi.generate(e),"-").concat(t)}function bi(e,t){var n={};return t.forEach((function(t){n[t]=gi(e,t)})),n}var ki,wi,_i,xi,Si,Ei,Ci,Ii,Ti=bi("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Ni=["center","classes","className"],Ri=hi(Si||(Si=ki||(ki=Jr(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),Pi=hi(Ei||(Ei=wi||(wi=Jr(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),Ai=hi(Ci||(Ci=_i||(_i=Jr(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),Oi=Ir("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Di=Ir(pi,{name:"MuiTouchRipple",slot:"Ripple"})(Ii||(Ii=xi||(xi=Jr(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),Ti.rippleVisible,Ri,550,(function(e){return e.theme.transitions.easing.easeInOut}),Ti.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),Ti.child,Ti.childLeaving,Pi,550,(function(e){return e.theme.transitions.easing.easeInOut}),Ti.childPulsate,Ai,(function(e){return e.theme.transitions.easing.easeInOut})),Mi=t.forwardRef((function(e,n){var r=Lr({props:e,name:"MuiTouchRipple"}),i=r.center,a=void 0!==i&&i,o=r.classes,s=void 0===o?{}:o,u=r.className,l=d(r,Ni),f=c(t.useState([]),2),h=f[0],v=f[1],y=t.useRef(0),b=t.useRef(null);t.useEffect((function(){b.current&&(b.current(),b.current=null)}),[h]);var k=t.useRef(!1),w=t.useRef(null),_=t.useRef(null),x=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(w.current)}}),[]);var S=t.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;v((function(e){return[].concat(g(e),[(0,di.jsx)(Di,{classes:{ripple:m(s.ripple,Ti.ripple),rippleVisible:m(s.rippleVisible,Ti.rippleVisible),ripplePulsate:m(s.ripplePulsate,Ti.ripplePulsate),child:m(s.child,Ti.child),childLeaving:m(s.childLeaving,Ti.childLeaving),childPulsate:m(s.childPulsate,Ti.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},y.current)])})),y.current+=1,b.current=a}),[s]),E=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,o=t.center,s=void 0===o?a||t.pulsate:o,u=t.fakeElement,c=void 0!==u&&u;if("mousedown"===e.type&&k.current)k.current=!1;else{"touchstart"===e.type&&(k.current=!0);var l,f,h,d=c?null:x.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches?e.touches[0]:e,m=v.clientX,y=v.clientY;l=Math.round(m-p.left),f=Math.round(y-p.top)}if(s)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var g=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,b=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(g,2)+Math.pow(b,2))}e.touches?null===_.current&&(_.current=function(){S({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})},w.current=setTimeout((function(){_.current&&(_.current(),_.current=null)}),80)):S({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[a,S]),C=t.useCallback((function(){E({},{pulsate:!0})}),[E]),I=t.useCallback((function(e,t){if(clearTimeout(w.current),"touchend"===e.type&&_.current)return _.current(),_.current=null,void(w.current=setTimeout((function(){I(e,t)})));_.current=null,v((function(e){return e.length>0?e.slice(1):e})),b.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:C,start:E,stop:I}}),[C,E,I]),(0,di.jsx)(Oi,p({className:m(s.root,Ti.root,u),ref:x},l,{children:(0,di.jsx)(ui,{component:null,exit:!0,children:h})}))})),Li=Mi;function Fi(e){return gi("MuiButtonBase",e)}var ji,Vi=bi("MuiButtonBase",["root","disabled","focusVisible"]),zi=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Ui=Ir("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((h(ji={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(Vi.disabled),{pointerEvents:"none",cursor:"default"}),h(ji,"@media print",{colorAdjust:"exact"}),ji)),Bi=t.forwardRef((function(e,n){var r=Lr({props:e,name:"MuiButtonBase"}),i=r.action,a=r.centerRipple,o=void 0!==a&&a,s=r.children,u=r.className,l=r.component,f=void 0===l?"button":l,h=r.disabled,v=void 0!==h&&h,g=r.disableRipple,b=void 0!==g&&g,k=r.disableTouchRipple,w=void 0!==k&&k,_=r.focusRipple,x=void 0!==_&&_,S=r.LinkComponent,E=void 0===S?"a":S,C=r.onBlur,I=r.onClick,T=r.onContextMenu,N=r.onDragLeave,R=r.onFocus,P=r.onFocusVisible,A=r.onKeyDown,O=r.onKeyUp,D=r.onMouseDown,M=r.onMouseLeave,L=r.onMouseUp,F=r.onTouchEnd,j=r.onTouchMove,V=r.onTouchStart,z=r.tabIndex,U=void 0===z?0:z,B=r.TouchRippleProps,q=r.touchRippleRef,W=r.type,K=d(r,zi),H=t.useRef(null),G=t.useRef(null),Q=Vr(G,q),$=Xr(),Y=$.isFocusVisibleRef,X=$.onFocus,J=$.onBlur,Z=$.ref,ee=c(t.useState(!1),2),te=ee[0],ne=ee[1];v&&te&&ne(!1),t.useImperativeHandle(i,(function(){return{focusVisible:function(){ne(!0),H.current.focus()}}}),[]);var re=c(t.useState(!1),2),ie=re[0],ae=re[1];t.useEffect((function(){ae(!0)}),[]);var oe=ie&&!b&&!v;function se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w;return qr((function(r){return t&&t(r),!n&&G.current&&G.current[e](r),!0}))}t.useEffect((function(){te&&x&&!b&&ie&&G.current.pulsate()}),[b,x,te,ie]);var ue=se("start",D),ce=se("stop",T),le=se("stop",N),fe=se("stop",L),he=se("stop",(function(e){te&&e.preventDefault(),M&&M(e)})),de=se("start",V),pe=se("stop",F),ve=se("stop",j),me=se("stop",(function(e){J(e),!1===Y.current&&ne(!1),C&&C(e)}),!1),ye=qr((function(e){H.current||(H.current=e.currentTarget),X(e),!0===Y.current&&(ne(!0),P&&P(e)),R&&R(e)})),ge=function(){var e=H.current;return f&&"button"!==f&&!("A"===e.tagName&&e.href)},be=t.useRef(!1),ke=qr((function(e){x&&!be.current&&te&&G.current&&" "===e.key&&(be.current=!0,G.current.stop(e,(function(){G.current.start(e)}))),e.target===e.currentTarget&&ge()&&" "===e.key&&e.preventDefault(),A&&A(e),e.target===e.currentTarget&&ge()&&"Enter"===e.key&&!v&&(e.preventDefault(),I&&I(e))})),we=qr((function(e){x&&" "===e.key&&G.current&&te&&!e.defaultPrevented&&(be.current=!1,G.current.stop(e,(function(){G.current.pulsate(e)}))),O&&O(e),I&&e.target===e.currentTarget&&ge()&&" "===e.key&&!e.defaultPrevented&&I(e)})),_e=f;"button"===_e&&(K.href||K.to)&&(_e=E);var xe={};"button"===_e?(xe.type=void 0===W?"button":W,xe.disabled=v):(K.href||K.to||(xe.role="button"),v&&(xe["aria-disabled"]=v));var Se=Vr(Z,H),Ee=Vr(n,Se);var Ce=p({},r,{centerRipple:o,component:f,disabled:v,disableRipple:b,disableTouchRipple:w,focusRipple:x,tabIndex:U,focusVisible:te}),Ie=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=y({root:["root",t&&"disabled",n&&"focusVisible"]},Fi,e.classes);return n&&r&&(i.root+=" ".concat(r)),i}(Ce);return(0,di.jsxs)(Ui,p({as:_e,className:m(Ie.root,u),ownerState:Ce,onBlur:me,onClick:I,onContextMenu:ce,onFocus:ye,onKeyDown:ke,onKeyUp:we,onMouseDown:ue,onMouseLeave:he,onMouseUp:fe,onDragLeave:le,onTouchEnd:pe,onTouchMove:ve,onTouchStart:de,ref:Ee,tabIndex:v?-1:U,type:W},xe,K,{children:[s,oe?(0,di.jsx)(Li,p({ref:Q,center:o},B)):null]}))})),qi=Bi,Wi=lt;function Ki(e){return gi("MuiFab",e)}var Hi=bi("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),Gi=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],Qi=Ir(qi,{name:"MuiFab",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["size".concat(Wi(n.size))],"inherit"===n.color&&t.colorInherit,t[Wi(n.size)],t[n.color]]}})((function(e){var t,n=e.theme,r=e.ownerState;return p({},n.typography.button,(h(t={minHeight:36,transition:n.transitions.create(["background-color","box-shadow","border-color"],{duration:n.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:n.zIndex.fab,boxShadow:n.shadows[6],"&:active":{boxShadow:n.shadows[12]},color:n.palette.getContrastText(n.palette.grey[300]),backgroundColor:n.palette.grey[300],"&:hover":{backgroundColor:n.palette.grey.A100,"@media (hover: none)":{backgroundColor:n.palette.grey[300]},textDecoration:"none"}},"&.".concat(Hi.focusVisible),{boxShadow:n.shadows[6]}),h(t,"&.".concat(Hi.disabled),{color:n.palette.action.disabled,boxShadow:n.shadows[0],backgroundColor:n.palette.action.disabledBackground}),t),"small"===r.size&&{width:40,height:40},"medium"===r.size&&{width:48,height:48},"extended"===r.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},"extended"===r.variant&&"small"===r.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"extended"===r.variant&&"medium"===r.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},"inherit"===r.color&&{color:"inherit"})}),(function(e){var t=e.theme,n=e.ownerState;return p({},"inherit"!==n.color&&"default"!==n.color&&null!=t.palette[n.color]&&{color:t.palette[n.color].contrastText,backgroundColor:t.palette[n.color].main,"&:hover":{backgroundColor:t.palette[n.color].dark,"@media (hover: none)":{backgroundColor:t.palette[n.color].main}}})})),$i=t.forwardRef((function(e,t){var n=Lr({props:e,name:"MuiFab"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"default":a,s=n.component,u=void 0===s?"button":s,c=n.disabled,l=void 0!==c&&c,f=n.disableFocusRipple,h=void 0!==f&&f,v=n.focusVisibleClassName,g=n.size,b=void 0===g?"large":g,k=n.variant,w=void 0===k?"circular":k,_=d(n,Gi),x=p({},n,{color:o,component:u,disabled:l,disableFocusRipple:h,size:b,variant:w}),S=function(e){var t=e.color,n=e.variant,r=e.classes,i=e.size;return y({root:["root",n,"size".concat(Wi(i)),"inherit"===t?"colorInherit":t]},Ki,r)}(x);return(0,di.jsx)(Qi,p({className:m(S.root,i),component:u,disabled:l,focusRipple:!h,focusVisibleClassName:m(S.focusVisible,v),ownerState:x,ref:t},_,{children:r}))})),Yi=$i;function Xi(e){return Xi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xi(e)}function Ji(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Xi(e)););return e}function Zi(){return Zi="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Ji(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Zi.apply(this,arguments)}function ea(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ei(e,t)}function ta(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function na(e){return na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},na(e)}function ra(e,t){if(t&&("object"===na(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Zr(e)}function ia(e){var t=ta();return function(){var n,r=Xi(e);if(t){var i=Xi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ra(this,n)}}function aa(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function oa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ua(e,t,n){return t&&sa(e.prototype,t),n&&sa(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ca(e,t,n){return ca=ta()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ei(i,n.prototype),i},ca.apply(null,arguments)}function la(e){var t="function"===typeof Map?new Map:void 0;return la=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ca(e,arguments,Xi(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ei(n,e)},la(e)}var fa=!1,ha=!1,da="${JSCORE_VERSION}",pa=function(e,t){if(!e)throw va(t)},va=function(e){return new Error("Firebase Database ("+da+") INTERNAL ASSERT FAILED: "+e)},ma=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ya={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ma(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ga=function(e){var t=ma(e);return ya.encodeByteArray(t,!0)},ba=function(e){return ga(e).replace(/\./g,"")},ka=function(e){try{return ya.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function wa(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=wa(e[n],t[n]));return e}var _a=function(){function e(){var t=this;oa(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return ua(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function xa(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ba(JSON.stringify({alg:"none",type:"JWT"})),ba(JSON.stringify(a)),""].join(".")}function Sa(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ea(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sa())}function Ca(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ia(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ta(){var e=Sa();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Na(){return!0===fa||!0===ha}function Ra(){return!function(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pa(){return"object"===typeof indexedDB}var Aa=function(e){ea(n,e);var t=ia(n);function n(e,r,i){var a;return oa(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Zr(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Zr(a),Oa.prototype.create),a}return ua(n)}(la(Error)),Oa=function(){function e(t,n,r){oa(this,e),this.service=t,this.serviceName=n,this.errors=r}return ua(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Da(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Aa(n,a,t);return o}}]),e}();function Da(e,t){return e.replace(Ma,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Ma=/\{\$([^}]+)}/g;function La(e){return JSON.parse(e)}function Fa(e){return JSON.stringify(e)}var ja=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=La(ka(a[0])||""),n=La(ka(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function Va(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function za(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Ua(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ba(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function qa(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Wa(s)&&Wa(u)){if(!qa(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Wa(e){return null!==e&&"object"===typeof e}function Ka(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Ha(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Ga(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Qa=function(){function e(){oa(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return ua(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=h^l&(f^h),u=1518500249):(s=l^f^h,u=1859775393):p<60?(s=l&f|h&(l|f),u=2400959708):(s=l^f^h,u=3395469782);var v=(c<<5|c>>>27)+s+d+u+n[p]&4294967295;d=h,h=f,f=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function $a(e,t){var n=new Ya(e,t);return n.subscribe.bind(n)}var Ya=function(){function e(t,n){var r=this;oa(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return ua(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=aa(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Xa),void 0===r.error&&(r.error=Xa),void 0===r.complete&&(r.complete=Xa);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Xa(){}var Ja=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function Za(e,t){return"".concat(e," failed: ").concat(t," argument ")}function eo(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(Za(e,t)+"must be a valid function.")}function to(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(Za(e,t)+"must be a valid context object.")}var no=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function ro(e){return e&&e._delegate?e._delegate:e}function io(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var ao=function(){function e(t){oa(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return ua(e,[{key:"transaction",value:function(e,t){return new oo(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new so(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),oo=function(){function e(t){var n=this;oa(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return ua(e,[{key:"objectStore",value:function(e){return new so(this._transaction.objectStore(e))}}]),e}(),so=function(){function e(t){oa(this,e),this._store=t}return ua(e,[{key:"index",value:function(e){return new uo(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new uo(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return io(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return io(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return io(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return io(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),uo=function(){function e(t){oa(this,e),this._index=t}return ua(e,[{key:"get",value:function(e){return io(this._index.get(e),"Error reading from IndexedDB")}}]),e}();var co=function(){function e(t,n,r){oa(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ua(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),lo="[DEFAULT]",fo=function(){function e(t,n){oa(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ua(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new _a;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:lo})}catch(u){}var t,n=aa(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lo;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=o(l.mark((function e(){var t;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(g(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),g(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lo;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lo;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=aa(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=c(i.value,2),u=s[0],l=s[1],f=this.normalizeInstanceIdentifier(u);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=aa(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(oD){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ho(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(oD){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lo;return this.component?this.component.multipleInstances?e:lo:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function ho(e){return e===lo?void 0:e}var po,vo,mo=function(){function e(t){oa(this,e),this.name=t,this.providers=new Map}return ua(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new fo(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),yo=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(vo||(vo={}));var go,bo,ko={debug:vo.DEBUG,verbose:vo.VERBOSE,info:vo.INFO,warn:vo.WARN,error:vo.ERROR,silent:vo.SILENT},wo=vo.INFO,_o=(h(po={},vo.DEBUG,"log"),h(po,vo.VERBOSE,"log"),h(po,vo.INFO,"info"),h(po,vo.WARN,"warn"),h(po,vo.ERROR,"error"),po),xo=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=_o[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},So=function(){function e(t){oa(this,e),this.name=t,this._logLevel=wo,this._logHandler=xo,this._userLogHandler=null,yo.push(this)}return ua(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in vo))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ko[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,vo.DEBUG].concat(t)),this._logHandler.apply(this,[this,vo.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,vo.VERBOSE].concat(t)),this._logHandler.apply(this,[this,vo.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,vo.INFO].concat(t)),this._logHandler.apply(this,[this,vo.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,vo.WARN].concat(t)),this._logHandler.apply(this,[this,vo.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,vo.ERROR].concat(t)),this._logHandler.apply(this,[this,vo.ERROR].concat(t))}}]),e}();var Eo=function(){function e(t){oa(this,e),this.container=t}return ua(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Co="@firebase/app",Io="0.7.20",To=new So("@firebase/app"),No="[DEFAULT]",Ro=(h(go={},Co,"fire-core"),h(go,"@firebase/app-compat","fire-core-compat"),h(go,"@firebase/analytics","fire-analytics"),h(go,"@firebase/analytics-compat","fire-analytics-compat"),h(go,"@firebase/app-check","fire-app-check"),h(go,"@firebase/app-check-compat","fire-app-check-compat"),h(go,"@firebase/auth","fire-auth"),h(go,"@firebase/auth-compat","fire-auth-compat"),h(go,"@firebase/database","fire-rtdb"),h(go,"@firebase/database-compat","fire-rtdb-compat"),h(go,"@firebase/functions","fire-fn"),h(go,"@firebase/functions-compat","fire-fn-compat"),h(go,"@firebase/installations","fire-iid"),h(go,"@firebase/installations-compat","fire-iid-compat"),h(go,"@firebase/messaging","fire-fcm"),h(go,"@firebase/messaging-compat","fire-fcm-compat"),h(go,"@firebase/performance","fire-perf"),h(go,"@firebase/performance-compat","fire-perf-compat"),h(go,"@firebase/remote-config","fire-rc"),h(go,"@firebase/remote-config-compat","fire-rc-compat"),h(go,"@firebase/storage","fire-gcs"),h(go,"@firebase/storage-compat","fire-gcs-compat"),h(go,"@firebase/firestore","fire-fst"),h(go,"@firebase/firestore-compat","fire-fst-compat"),h(go,"fire-js","fire-js"),h(go,"firebase","fire-js-all"),go),Po=new Map,Ao=new Map;function Oo(e,t){try{e.container.addComponent(t)}catch(n){To.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Do(e,t){e.container.addOrOverwriteComponent(t)}function Mo(e){var t=e.name;if(Ao.has(t))return To.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ao.set(t,e);var n,r=aa(Po.values());try{for(r.s();!(n=r.n()).done;){Oo(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Lo(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Fo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:No;Lo(e,t).clearInstance(n)}function jo(){Ao.clear()}var Vo=(h(bo={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),h(bo,"bad-app-name","Illegal App name: '{$appName}"),h(bo,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),h(bo,"app-deleted","Firebase App named '{$appName}' already deleted"),h(bo,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),h(bo,"invalid-log-argument","First argument to `onLog` must be null or a function."),h(bo,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),h(bo,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),h(bo,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),h(bo,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),bo),zo=new Oa("app","Firebase",Vo),Uo=function(){function e(t,n,r){var i=this;oa(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new co("app",(function(){return i}),"PUBLIC"))}return ua(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw zo.create("app-deleted",{appName:this._name})}}]),e}(),Bo="9.6.10";function qo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:No,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw zo.create("bad-app-name",{appName:String(i)});var a=Po.get(i);if(a){if(qa(e,a.options)&&qa(r,a.config))return a;throw zo.create("duplicate-app",{appName:i})}var o,s=new mo(i),u=aa(Ao.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new Uo(e,r,s);return Po.set(i,l),l}function Wo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:No,t=Po.get(e);if(!t)throw zo.create("no-app",{appName:e});return t}function Ko(){return Array.from(Po.values())}function Ho(e){return Go.apply(this,arguments)}function Go(){return Go=o(l.mark((function e(t){var n;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Po.has(n)){e.next=6;break}return Po.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Go.apply(this,arguments)}function Qo(e,t,n){var r,i=null!==(r=Ro[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void To.warn(s.join(" "))}Mo(new co("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function $o(e,t){if(null!==e&&"function"!==typeof e)throw zo.create("invalid-log-argument");!function(e,t){var n,r=aa(yo);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=ko[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:vo[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Yo(e){var t;t=e,yo.forEach((function(e){e.setLogLevel(t)}))}var Xo="firebase-heartbeat-store",Jo=null;function Zo(){var e,t,n;return Jo||(Jo=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(Xo)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new ao(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new ao(a.result),e.oldVersion,e.newVersion,new oo(a.transaction))}}catch(o){i("Error opening indexedDB: ".concat(o.message))}}))).catch((function(e){throw zo.create("storage-open",{originalErrorMessage:e.message})}))),Jo}function es(e){return ts.apply(this,arguments)}function ts(){return ts=o(l.mark((function e(t){var n;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zo();case 3:return n=e.sent,e.abrupt("return",n.transaction(Xo).objectStore(Xo).get(is(t)));case 7:throw e.prev=7,e.t0=e.catch(0),zo.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),ts.apply(this,arguments)}function ns(e,t){return rs.apply(this,arguments)}function rs(){return rs=o(l.mark((function e(t,n){var r,i,a;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zo();case 3:return r=e.sent,i=r.transaction(Xo,"readwrite"),a=i.objectStore(Xo),e.next=8,a.put(n,is(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),zo.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),rs.apply(this,arguments)}function is(e){return"".concat(e.name,"!").concat(e.options.appId)}var as=function(){function e(t){var n=this;oa(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new cs(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return ua(e,[{key:"triggerHeartbeat",value:function(){var e=o(l.mark((function e(){var t,n,r;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=os(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=o(l.mark((function e(){var t,n,r,i,a;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=os(),n=ss(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=ba(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function os(){return(new Date).toISOString().substring(0,10)}function ss(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=aa(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),ls(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),ls(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var us,cs=function(){function e(t){oa(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return ua(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=o(l.mark((function e(){return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pa()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(LF){t(LF)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=o(l.mark((function e(){var t;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,es(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=o(l.mark((function e(t){var n,r;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ns(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=o(l.mark((function e(t){var n,r;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ns(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(g(r.heartbeats),g(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function ls(e){return ba(JSON.stringify({version:2,heartbeats:e})).length}us="",Mo(new co("platform-logger",(function(e){return new Eo(e)}),"PRIVATE")),Mo(new co("heartbeat",(function(e){return new as(e)}),"PRIVATE")),Qo(Co,Io,us),Qo(Co,Io,"esm2017"),Qo("fire-js","");function fs(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var hs;Object.create;function ds(){return h({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var ps=ds,vs=new Oa("auth","Firebase",ds()),ms=new So("@firebase/auth");function ys(e){if(ms.logLevel<=vo.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ms.error.apply(ms,["Auth (".concat(Bo,"): ").concat(e)].concat(n))}}function gs(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ws.apply(void 0,[e].concat(n))}function bs(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ws.apply(void 0,[e].concat(n))}function ks(e,t,n){var r=Object.assign(Object.assign({},ps()),h({},t,n));return new Oa("auth","Firebase",r).create(t,{appName:e.name})}function ws(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=g(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(g(o)))}return vs.create.apply(vs,[e].concat(n))}function _s(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ws.apply(void 0,[t].concat(r))}}function xs(e){var t="INTERNAL ASSERTION FAILED: "+e;throw ys(t),new Error(t)}function Ss(e,t){e||xs(t)}var Es=new Map;function Cs(e){Ss(e instanceof Function,"Expected a class definition");var t=Es.get(e);return t?(Ss(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Es.set(e,t),t)}function Is(e,t){var n=Lo(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(qa(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;gs(r,"already-initialized")}return n.initialize({options:t})}function Ts(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ns(){return"http:"===Rs()||"https:"===Rs()}function Rs(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Ps=function(){function e(t,n){oa(this,e),this.shortDelay=t,this.longDelay=n,Ss(n>t,"Short delay should be less than long delay!"),this.isMobile=Ea()||Ia()}return ua(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ns()||Ca()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function As(e,t){Ss(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Os=function(){function e(){oa(this,e)}return ua(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void xs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void xs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void xs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Ds=(h(hs={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),h(hs,"MISSING_CUSTOM_TOKEN","internal-error"),h(hs,"INVALID_IDENTIFIER","invalid-email"),h(hs,"MISSING_CONTINUE_URI","internal-error"),h(hs,"INVALID_PASSWORD","wrong-password"),h(hs,"MISSING_PASSWORD","internal-error"),h(hs,"EMAIL_EXISTS","email-already-in-use"),h(hs,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),h(hs,"INVALID_IDP_RESPONSE","invalid-credential"),h(hs,"INVALID_PENDING_TOKEN","invalid-credential"),h(hs,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),h(hs,"MISSING_REQ_TYPE","internal-error"),h(hs,"EMAIL_NOT_FOUND","user-not-found"),h(hs,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),h(hs,"EXPIRED_OOB_CODE","expired-action-code"),h(hs,"INVALID_OOB_CODE","invalid-action-code"),h(hs,"MISSING_OOB_CODE","internal-error"),h(hs,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),h(hs,"INVALID_ID_TOKEN","invalid-user-token"),h(hs,"TOKEN_EXPIRED","user-token-expired"),h(hs,"USER_NOT_FOUND","user-token-expired"),h(hs,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),h(hs,"INVALID_CODE","invalid-verification-code"),h(hs,"INVALID_SESSION_INFO","invalid-verification-id"),h(hs,"INVALID_TEMPORARY_PROOF","invalid-credential"),h(hs,"MISSING_SESSION_INFO","missing-verification-id"),h(hs,"SESSION_EXPIRED","code-expired"),h(hs,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),h(hs,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),h(hs,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),h(hs,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),h(hs,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),h(hs,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),h(hs,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),h(hs,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),h(hs,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),h(hs,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),h(hs,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),hs),Ms=new Ps(3e4,6e4);function Ls(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Fs(e,t,n,r){return js.apply(this,arguments)}function js(){return js=o(f().mark((function e(t,n,r,i){var a,s=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.abrupt("return",Vs(t,a,o(f().mark((function e(){var a,o,s,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Ka(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Os.fetch()(qs(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),js.apply(this,arguments)}function Vs(e,t,n){return zs.apply(this,arguments)}function zs(){return zs=o(f().mark((function e(t,n,r){var i,a,o,s,u,l,h,d,p,v;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Ds),n),e.prev=2,a=new Ws(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Ks(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,l=u.split(" : "),h=c(l,2),d=h[0],p=h[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw Ks(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==d){e.next=25;break}throw Ks(t,"email-already-in-use",s);case 25:if(v=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!p){e.next=30;break}throw ks(t,v,p);case 30:gs(t,v);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Aa)){e.next=37;break}throw e.t0;case 37:gs(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),zs.apply(this,arguments)}function Us(e,t,n,r){return Bs.apply(this,arguments)}function Bs(){return Bs=o(f().mark((function e(t,n,r,i){var a,o,s=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Fs(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&gs(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Bs.apply(this,arguments)}function qs(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?As(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Ws=function(){function e(t){var n=this;oa(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(bs(n.auth,"network-request-failed"))}),Ms.get())}))}return ua(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Ks(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=bs(e,t,r);return i.customData._tokenResponse=n,i}function Hs(e,t){return Gs.apply(this,arguments)}function Gs(){return Gs=o(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fs(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Gs.apply(this,arguments)}function Qs(e,t){return $s.apply(this,arguments)}function $s(){return $s=o(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fs(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),$s.apply(this,arguments)}function Ys(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Xs(){return Xs=o(f().mark((function e(t){var n,r,i,a,o,s,u=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=ro(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,_s((a=Zs(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Ys(Js(a.auth_time)),issuedAtTime:Ys(Js(a.iat)),expirationTime:Ys(Js(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Xs.apply(this,arguments)}function Js(e){return 1e3*Number(e)}function Zs(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return ys("JWT malformed, contained fewer than 3 sections"),null;try{var a=ka(r);return a?JSON.parse(a):(ys("Failed to decode base64 JWT payload"),null)}catch(o){return ys("Caught error parsing JWT payload as JSON",o),null}}function eu(e,t){return tu.apply(this,arguments)}function tu(){return tu=o(f().mark((function e(t,n){var r=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Aa&&nu(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),tu.apply(this,arguments)}function nu(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var ru=function(){function e(t){oa(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return ua(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(o(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),iu=function(){function e(t,n){oa(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return ua(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Ys(this.lastLoginAt),this.creationTime=Ys(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function au(e){return ou.apply(this,arguments)}function ou(){return ou=o(f().mark((function e(t){var n,r,i,a,o,s,u,c,l,h,d;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,eu(t,Qs(r,{idToken:i}));case 6:_s(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?cu(o.providerUserInfo):[],u=uu(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),h=!!c&&l,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new iu(o.createdAt,o.lastLoginAt),isAnonymous:h},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),ou.apply(this,arguments)}function su(){return(su=o(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ro(t),e.next=3,au(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uu(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(g(n),g(t))}function cu(e){return e.map((function(e){var t=e.providerId,n=fs(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function lu(e,t){return fu.apply(this,arguments)}function fu(){return fu=o(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vs(t,{},o(f().mark((function e(){var r,i,a,o,s,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ka({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=qs(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Os.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),fu.apply(this,arguments)}var hu=function(){function e(){oa(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return ua(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){_s(e.idToken,"internal-error"),_s("undefined"!==typeof e.idToken,"internal-error"),_s("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Zs(e);return _s(t,"internal-error"),_s("undefined"!==typeof t.exp,"internal-error"),_s("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=o(f().mark((function e(t){var n,r=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],_s(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=o(f().mark((function e(t,n){var r,i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lu(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return xs("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(_s("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(_s("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(_s("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function du(e,t){_s("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var pu=function(){function e(t){oa(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=fs(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ru(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?g(a.providerData):[],this.metadata=new iu(a.createdAt||void 0,a.lastLoginAt||void 0)}return ua(e,[{key:"getIdToken",value:function(){var e=o(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eu(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(_s(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Xs.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return su.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(_s(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){_s(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=o(f().mark((function e(t){var n,r,i=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,au(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=o(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,eu(this,Hs(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;_s(b&&x,t,"internal-error");var S=hu.fromJSON(this.name,x);_s("string"===typeof b,t,"internal-error"),du(f,t.name),du(h,t.name),_s("boolean"===typeof k,t,"internal-error"),_s("boolean"===typeof w,t,"internal-error"),du(d,t.name),du(p,t.name),du(v,t.name),du(m,t.name),du(y,t.name),du(g,t.name);var E=new e({uid:b,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(E.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=o(f().mark((function t(n,r){var i,a,o,s=arguments;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new hu).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,au(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),vu=function(){function e(){oa(this,e),this.type="NONE",this.storage={}}return ua(e,[{key:"_isAvailable",value:function(){var e=o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=o(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=o(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();vu.type="NONE";var mu=vu;function yu(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var gu=function(){function e(t,n,r){oa(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=yu(this.userKey,a.apiKey,o),this.fullPersistenceKey=yu("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return ua(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=o(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?pu._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=o(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=o(f().mark((function t(n,r){var i,a,s,u,c,l,h,d,p,v,m,y=arguments;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=y.length>2&&void 0!==y[2]?y[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Cs(mu),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),s=a[0]||Cs(mu),u=yu(i,n.config.apiKey,n.name),c=null,l=aa(r),t.prev=10,l.s();case 12:if((h=l.n()).done){t.next=29;break}return d=h.value,t.prev=14,t.next=17,d._get(u);case 17:if(!(p=t.sent)){t.next=23;break}return v=pu._fromJSON(n,p),d!==s&&(c=v),s=d,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),l.e(t.t1);case 34:return t.prev=34,l.f(),t.finish(34);case 37:if(m=a.filter((function(e){return e._shouldAllowMigration})),s._shouldAllowMigration&&m.length){t.next=40;break}return t.abrupt("return",new e(s,n,i));case 40:if(s=m[0],!c){t.next=44;break}return t.next=44,s._set(u,c.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===s){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(s,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function bu(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(xu(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ku(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Eu(t))return"Blackberry";if(Cu(t))return"Webos";if(wu(t))return"Safari";if((t.includes("chrome/")||_u(t))&&!t.includes("edge/"))return"Chrome";if(Su(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function ku(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sa();return/firefox\//i.test(e)}function wu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sa(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function _u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sa();return/crios\//i.test(e)}function xu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sa();return/iemobile/i.test(e)}function Su(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sa();return/android/i.test(e)}function Eu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sa();return/blackberry/i.test(e)}function Cu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sa();return/webos/i.test(e)}function Iu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sa();return/iphone|ipad|ipod/i.test(e)}function Tu(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sa();return Iu(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Nu(){return Ta()&&10===document.documentMode}function Ru(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sa();return Iu(e)||Su(e)||Cu(e)||Eu(e)||/windows phone/i.test(e)||xu(e)}function Pu(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=bu(Sa());break;case"Worker":t="".concat(bu(Sa()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Bo,"/").concat(r)}var Au=function(){function e(t,n,r){oa(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Du(this),this.idTokenSubscription=new Du(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vs,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return ua(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Cs(t)),this._initializationPromise=this.queue(o(f().mark((function r(){var i,a;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,gu.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=o(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=o(f().mark((function e(t){var n,r,i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return _s(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=o(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,au(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=o(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?ro(t):null)&&_s(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=o(f().mark((function e(t){var n=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&_s(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(o(f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Cs(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Oa("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=o(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=o(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return _s(n=t&&Cs(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,gu.create(this,[Cs(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=o(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=o(f().mark((function e(t){var n=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return _s(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return _s(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Pu(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=o(f().mark((function e(){var t,n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ou(e){return ro(e)}var Du=function(){function e(t){var n=this;oa(this,e),this.auth=t,this.observer=null,this.addObserver=$a((function(e){return n.observer=e}))}return ua(e,[{key:"next",get:function(){return _s(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();var Mu=function(){function e(t,n){oa(this,e),this.providerId=t,this.signInMethod=n}return ua(e,[{key:"toJSON",value:function(){return xs("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return xs("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return xs("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return xs("not implemented")}}]),e}();function Lu(e,t){return Fu.apply(this,arguments)}function Fu(){return Fu=o(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fs(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Fu.apply(this,arguments)}function ju(e,t){return Vu.apply(this,arguments)}function Vu(){return Vu=o(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Us(t,"POST","/v1/accounts:signInWithPassword",Ls(t,n)));case 1:case"end":return e.stop()}}),e)}))),Vu.apply(this,arguments)}function zu(e,t){return Uu.apply(this,arguments)}function Uu(){return Uu=o(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Us(t,"POST","/v1/accounts:signInWithEmailLink",Ls(t,n)));case 1:case"end":return e.stop()}}),e)}))),Uu.apply(this,arguments)}function Bu(e,t){return qu.apply(this,arguments)}function qu(){return qu=o(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Us(t,"POST","/v1/accounts:signInWithEmailLink",Ls(t,n)));case 1:case"end":return e.stop()}}),e)}))),qu.apply(this,arguments)}var Wu=function(e){ea(n,e);var t=ia(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return oa(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return ua(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ju(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",zu(t,{email:this._email,oobCode:this._password}));case 5:gs(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=o(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Lu(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Bu(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:gs(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Mu);function Ku(e,t){return Hu.apply(this,arguments)}function Hu(){return Hu=o(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Us(t,"POST","/v1/accounts:signInWithIdp",Ls(t,n)));case 1:case"end":return e.stop()}}),e)}))),Hu.apply(this,arguments)}var Gu=function(e){ea(n,e);var t=ia(n);function n(){var e;return oa(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return ua(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Ku(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Ku(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Ku(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ka(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):gs("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=fs(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Mu);function Qu(e,t){return $u.apply(this,arguments)}function $u(){return $u=o(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fs(t,"POST","/v1/accounts:sendVerificationCode",Ls(t,n)));case 1:case"end":return e.stop()}}),e)}))),$u.apply(this,arguments)}function Yu(){return Yu=o(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Us(t,"POST","/v1/accounts:signInWithPhoneNumber",Ls(t,n)));case 1:case"end":return e.stop()}}),e)}))),Yu.apply(this,arguments)}function Xu(){return Xu=o(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Us(t,"POST","/v1/accounts:signInWithPhoneNumber",Ls(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Ks(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Xu.apply(this,arguments)}var Ju=h({},"USER_NOT_FOUND","user-not-found");function Zu(){return Zu=o(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Us(t,"POST","/v1/accounts:signInWithPhoneNumber",Ls(t,r),Ju));case 2:case"end":return e.stop()}}),e)}))),Zu.apply(this,arguments)}var ec=function(e){ea(n,e);var t=ia(n);function n(e){var r;return oa(this,n),(r=t.call(this,"phone","phone")).params=e,r}return ua(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Yu.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Xu.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Zu.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Mu);var tc=function(){function e(t){var n,r,i,a,o,s;oa(this,e);var u=Ha(Ga(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);_s(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return ua(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Ha(Ga(e)).link,n=t?Ha(Ga(t)).deep_link_id:null,r=Ha(Ga(e)).deep_link_id;return(r?Ha(Ga(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(oD){return null}}}]),e}();var nc=function(){function e(){oa(this,e),this.providerId=e.PROVIDER_ID}return ua(e,null,[{key:"credential",value:function(e,t){return Wu._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=tc.parseLink(t);return _s(n,"argument-error"),Wu._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();nc.PROVIDER_ID="password",nc.EMAIL_PASSWORD_SIGN_IN_METHOD="password",nc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var rc=function(){function e(t){oa(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return ua(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),ic=function(e){ea(n,e);var t=ia(n);function n(){var e;return oa(this,n),(e=t.apply(this,arguments)).scopes=[],e}return ua(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return g(this.scopes)}}]),n}(rc),ac=function(e){ea(n,e);var t=ia(n);function n(){return oa(this,n),t.call(this,"facebook.com")}return ua(n,null,[{key:"credential",value:function(e){return Gu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(oD){return null}}}]),n}(ic);ac.FACEBOOK_SIGN_IN_METHOD="facebook.com",ac.PROVIDER_ID="facebook.com";var oc=function(e){ea(n,e);var t=ia(n);function n(){var e;return oa(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return ua(n,null,[{key:"credential",value:function(e,t){return Gu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(oD){return null}}}]),n}(ic);oc.GOOGLE_SIGN_IN_METHOD="google.com",oc.PROVIDER_ID="google.com";var sc=function(e){ea(n,e);var t=ia(n);function n(){return oa(this,n),t.call(this,"github.com")}return ua(n,null,[{key:"credential",value:function(e){return Gu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(oD){return null}}}]),n}(ic);sc.GITHUB_SIGN_IN_METHOD="github.com",sc.PROVIDER_ID="github.com";var uc=function(e){ea(n,e);var t=ia(n);function n(){return oa(this,n),t.call(this,"twitter.com")}return ua(n,null,[{key:"credential",value:function(e,t){return Gu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(oD){return null}}}]),n}(ic);function cc(e,t){return lc.apply(this,arguments)}function lc(){return lc=o(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Us(t,"POST","/v1/accounts:signUp",Ls(t,n)));case 1:case"end":return e.stop()}}),e)}))),lc.apply(this,arguments)}uc.TWITTER_SIGN_IN_METHOD="twitter.com",uc.PROVIDER_ID="twitter.com";var fc=function(){function e(t){oa(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return ua(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=o(f().mark((function t(n,r,i){var a,o,s,u,c=arguments;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,pu._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=hc(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=o(f().mark((function t(n,r,i){var a;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=hc(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function hc(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var dc=function(e){ea(n,e);var t=ia(n);function n(e,r,i,a){var o,s;return oa(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Zr(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return ua(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Aa);function pc(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw dc._fromErrorAndOperation(e,n,t,r);throw n}))}function vc(e,t){return mc.apply(this,arguments)}function mc(){return mc=o(f().mark((function e(t,n){var r,i,a=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=eu,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",fc._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),mc.apply(this,arguments)}function yc(e,t){return gc.apply(this,arguments)}function gc(){return gc=o(f().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,eu(t,pc(i,a,n,t),r);case 6:return _s((o=e.sent).idToken,i,"internal-error"),_s(s=Zs(o.idToken),i,"internal-error"),u=s.sub,_s(t.uid===u,i,"user-mismatch"),e.abrupt("return",fc._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&gs(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),gc.apply(this,arguments)}function bc(e,t){return kc.apply(this,arguments)}function kc(){return kc=o(f().mark((function e(t,n){var r,i,a,o,s=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,pc(t,i,n);case 4:return a=e.sent,e.next=7,fc._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),kc.apply(this,arguments)}function wc(e,t){return _c.apply(this,arguments)}function _c(){return _c=o(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bc(Ou(t),n));case 1:case"end":return e.stop()}}),e)}))),_c.apply(this,arguments)}function xc(e,t,n){return Sc.apply(this,arguments)}function Sc(){return Sc=o(f().mark((function e(t,n,r){var i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ou(t),e.next=3,cc(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,fc._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Sc.apply(this,arguments)}function Ec(e,t,n){return wc(ro(e),nc.credential(t,n))}function Cc(e){return ro(e).signOut()}function Ic(e,t){return Fs(e,"POST","/v2/accounts/mfaEnrollment:start",Ls(e,t))}new WeakMap;var Tc="__sak",Nc=function(){function e(t,n){oa(this,e),this.storageRetriever=t,this.type=n}return ua(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Tc,"1"),this.storage.removeItem(Tc),Promise.resolve(!0)):Promise.resolve(!1)}catch(oD){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Rc=function(e){ea(n,e);var t=ia(n);function n(){var e;return oa(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Sa();return wu(e)||Iu(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Ru(),e._shouldAllowMigration=!0,e}return ua(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Nu()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=o(f().mark((function e(t,r){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zi(Xi(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=o(f().mark((function e(t){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zi(Xi(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zi(Xi(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Nc);Rc.type="LOCAL";var Pc=Rc,Ac=function(e){ea(n,e);var t=ia(n);function n(){return oa(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return ua(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Nc);Ac.type="SESSION";var Oc=Ac;function Dc(e){return Promise.all(e.map(function(){var e=o(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Mc=function(){function e(t){oa(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return ua(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=o(f().mark((function e(t){var n,r,i,a,s,u,c,l;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,s=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),c=Array.from(u).map(function(){var e=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,s));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Dc(c);case 9:l=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:l});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Lc(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Mc.receivers=[];var Fc=function(){function e(t){oa(this,e),this.target=t,this.handlers=new Set}return ua(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=o(f().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Lc("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function jc(){return window}function Vc(){return"undefined"!==typeof jc().WorkerGlobalScope&&"function"===typeof jc().importScripts}function zc(){return Uc.apply(this,arguments)}function Uc(){return(Uc=o(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Bc(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var qc="firebaseLocalStorageDb",Wc="firebaseLocalStorage",Kc="fbase_key",Hc=function(){function e(t){oa(this,e),this.request=t}return ua(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Gc(e,t){return e.transaction([Wc],t?"readwrite":"readonly").objectStore(Wc)}function Qc(){var e=indexedDB.deleteDatabase(qc);return new Hc(e).toPromise()}function $c(){var e=indexedDB.open(qc,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Wc,{keyPath:Kc})}catch(r){n(r)}})),e.addEventListener("success",o(f().mark((function n(){var r;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Wc)){n.next=12;break}return r.close(),n.next=5,Qc();case 5:return n.t0=t,n.next=8,$c();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Yc(e,t,n){return Xc.apply(this,arguments)}function Xc(){return Xc=o(f().mark((function e(t,n,r){var i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Gc(t,!0).put((h(i={},Kc,n),h(i,"value",r),i)),e.abrupt("return",new Hc(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Xc.apply(this,arguments)}function Jc(e,t){return Zc.apply(this,arguments)}function Zc(){return Zc=o(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gc(t,!1).get(n),e.next=3,new Hc(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Zc.apply(this,arguments)}function el(e,t){var n=Gc(e,!0).delete(t);return new Hc(n).toPromise()}var tl=function(){function e(){oa(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return ua(e,[{key:"_openDb",value:function(){var e=o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,$c();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=o(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vc()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=o(f().mark((function e(){var t=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Mc._getInstance(Vc()?self:null),this.receiver._subscribe("keyChanged",function(){var e=o(f().mark((function e(n,r){var i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=o(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=o(f().mark((function e(){var t,n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zc();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Fc(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Bc()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=o(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,$c();case 5:return t=e.sent,e.next=8,Yc(t,Tc,"1");case 8:return e.next=10,el(t,Tc);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=o(f().mark((function e(t,n){var r=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Yc(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=o(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Jc(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=o(f().mark((function e(t){var n=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return el(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=o(f().mark((function e(){var t,n,r,i,a,o,s,u,c,l,h;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Gc(e,!1).getAll();return new Hc(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=aa(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(f){i.e(f)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)h=l[c],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(o(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();tl.type="LOCAL";var nl=tl;function rl(e,t){return Fs(e,"POST","/v2/accounts/mfaSignIn:start",Ls(e,t))}function il(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=bs("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function al(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}al("rcb"),new Ps(3e4,6e4);var ol="recaptcha";function sl(e,t,n){return ul.apply(this,arguments)}function ul(){return ul=o(f().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,d;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,_s("string"===typeof a,t,"argument-error"),_s(r.type===ol,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return _s("enroll"===s.type,t,"internal-error"),e.next=13,Ic(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return _s("signin"===s.type,t,"internal-error"),_s(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,rl(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Qu(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return h=e.sent,d=h.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),ul.apply(this,arguments)}var cl=function(){function e(t){oa(this,e),this.providerId=e.PROVIDER_ID,this.auth=Ou(t)}return ua(e,[{key:"verifyPhoneNumber",value:function(e,t){return sl(this.auth,e,ro(t))}}],[{key:"credential",value:function(e,t){return ec._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?ec._fromTokenResponse(n,r):null}}]),e}();function ll(e,t){return t?Cs(t):(_s(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}cl.PROVIDER_ID="phone",cl.PHONE_SIGN_IN_METHOD="phone";var fl=function(e){ea(n,e);var t=ia(n);function n(e){var r;return oa(this,n),(r=t.call(this,"custom","custom")).params=e,r}return ua(n,[{key:"_getIdTokenResponse",value:function(e){return Ku(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Ku(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Ku(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Mu);function hl(e){return bc(e.auth,new fl(e),e.bypassAuthState)}function dl(e){var t=e.auth,n=e.user;return _s(n,t,"internal-error"),yc(n,new fl(e),e.bypassAuthState)}function pl(e){return vl.apply(this,arguments)}function vl(){return vl=o(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,_s(r=t.user,n,"internal-error"),e.abrupt("return",vc(r,new fl(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),vl.apply(this,arguments)}var ml=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];oa(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return ua(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=o(f().mark((function t(n,r){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=o(f().mark((function e(t){var n,r,i,a,o,s,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hl;case"linkViaPopup":case"linkViaRedirect":return pl;case"reauthViaPopup":case"reauthViaRedirect":return dl;default:gs(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),yl=new Ps(2e3,1e4);var gl=function(e){ea(n,e);var t=ia(n);function n(e,r,i,a,o){var s;return oa(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Zr(s),s}return ua(n,[{key:"executeNotNull",value:function(){var e=o(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return _s(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=o(f().mark((function e(){var t,n=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ss(1===this.filter.length,"Popup operations only handle one event"),t=Lc(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(bs(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(bs(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(bs(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,yl.get())}()}}]),n}(ml);gl.currentPopupAction=null;var bl=new Map,kl=function(e){ea(n,e);var t=ia(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return oa(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return ua(n,[{key:"execute",value:function(){var e=o(f().mark((function e(){var t,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=bl.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,wl(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Zi(Xi(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:bl.set(this.auth._key(),t);case 21:return this.bypassAuthState||bl.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=o(f().mark((function e(t){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Zi(Xi(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Zi(Xi(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(ml);function wl(e,t){return _l.apply(this,arguments)}function _l(){return _l=o(f().mark((function e(t,n){var r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sl(n),i=xl(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),_l.apply(this,arguments)}function xl(e){return Cs(e._redirectPersistence)}function Sl(e){return yu("pendingRedirect",e.config.apiKey,e.name)}function El(e,t){return Cl.apply(this,arguments)}function Cl(){return Cl=o(f().mark((function e(t,n){var r,i,a,o,s,u=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Ou(t),a=ll(i,n),o=new kl(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Cl.apply(this,arguments)}var Il=function(){function e(t){oa(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return ua(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nl(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Nl(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(bs(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tl(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Tl(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Tl(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Nl(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Rl(e){return Pl.apply(this,arguments)}function Pl(){return Pl=o(f().mark((function e(t){var n,r=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Fs(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Pl.apply(this,arguments)}var Al=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ol=/^https?/;function Dl(){return Dl=o(f().mark((function e(t){var n,r,i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Rl(t);case 4:n=e.sent,r=n.authorizedDomains,i=aa(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Ml(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:gs(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Dl.apply(this,arguments)}function Ml(e){var t=Ts(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Ol.test(r))return!1;if(Al.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Ll=new Ps(3e4,6e4);function Fl(){var e=jc().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=g(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var jl=null;function Vl(e){return jl=jl||function(e){return new Promise((function(t,n){var r,i,a;function o(){Fl(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Fl(),n(bs(e,"network-request-failed"))},timeout:Ll.get()})}if(null===(i=null===(r=jc().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=jc().gapi)||void 0===a?void 0:a.load)){var s=al("iframefcb");return jc()[s]=function(){gapi.load?o():n(bs(e,"network-request-failed"))},il("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw jl=null,e}))}(e),jl}var zl=new Ps(5e3,15e3),Ul={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ql(e){var t=e.config;_s(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?As(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Bo},i=Bl.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Ka(r).slice(1))}function Wl(e){return Kl.apply(this,arguments)}function Kl(){return Kl=o(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vl(t);case 2:return n=e.sent,_s(r=jc().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:ql(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ul,dontclear:!0},(function(e){return new Promise(function(){var n=o(f().mark((function n(r,i){var a,o,s;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){jc().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=bs(t,"network-request-failed"),o=jc().setTimeout((function(){i(a)}),zl.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Kl.apply(this,arguments)}var Hl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Gl="_blank",Ql="http://localhost",$l=function(){function e(t){oa(this,e),this.window=t,this.associatedEvent=null}return ua(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Yl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Hl),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Sa().toLowerCase();n&&(s=_u(l)?Gl:n),ku(l)&&(t=t||Ql,u.scrollbars="yes");var f=Object.entries(u).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Tu(l)&&"_self"!==s)return Xl(t||"",s),new $l(null);var h=window.open(t||"",s,f);_s(h,e,"popup-blocked");try{h.focus()}catch(d){}return new $l(h)}function Xl(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Jl="__/auth/handler",Zl="emulator/auth/handler";function ef(e,t,n,r,i,a){_s(e.config.authDomain,e,"auth-domain-config-required"),_s(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Bo,eventId:i};if(t instanceof rc){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Ua(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var l=c(u[s],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof ic){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Jl);return As(t,Zl)}(e),"?").concat(Ka(p).slice(1))}var tf="webStorageSupport",nf=function(){function e(){oa(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Oc,this._completeRedirectFn=El}return ua(e,[{key:"_openPopup",value:function(){var e=o(f().mark((function e(t,n,r,i){var a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ss(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=ef(t,n,r,Ts(),i),e.abrupt("return",Yl(t,o,Lc()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=o(f().mark((function e(t,n,r,i){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=ef(t,n,r,Ts(),i),jc().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Ss(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=o(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wl(t);case 2:return n=e.sent,r=new Il(t),n.register("authEvent",(function(e){return _s(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(tf,{type:tf},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),gs(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Dl.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Ru()||wu()||Iu()}}]),e}(),rf=nf,af=function(){function e(t){oa(this,e),this.factorId=t}return ua(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return xs("unexpected MultiFactorSessionType")}}}]),e}(),of=function(e){ea(n,e);var t=ia(n);function n(e){var r;return oa(this,n),(r=t.call(this,"phone")).credential=e,r}return ua(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Fs(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ls(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Fs(e,"POST","/v2/accounts/mfaSignIn:finalize",Ls(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(af);(function(){function e(){oa(this,e)}return ua(e,null,[{key:"assertion",value:function(e){return of._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var sf,uf="@firebase/auth",cf="0.19.11",lf=function(){function e(t){oa(this,e),this.auth=t,this.internalListeners=new Map}return ua(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=o(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){_s(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function ff(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ff(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ff(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function df(e,t){if(null==e)return{};var n,r,i=d(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}sf="Browser",Mo(new co("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){_s(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),_s(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:sf,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pu(sf)},i=new Au(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Cs);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Mo(new co("auth-internal",(function(e){return function(e){return new lf(e)}(Ou(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Qo(uf,cf,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(sf)),Qo(uf,cf,"esm2017");var pf=n(694),vf=n.n(pf),mf=["xxl","xl","lg","md","sm","xs"],yf=t.createContext({prefixes:{},breakpoints:mf});yf.Consumer,yf.Provider;function gf(e,n){var r=(0,t.useContext)(yf).prefixes;return e||r[n]||n}var bf=["bsPrefix","fluid","as","className"],kf=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=e.as,a=void 0===i?"div":i,o=e.className,s=df(e,bf),u=gf(n,"container"),c="string"===typeof r?"-".concat(r):"-fluid";return(0,di.jsx)(a,hf(hf({ref:t},s),{},{className:vf()(o,r?"".concat(u).concat(c):u)}))}));kf.displayName="Container",kf.defaultProps={fluid:!1};var wf=kf,_f=/-(.)/g;var xf=["className","bsPrefix","as"],Sf=function(e){return e[0].toUpperCase()+(t=e,t.replace(_f,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function Ef(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.displayName,i=void 0===r?Sf(e):r,a=n.Component,o=n.defaultProps,s=t.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,o=t.as,s=void 0===o?a||"div":o,u=df(t,xf),c=gf(i,e);return(0,di.jsx)(s,hf({ref:n,className:vf()(r,c)},u))}));return s.defaultProps=o,s.displayName=i,s}var Cf=function(e){return t.forwardRef((function(t,n){return(0,di.jsx)("div",hf(hf({},t),{},{ref:n,className:vf()(t.className,e)}))}))},If=["bsPrefix","className","variant","as"],Tf=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.variant,a=e.as,o=void 0===a?"img":a,s=df(e,If),u=gf(n,"card-img");return(0,di.jsx)(o,hf({ref:t,className:vf()(i?"".concat(u,"-").concat(i):u,r)},s))}));Tf.displayName="CardImg";var Nf=Tf,Rf=t.createContext(null);Rf.displayName="CardHeaderContext";var Pf=Rf,Af=["bsPrefix","className","as"],Of=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.as,o=void 0===a?"div":a,s=df(e,Af),u=gf(r,"card-header"),c=(0,t.useMemo)((function(){return{cardHeaderBsPrefix:u}}),[u]);return(0,di.jsx)(Pf.Provider,{value:c,children:(0,di.jsx)(o,hf(hf({ref:n},s),{},{className:vf()(i,u)}))})}));Of.displayName="CardHeader";var Df=Of,Mf=["bsPrefix","className","bg","text","border","body","children","as"],Lf=Cf("h5"),Ff=Cf("h6"),jf=Ef("card-body"),Vf=Ef("card-title",{Component:Lf}),zf=Ef("card-subtitle",{Component:Ff}),Uf=Ef("card-link",{Component:"a"}),Bf=Ef("card-text",{Component:"p"}),qf=Ef("card-footer"),Wf=Ef("card-img-overlay"),Kf=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.bg,a=e.text,o=e.border,s=e.body,u=e.children,c=e.as,l=void 0===c?"div":c,f=df(e,Mf),h=gf(n,"card");return(0,di.jsx)(l,hf(hf({ref:t},f),{},{className:vf()(r,h,i&&"bg-".concat(i),a&&"text-".concat(a),o&&"border-".concat(o)),children:s?(0,di.jsx)(jf,{children:u}):u}))}));Kf.displayName="Card",Kf.defaultProps={body:!1};var Hf=Object.assign(Kf,{Img:Nf,Title:Vf,Subtitle:zf,Body:jf,Link:Uf,Text:Bf,Header:Df,Footer:qf,ImgOverlay:Wf});function Gf(e){var t=e.quote,n=e.author;return(0,di.jsxs)(Hf,{className:"mt-4",children:[(0,di.jsxs)(Hf.Body,{align:"left",children:['"',t,'"']}),""!==n&&(0,di.jsxs)(Hf.Footer,{className:"pt-1 pb-1",align:"right",children:[" - ",n]})]})}function Qf(e){var t=e.quotes;return(0,di.jsx)(wf,{className:"mt-4",children:t.map((function(e,t){return(0,di.jsx)(Gf,{quote:e.quote,author:e.author},t)}))})}var $f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},Yf=t.createContext(null);n(176);function Xf(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Jf(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function Zf(e,n){return Object.keys(n).reduce((function(r,i){var a,o=r,s=o[Xf(i)],u=o[i],c=d(o,[Xf(i),i].map(Jf)),l=n[i],f=function(e,n,r){var i=(0,t.useRef)(void 0!==e),a=(0,t.useState)(n),o=a[0],s=a[1],u=void 0!==e,c=i.current;return i.current=u,!u&&c&&o!==n&&s(n),[u?e:o,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),s(e)}),[r])]}(u,s,e[l]),h=f[0],v=f[1];return p({},c,((a={})[i]=h,a[l]=v,a))}),e)}function eh(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function th(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function nh(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}eh.__suppressDeprecationWarning=!0,th.__suppressDeprecationWarning=!0,nh.__suppressDeprecationWarning=!0;var rh=["bsPrefix","className","as"],ih=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=df(e,rh);n=gf(n,"navbar-brand");var o=i||(a.href?"a":"span");return(0,di.jsx)(o,hf(hf({},a),{},{ref:t,className:vf()(r,n)}))}));ih.displayName="NavbarBrand";var ah=ih;function oh(e){return e&&e.ownerDocument||document}function sh(e,t){return function(e){var t=oh(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var uh=/([A-Z])/g;var ch=/^ms-/;function lh(e){return function(e){return e.replace(uh,"-$1").toLowerCase()}(e).replace(ch,"-ms-")}var fh=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var hh=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(lh(t))||sh(e).getPropertyValue(lh(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!fh.test(e))}(i)?n+=lh(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(lh(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},dh=!1,ph="unmounted",vh="exited",mh="entering",yh="entered",gh="exiting",bh=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=vh,r.appearStatus=mh):i=yh:i=t.unmountOnExit||t.mountOnEnter?ph:vh,r.state={status:i},r.nextCallback=null,r}ti(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===ph?{status:vh}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==mh&&n!==yh&&(t=mh):n!==mh&&n!==yh||(t=gh)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===mh?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===vh&&this.setState({status:ph})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,a=this.props.nodeRef?[r]:[i.findDOMNode(this),r],o=a[0],s=a[1],u=this.getTimeouts(),c=r?u.appear:u.enter;!e&&!n||dh?this.safeSetState({status:yh},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:mh},(function(){t.props.onEntering(o,s),t.onTransitionEnd(c,(function(){t.safeSetState({status:yh},(function(){t.props.onEntered(o,s)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:i.findDOMNode(this);t&&!dh?(this.props.onExit(r),this.safeSetState({status:gh},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:vh},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:vh},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=a[0],s=a[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===ph)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,d(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(ni.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function kh(){}bh.contextType=ni,bh.propTypes={},bh.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:kh,onEntering:kh,onEntered:kh,onExit:kh,onExiting:kh,onExited:kh},bh.UNMOUNTED=ph,bh.EXITED=vh,bh.ENTERING=mh,bh.ENTERED=yh,bh.EXITING=gh;var wh=bh,_h=!("undefined"===typeof window||!window.document||!window.document.createElement),xh=!1,Sh=!1;try{var Eh={get passive(){return xh=!0},get once(){return Sh=xh=!0}};_h&&(window.addEventListener("test",Eh,Eh),window.removeEventListener("test",Eh,!0))}catch(eK){}var Ch=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Sh){var i=r.once,a=r.capture,o=n;!Sh&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,xh?r:a)}e.addEventListener(t,n,r)};var Ih=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var Th=function(e,t,n,r){return Ch(e,t,n,r),function(){Ih(e,t,n,r)}};function Nh(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=Th(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function Rh(e,t,n,r){null==n&&(n=function(e){var t=hh(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=Nh(e,n,r),a=Th(e,"transitionend",t);return function(){i(),a()}}function Ph(e,t){var n=hh(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function Ah(e,t){var n=Ph(e,"transitionDuration"),r=Ph(e,"transitionDelay"),i=Rh(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var Oh=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};function Dh(e){e.offsetHeight}var Mh=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var Lh=function(e,n){return(0,t.useMemo)((function(){return function(e,t){var n=Mh(e),r=Mh(t);return function(e){n&&n(e),r&&r(e)}}(e,n)}),[e,n])};var Fh,jh=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],Vh=t.forwardRef((function(e,n){var r=e.onEnter,a=e.onEntering,o=e.onEntered,s=e.onExit,u=e.onExiting,c=e.onExited,l=e.addEndListener,f=e.children,h=e.childRef,d=df(e,jh),p=(0,t.useRef)(null),v=Lh(p,h),m=function(e){var t;v((t=e)&&"setState"in t?i.findDOMNode(t):null!=t?t:null)},y=function(e){return function(t){e&&p.current&&e(p.current,t)}},g=(0,t.useCallback)(y(r),[r]),b=(0,t.useCallback)(y(a),[a]),k=(0,t.useCallback)(y(o),[o]),w=(0,t.useCallback)(y(s),[s]),_=(0,t.useCallback)(y(u),[u]),x=(0,t.useCallback)(y(c),[c]),S=(0,t.useCallback)(y(l),[l]);return(0,di.jsx)(wh,hf(hf({ref:n},d),{},{onEnter:g,onEntered:k,onEntering:b,onExit:w,onExited:x,onExiting:_,addEndListener:S,nodeRef:p,children:"function"===typeof f?function(e,t){return f(e,hf(hf({},t),{},{ref:m}))}:t.cloneElement(f,{ref:m})}))})),zh=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],Uh={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Bh(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=Uh[e];return n+parseInt(hh(t,r[0]),10)+parseInt(hh(t,r[1]),10)}var qh=(h(Fh={},vh,"collapse"),h(Fh,gh,"collapsing"),h(Fh,mh,"collapsing"),h(Fh,yh,"collapse show"),Fh),Wh={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:Bh},Kh=t.forwardRef((function(e,n){var r=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,s=e.onExiting,u=e.className,c=e.children,l=e.dimension,f=void 0===l?"height":l,h=e.getDimensionValue,d=void 0===h?Bh:h,p=df(e,zh),v="function"===typeof f?f():f,m=(0,t.useMemo)((function(){return Oh((function(e){e.style[v]="0"}),r)}),[v,r]),y=(0,t.useMemo)((function(){return Oh((function(e){var t="scroll".concat(v[0].toUpperCase()).concat(v.slice(1));e.style[v]="".concat(e[t],"px")}),i)}),[v,i]),g=(0,t.useMemo)((function(){return Oh((function(e){e.style[v]=null}),a)}),[v,a]),b=(0,t.useMemo)((function(){return Oh((function(e){e.style[v]="".concat(d(v,e),"px"),Dh(e)}),o)}),[o,d,v]),k=(0,t.useMemo)((function(){return Oh((function(e){e.style[v]=null}),s)}),[v,s]);return(0,di.jsx)(Vh,hf(hf({ref:n,addEndListener:Ah},p),{},{"aria-expanded":p.role?p.in:null,onEnter:m,onEntering:y,onEntered:g,onExit:b,onExiting:k,childRef:c.ref,children:function(e,n){return t.cloneElement(c,hf(hf({},n),{},{className:vf()(u,c.props.className,qh[e],"width"===v&&"collapse-horizontal")}))}}))}));Kh.defaultProps=Wh;var Hh=Kh,Gh=t.createContext(null);Gh.displayName="NavbarContext";var Qh=Gh,$h=["children","bsPrefix"],Yh=t.forwardRef((function(e,n){var r=e.children,i=e.bsPrefix,a=df(e,$h);i=gf(i,"navbar-collapse");var o=(0,t.useContext)(Qh);return(0,di.jsx)(Hh,hf(hf({in:!(!o||!o.expanded)},a),{},{children:(0,di.jsx)("div",{ref:n,className:i,children:r})}))}));Yh.displayName="NavbarCollapse";var Xh=Yh;var Jh=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n};function Zh(e){var n=Jh(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var ed=["bsPrefix","className","children","label","as","onClick"],td=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=e.label,s=e.as,u=void 0===s?"button":s,c=e.onClick,l=df(e,ed);r=gf(r,"navbar-toggler");var f=(0,t.useContext)(Qh)||{},h=f.onToggle,d=f.expanded,p=Zh((function(e){c&&c(e),h&&h()}));return"button"===u&&(l.type="button"),(0,di.jsx)(u,hf(hf({},l),{},{ref:n,onClick:p,"aria-label":o,className:vf()(i,r,!d&&"collapsed"),children:a||(0,di.jsx)("span",{className:"".concat(r,"-icon")})}))}));td.displayName="NavbarToggle",td.defaultProps={label:"Toggle navigation"};var nd=td;function rd(e){void 0===e&&(e=oh());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(eK){return e.body}}function id(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function ad(e){var n=function(e){var n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((function(){return function(){return n.current()}}),[])}function od(e){return"".concat("data-rr-ui-").concat(e)}var sd=od("modal-open"),ud=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,i=void 0===r||r,a=t.isRTL,o=void 0!==a&&a;oa(this,e),this.handleContainerOverflow=i,this.isRTL=o,this.modals=[],this.ownerDocument=n}return ua(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=h({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(hh(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(sd,""),hh(r,t)}},{key:"reset",value:function(){var e=this;g(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(sd),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),cd=ud,ld=(0,t.createContext)(_h?window:void 0);ld.Provider;function fd(){return(0,t.useContext)(ld)}var hd=function(e,t){var n;return _h?null==e?(t||oh()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(n=e)&&n.nodeType&&e||null):null};var dd,pd=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function vd(e){var n=fd(),r=e||function(e){return dd||(dd=new cd({ownerDocument:null==e?void 0:e.document})),dd}(n),i=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(){return r.add(i.current)},remove:function(){return r.remove(i.current)},isTopModal:function(){return r.isTopModal(i.current)},setDialogRef:(0,t.useCallback)((function(e){i.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((function(e){i.current.backdrop=e}),[])})}var md=(0,t.forwardRef)((function(e,n){var r=e.show,a=void 0!==r&&r,o=e.role,s=void 0===o?"dialog":o,u=e.className,l=e.style,f=e.children,h=e.backdrop,d=void 0===h||h,p=e.keyboard,v=void 0===p||p,m=e.onBackdropClick,y=e.onEscapeKeyDown,g=e.transition,b=e.backdropTransition,k=e.autoFocus,w=void 0===k||k,_=e.enforceFocus,x=void 0===_||_,S=e.restoreFocus,E=void 0===S||S,C=e.restoreFocusOptions,I=e.renderDialog,T=e.renderBackdrop,N=void 0===T?function(e){return(0,di.jsx)("div",Object.assign({},e))}:T,R=e.manager,P=e.container,A=e.onShow,O=e.onHide,D=void 0===O?function(){}:O,M=e.onExit,L=e.onExited,F=e.onExiting,j=e.onEnter,V=e.onEntering,z=e.onEntered,U=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,pd),B=function(e,n){var r=fd(),i=c((0,t.useState)((function(){return hd(e,null==r?void 0:r.document)})),2),a=i[0],o=i[1];if(!a){var s=hd(e);s&&o(s)}return(0,t.useEffect)((function(){n&&a&&n(a)}),[n,a]),(0,t.useEffect)((function(){var t=hd(e);t!==a&&o(t)}),[e,a]),a}(P),q=vd(R),W=function(){var e=(0,t.useRef)(!0),n=(0,t.useRef)((function(){return e.current}));return(0,t.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),n.current}(),K=function(e){var n=(0,t.useRef)(null);return(0,t.useEffect)((function(){n.current=e})),n.current}(a),H=c((0,t.useState)(!a),2),G=H[0],Q=H[1],$=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(function(){return q}),[q]),_h&&!K&&a&&($.current=rd()),g||a||G?a&&G&&Q(!1):Q(!0);var Y=Zh((function(){if(q.add(),ne.current=Th(document,"keydown",ee),te.current=Th(document,"focus",(function(){return setTimeout(J)}),!0),A&&A(),w){var e=rd(document);q.dialog&&e&&!id(q.dialog,e)&&($.current=e,q.dialog.focus())}})),X=Zh((function(){var e;(q.remove(),null==ne.current||ne.current(),null==te.current||te.current(),E)&&(null==(e=$.current)||null==e.focus||e.focus(C),$.current=null)}));(0,t.useEffect)((function(){a&&B&&Y()}),[a,B,Y]),(0,t.useEffect)((function(){G&&X()}),[G,X]),ad((function(){X()}));var J=Zh((function(){if(x&&W()&&q.isTopModal()){var e=rd();q.dialog&&e&&!id(q.dialog,e)&&q.dialog.focus()}})),Z=Zh((function(e){e.target===e.currentTarget&&(null==m||m(e),!0===d&&D())})),ee=Zh((function(e){v&&27===e.keyCode&&q.isTopModal()&&(null==y||y(e),e.defaultPrevented||D())})),te=(0,t.useRef)(),ne=(0,t.useRef)(),re=g;if(!B||!(a||re&&!G))return null;var ie=Object.assign({role:s,ref:q.setDialogRef,"aria-modal":"dialog"===s||void 0},U,{style:l,className:u,tabIndex:-1}),ae=I?I(ie):(0,di.jsx)("div",Object.assign({},ie,{children:t.cloneElement(f,{role:"document"})}));re&&(ae=(0,di.jsx)(re,{appear:!0,unmountOnExit:!0,in:!!a,onExit:M,onExiting:F,onExited:function(){Q(!0),null==L||L.apply(void 0,arguments)},onEnter:j,onEntering:V,onEntered:z,children:ae}));var oe=null;if(d){var se=b;oe=N({ref:q.setBackdropRef,onClick:Z}),se&&(oe=(0,di.jsx)(se,{appear:!0,in:!!a,children:oe}))}return(0,di.jsx)(di.Fragment,{children:i.createPortal((0,di.jsxs)(di.Fragment,{children:[oe,ae]}),B)})}));md.displayName="Modal";var yd,gd=Object.assign(md,{Manager:cd}),bd=["className","children","transitionClasses"],kd=(h(yd={},mh,"show"),h(yd,yh,"show"),yd),wd=t.forwardRef((function(e,n){var r=e.className,i=e.children,a=e.transitionClasses,o=void 0===a?{}:a,s=df(e,bd),u=(0,t.useCallback)((function(e,t){Dh(e),null==s.onEnter||s.onEnter(e,t)}),[s]);return(0,di.jsx)(Vh,hf(hf({ref:n,addEndListener:Ah},s),{},{onEnter:u,childRef:i.ref,children:function(e,n){return t.cloneElement(i,hf(hf({},n),{},{className:vf()("fade",r,i.props.className,kd[e],o[e])}))}}))}));wd.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},wd.displayName="Fade";var _d,xd=wd,Sd=Ef("offcanvas-body"),Ed=["bsPrefix","className","children"],Cd=(h(_d={},mh,"show"),h(_d,yh,"show"),_d),Id=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=df(e,Ed);return r=gf(r,"offcanvas"),(0,di.jsx)(Vh,hf(hf({ref:n,addEndListener:Ah},o),{},{childRef:a.ref,children:function(e,n){return t.cloneElement(a,hf(hf({},n),{},{className:vf()(i,a.props.className,(e===mh||e===gh)&&"".concat(r,"-toggling"),Cd[e])}))}}))}));Id.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Id.displayName="OffcanvasToggling";var Td=Id,Nd=t.createContext({onHide:function(){}}),Rd=n(7),Pd=n.n(Rd),Ad=["className","variant"],Od={"aria-label":Pd().string,onClick:Pd().func,variant:Pd().oneOf(["white"])},Dd=t.forwardRef((function(e,t){var n=e.className,r=e.variant,i=df(e,Ad);return(0,di.jsx)("button",hf({ref:t,type:"button",className:vf()("btn-close",r&&"btn-close-".concat(r),n)},i))}));Dd.displayName="CloseButton",Dd.propTypes=Od,Dd.defaultProps={"aria-label":"Close"};var Md=Dd,Ld=["closeLabel","closeVariant","closeButton","onHide","children"],Fd=t.forwardRef((function(e,n){var r=e.closeLabel,i=e.closeVariant,a=e.closeButton,o=e.onHide,s=e.children,u=df(e,Ld),c=(0,t.useContext)(Nd),l=Zh((function(){null==c||c.onHide(),null==o||o()}));return(0,di.jsxs)("div",hf(hf({ref:n},u),{},{children:[s,a&&(0,di.jsx)(Md,{"aria-label":r,variant:i,onClick:l})]}))}));Fd.defaultProps={closeLabel:"Close",closeButton:!1};var jd=Fd,Vd=["bsPrefix","className"],zd=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=df(e,Vd);return n=gf(n,"offcanvas-header"),(0,di.jsx)(jd,hf(hf({ref:t},i),{},{className:vf()(r,n)}))}));zd.displayName="OffcanvasHeader",zd.defaultProps={closeLabel:"Close",closeButton:!1};var Ud=zd,Bd=Ef("offcanvas-title",{Component:Cf("h5")});var qd=Function.prototype.bind.call(Function.prototype.call,[].slice);function Wd(e,t){return qd(e.querySelectorAll(t))}function Kd(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var Hd,Gd=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Qd=".sticky-top",$d=".navbar-toggler",Yd=function(e){ea(n,e);var t=ia(n);function n(){return oa(this,n),t.apply(this,arguments)}return ua(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,hh(t,h({},e,"".concat(parseFloat(hh(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],hh(t,h({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;Zi(Xi(n.prototype),"setContainerStyle",this).call(this,e);var r,i,a=this.getElement();if(i="modal-open",(r=a).classList?r.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(r,i)||("string"===typeof r.className?r.className=r.className+" "+i:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+i)),e.scrollBarWidth){var o=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Wd(a,Gd).forEach((function(n){return t.adjustAndStore(o,n,e.scrollBarWidth)})),Wd(a,Qd).forEach((function(n){return t.adjustAndStore(s,n,-e.scrollBarWidth)})),Wd(a,$d).forEach((function(n){return t.adjustAndStore(s,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;Zi(Xi(n.prototype),"removeContainerStyle",this).call(this,e);var r,i,a=this.getElement();i="modal-open",(r=a).classList?r.classList.remove(i):"string"===typeof r.className?r.className=Kd(r.className,i):r.setAttribute("class",Kd(r.className&&r.className.baseVal||"",i));var o=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Wd(a,Gd).forEach((function(e){return t.restore(o,e)})),Wd(a,Qd).forEach((function(e){return t.restore(s,e)})),Wd(a,$d).forEach((function(e){return t.restore(s,e)}))}}]),n}(cd);function Xd(e){return Hd||(Hd=new Yd(e)),Hd}var Jd=Yd,Zd=["bsPrefix","className","children","aria-labelledby","placement","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"];function ep(e){return(0,di.jsx)(Td,hf({},e))}function tp(e){return(0,di.jsx)(xd,hf({},e))}var np=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=e["aria-labelledby"],s=e.placement,u=e.show,c=e.backdrop,l=e.keyboard,f=e.scroll,h=e.onEscapeKeyDown,d=e.onShow,p=e.onHide,v=e.container,m=e.autoFocus,y=e.enforceFocus,g=e.restoreFocus,b=e.restoreFocusOptions,k=e.onEntered,w=e.onExit,_=e.onExiting,x=e.onEnter,S=e.onEntering,E=e.onExited,C=e.backdropClassName,I=e.manager,T=df(e,Zd),N=(0,t.useRef)();r=gf(r,"offcanvas");var R=((0,t.useContext)(Qh)||{}).onToggle,P=Zh((function(){null==R||R(),null==p||p()})),A=(0,t.useMemo)((function(){return{onHide:P}}),[P]);var O=(0,t.useCallback)((function(e){return(0,di.jsx)("div",hf(hf({},e),{},{className:vf()("".concat(r,"-backdrop"),C)}))}),[C,r]);return(0,di.jsx)(Nd.Provider,{value:A,children:(0,di.jsx)(gd,{show:u,ref:n,backdrop:c,container:v,keyboard:l,autoFocus:m,enforceFocus:y&&!f,restoreFocus:g,restoreFocusOptions:b,onEscapeKeyDown:h,onShow:d,onHide:P,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==x||x.apply(void 0,[e].concat(n))},onEntering:S,onEntered:k,onExit:w,onExiting:_,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==E||E.apply(void 0,n)},manager:I||(f?(N.current||(N.current=new Jd({handleContainerOverflow:!1})),N.current):Xd()),transition:ep,backdropTransition:tp,renderBackdrop:O,renderDialog:function(e){return(0,di.jsx)("div",hf(hf(hf({role:"dialog"},e),T),{},{className:vf()(i,r,"".concat(r,"-").concat(s)),"aria-labelledby":o,children:a}))}})})}));np.displayName="Offcanvas",np.defaultProps={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start"};var rp=Object.assign(np,{Body:Sd,Header:Ud,Title:Bd}),ip=t.forwardRef((function(e,n){var r=(0,t.useContext)(Qh);return(0,di.jsx)(rp,hf({ref:n,show:!(null==r||!r.expanded)},e))}));ip.displayName="NavbarOffcanvas";var ap=ip,op=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],sp=Ef("navbar-text",{Component:"span"}),up=t.forwardRef((function(e,n){var r=Zf(e,{expanded:"onToggle"}),i=r.bsPrefix,a=r.expand,o=r.variant,s=r.bg,u=r.fixed,c=r.sticky,l=r.className,f=r.as,h=void 0===f?"nav":f,d=r.expanded,p=r.onToggle,v=r.onSelect,m=r.collapseOnSelect,y=df(r,op),g=gf(i,"navbar"),b=(0,t.useCallback)((function(){null==v||v.apply(void 0,arguments),m&&d&&(null==p||p(!1))}),[v,m,d,p]);void 0===y.role&&"nav"!==h&&(y.role="navigation");var k="".concat(g,"-expand");"string"===typeof a&&(k="".concat(k,"-").concat(a));var w=(0,t.useMemo)((function(){return{onToggle:function(){return null==p?void 0:p(!d)},bsPrefix:g,expanded:!!d}}),[g,d,p]);return(0,di.jsx)(Qh.Provider,{value:w,children:(0,di.jsx)(Yf.Provider,{value:b,children:(0,di.jsx)(h,hf(hf({ref:n},y),{},{className:vf()(l,g,a&&k,o&&"".concat(g,"-").concat(o),s&&"bg-".concat(s),c&&"sticky-".concat(c),u&&"fixed-".concat(u))}))})})}));up.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},up.displayName="Navbar";var cp=Object.assign(up,{Brand:ah,Collapse:Xh,Offcanvas:ap,Text:sp,Toggle:nd});n(573);var lp=t.createContext(null);lp.displayName="NavContext";var fp=lp,hp=t.createContext(null),dp=["as","disabled"];function pp(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.onClick,s=e.tabIndex,u=void 0===s?0:s,c=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var l={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},l];var f=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==o||o(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:"button",disabled:void 0,tabIndex:n?void 0:u,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:f,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),f(e))}},l]}var vp=t.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,dp),a=c(pp(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],s=a[1].tagName;return(0,di.jsx)(s,Object.assign({},i,o,{ref:t}))}));vp.displayName="Button";var mp=vp,yp=["as","active","eventKey"];function gp(e){var n=e.key,r=e.onClick,i=e.active,a=e.id,o=e.role,s=e.disabled,u=(0,t.useContext)(Yf),c=(0,t.useContext)(fp),l=(0,t.useContext)(hp),f=i,h={role:o};if(c){o||"tablist"!==c.role||(h.role="tab");var d=c.getControllerId(null!=n?n:null),p=c.getControlledId(null!=n?n:null);h[od("event-key")]=n,h.id=d||a,!(f=null==i&&null!=n?c.activeKey===n:i)&&(null!=l&&l.unmountOnExit||null!=l&&l.mountOnEnter)||(h["aria-controls"]=p)}return"tab"===h.role&&(s&&(h.tabIndex=-1,h["aria-disabled"]=!0),f?h["aria-selected"]=f:h.tabIndex=-1),h.onClick=Zh((function(e){s||(null==r||r(e),null!=n&&u&&!e.isPropagationStopped()&&u(n,e))})),[h,{isActive:f}]}var bp=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?mp:n,i=e.active,a=e.eventKey,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,yp),s=c(gp(Object.assign({key:$f(a,o.href),active:i},o)),2),u=s[0],l=s[1];return u[od("active")]=l.isActive,(0,di.jsx)(r,Object.assign({},o,u,{ref:t}))}));bp.displayName="NavItem";var kp=bp,wp=["as","onSelect","activeKey","role","onKeyDown"];var _p=function(){},xp=od("event-key"),Sp=t.forwardRef((function(e,n){var r,i,a=e.as,o=void 0===a?"div":a,s=e.onSelect,u=e.activeKey,c=e.role,l=e.onKeyDown,f=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,wp),h=(0,t.useReducer)((function(e){return!e}),!1)[1],d=(0,t.useRef)(!1),p=(0,t.useContext)(Yf),v=(0,t.useContext)(hp);v&&(c=c||"tablist",u=v.activeKey,r=v.getControlledId,i=v.getControllerId);var m=(0,t.useRef)(null),y=function(e){var t=m.current;if(!t)return null;var n=Wd(t,"[".concat(xp,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;var i=n.indexOf(r);if(-1===i)return null;var a=i+e;return a>=n.length&&(a=0),a<0&&(a=n.length-1),n[a]},g=function(e,t){null!=e&&(null==s||s(e,t),null==p||p(e,t))};(0,t.useEffect)((function(){if(m.current&&d.current){var e=m.current.querySelector("[".concat(xp,"][aria-selected=true]"));null==e||e.focus()}d.current=!1}));var b=Lh(n,m);return(0,di.jsx)(Yf.Provider,{value:g,children:(0,di.jsx)(fp.Provider,{value:{role:c,activeKey:$f(u),getControlledId:r||_p,getControllerId:i||_p},children:(0,di.jsx)(o,Object.assign({},f,{onKeyDown:function(e){if(null==l||l(e),v){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=y(-1);break;case"ArrowRight":case"ArrowDown":t=y(1);break;default:return}if(t)e.preventDefault(),g(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),d.current=!0,h()}},ref:b,role:c}))})})}));Sp.displayName="Nav";var Ep=Object.assign(Sp,{Item:kp}),Cp=Ef("nav-item");var Ip="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product;"undefined"!==typeof document||Ip?t.useLayoutEffect:t.useEffect,new WeakMap;var Tp=["onKeyDown"];var Np=t.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Tp),a=c(pp(Object.assign({tagName:"a"},i)),1)[0],o=Zh((function(e){a.onKeyDown(e),null==r||r(e)}));return((n=i.href)&&"#"!==n.trim()||i.role)&&"button"!==i.role?(0,di.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,di.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));Np.displayName="Anchor";var Rp=Np,Pp=["bsPrefix","className","as","active","eventKey"],Ap=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?Rp:i,o=e.active,s=e.eventKey,u=df(e,Pp);n=gf(n,"nav-link");var l=c(gp(hf({key:$f(s,u.href),active:o},u)),2),f=l[0],h=l[1];return(0,di.jsx)(a,hf(hf(hf({},u),f),{},{ref:t,className:vf()(r,n,u.disabled&&"disabled",h.isActive&&"active")}))}));Ap.displayName="NavLink",Ap.defaultProps={disabled:!1};var Op=Ap,Dp=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],Mp=t.forwardRef((function(e,n){var r,i,a,o=Zf(e,{activeKey:"onSelect"}),s=o.as,u=void 0===s?"div":s,c=o.bsPrefix,l=o.variant,f=o.fill,d=o.justify,p=o.navbar,v=o.navbarScroll,m=o.className,y=o.activeKey,g=df(o,Dp),b=gf(c,"nav"),k=!1,w=(0,t.useContext)(Qh),_=(0,t.useContext)(Pf);return w?(i=w.bsPrefix,k=null==p||p):_&&(a=_.cardHeaderBsPrefix),(0,di.jsx)(Ep,hf({as:u,ref:n,activeKey:y,className:vf()(m,(r={},h(r,b,!k),h(r,"".concat(i,"-nav"),k),h(r,"".concat(i,"-nav-scroll"),k&&v),h(r,"".concat(a,"-").concat(l),!!a),h(r,"".concat(b,"-").concat(l),!!l),h(r,"".concat(b,"-fill"),f),h(r,"".concat(b,"-justified"),d),r))},g))}));Mp.displayName="Nav",Mp.defaultProps={justify:!1,fill:!1};var Lp=Object.assign(Mp,{Item:Cp,Link:Op}),Fp=n.p+"static/media/logo-white.9a576ba71ea7e694a3b0.png",jp=["sx"];function Vp(e){var t,n=e.sx,r=function(e){var t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((function(n){Cn[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]})),t}(d(e,jp)),i=r.systemProps,a=r.otherProps;return t=Array.isArray(n)?[i].concat(g(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return Je(e)?p({},i,e):i}:p({},i,n),p({},a,{sx:t})}var zp=["className","component"];var Up=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.defaultTheme,r=e.defaultClassName,i=void 0===r?"MuiBox-root":r,a=e.generateClassName,o=e.styleFunctionSx,s=void 0===o?Rn:o,u=Xe("div")(s),c=t.forwardRef((function(e,t){var r=Dr(n),o=Vp(e),s=o.className,c=o.component,l=void 0===c?"div":c,f=d(o,zp);return(0,di.jsx)(u,p({as:l,ref:t,className:m(s,a?a(i):i),theme:r},f))}));return c}({defaultTheme:_r(),defaultClassName:"MuiBox-root",generateClassName:mi.generate}),Bp=Up;function qp(e){return gi("MuiIconButton",e)}var Wp=bi("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Kp=["edge","children","className","color","disabled","disableFocusRipple","size"],Hp=Ir(qi,{name:"MuiIconButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"default"!==n.color&&t["color".concat(Wi(n.color))],n.edge&&t["edge".concat(Wi(n.edge))],t["size".concat(Wi(n.size))]]}})((function(e){var t=e.theme,n=e.ownerState;return p({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:t.palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:Kn(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(function(e){var t=e.theme,n=e.ownerState;return p({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&p({color:t.palette[n.color].main},!n.disableRipple&&{"&:hover":{backgroundColor:Kn(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},h({},"&.".concat(Wp.disabled),{backgroundColor:"transparent",color:t.palette.action.disabled}))})),Gp=t.forwardRef((function(e,t){var n=Lr({props:e,name:"MuiIconButton"}),r=n.edge,i=void 0!==r&&r,a=n.children,o=n.className,s=n.color,u=void 0===s?"default":s,c=n.disabled,l=void 0!==c&&c,f=n.disableFocusRipple,h=void 0!==f&&f,v=n.size,g=void 0===v?"medium":v,b=d(n,Kp),k=p({},n,{edge:i,color:u,disabled:l,disableFocusRipple:h,size:g}),w=function(e){var t=e.classes,n=e.disabled,r=e.color,i=e.edge,a=e.size;return y({root:["root",n&&"disabled","default"!==r&&"color".concat(Wi(r)),i&&"edge".concat(Wi(i)),"size".concat(Wi(a))]},qp,t)}(k);return(0,di.jsx)(Hp,p({className:m(w.root,o),centerRipple:!0,focusRipple:!h,disabled:l,ref:t,ownerState:k},b,{children:a}))})),Qp=Gp;n(441);function $p(e){return e&&e.ownerDocument||document}var Yp=$p;var Xp=t.createContext({});function Jp(e){return gi("MuiList",e)}bi("MuiList",["root","padding","dense","subheader"]);var Zp=["children","className","component","dense","disablePadding","subheader"],ev=Ir("ul",{name:"MuiList",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((function(e){var t=e.ownerState;return p({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),tv=t.forwardRef((function(e,n){var r=Lr({props:e,name:"MuiList"}),i=r.children,a=r.className,o=r.component,s=void 0===o?"ul":o,u=r.dense,c=void 0!==u&&u,l=r.disablePadding,f=void 0!==l&&l,h=r.subheader,v=d(r,Zp),g=t.useMemo((function(){return{dense:c}}),[c]),b=p({},r,{component:s,dense:c,disablePadding:f}),k=function(e){var t=e.classes;return y({root:["root",!e.disablePadding&&"padding",e.dense&&"dense",e.subheader&&"subheader"]},Jp,t)}(b);return(0,di.jsx)(Xp.Provider,{value:g,children:(0,di.jsxs)(ev,p({as:s,className:m(k.root,a),ref:n,ownerState:b},v,{children:[h,i]}))})})),nv=tv;function rv(e){var t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}var iv=rv,av=zr,ov=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function sv(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function uv(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function cv(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function lv(e,t,n,r,i,a){for(var o=!1,s=i(e,t,!!t&&n);s;){if(s===e.firstChild){if(o)return!1;o=!0}var u=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&cv(s,a)&&!u)return s.focus(),!0;s=i(e,s,n)}return!1}var fv=t.forwardRef((function(e,n){var r=e.actions,i=e.autoFocus,a=void 0!==i&&i,o=e.autoFocusItem,s=void 0!==o&&o,u=e.children,c=e.className,l=e.disabledItemsFocusable,f=void 0!==l&&l,h=e.disableListWrap,v=void 0!==h&&h,m=e.onKeyDown,y=e.variant,g=void 0===y?"selectedMenu":y,b=d(e,ov),k=t.useRef(null),w=t.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});av((function(){a&&k.current.focus()}),[a]),t.useImperativeHandle(r,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!k.current.style.width;if(e.clientHeight<k.current.clientHeight&&n){var r="".concat(iv(Yp(e)),"px");k.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,k.current.style.width="calc(100% + ".concat(r,")")}return k.current}}}),[]);var _=Vr(k,n),x=-1;t.Children.forEach(u,(function(e,n){t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===g&&e.props.selected||-1===x)&&(x=n))}));var S=t.Children.map(u,(function(e,n){if(n===x){var r={};return s&&(r.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===g&&(r.tabIndex=0),t.cloneElement(e,r)}return e}));return(0,di.jsx)(nv,p({role:"menu",ref:_,className:c,onKeyDown:function(e){var t=k.current,n=e.key,r=Yp(t).activeElement;if("ArrowDown"===n)e.preventDefault(),lv(t,r,v,f,sv);else if("ArrowUp"===n)e.preventDefault(),lv(t,r,v,f,uv);else if("Home"===n)e.preventDefault(),lv(t,null,v,f,sv);else if("End"===n)e.preventDefault(),lv(t,null,v,f,uv);else if(1===n.length){var i=w.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);var s=r&&!i.repeating&&cv(r,i);i.previousKeyMatched&&(s||lv(t,r,!1,f,sv,i))?e.preventDefault():i.previousKeyMatched=!1}m&&m(e)},tabIndex:a?0:-1},b,{children:S}))})),hv=fv;function dv(e){return gi("MuiPaper",e)}bi("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var pv=["className","component","elevation","square","variant"],vv=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)},mv=Ir("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t=e.theme,n=e.ownerState;return p({backgroundColor:t.palette.background.paper,color:t.palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat(t.palette.divider)},"elevation"===n.variant&&p({boxShadow:t.shadows[n.elevation]},"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat(Kn("#fff",vv(n.elevation)),", ").concat(Kn("#fff",vv(n.elevation)),")")}))})),yv=t.forwardRef((function(e,t){var n=Lr({props:e,name:"MuiPaper"}),r=n.className,i=n.component,a=void 0===i?"div":i,o=n.elevation,s=void 0===o?1:o,u=n.square,c=void 0!==u&&u,l=n.variant,f=void 0===l?"elevation":l,h=d(n,pv),v=p({},n,{component:a,elevation:s,square:c,variant:f}),g=function(e){var t=e.square,n=e.elevation,r=e.variant,i=e.classes;return y({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},dv,i)}(v);return(0,di.jsx)(mv,p({as:a,ownerState:v,className:m(g.root,r),ref:t},h))})),gv=yv;function bv(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=function(){e.apply(r,a)};clearTimeout(t),t=setTimeout(s,n)}return r.clear=function(){clearTimeout(t)},r}var kv=bv;function wv(e){return $p(e).defaultView||window}var _v=wv;function xv(){return Dr(xr)}var Sv=function(e){return e.scrollTop};function Ev(e,t){var n,r,i=e.timeout,a=e.easing,o=e.style,s=void 0===o?{}:o;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof a?a[t.mode]:a,delay:s.transitionDelay}}var Cv=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Iv(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var Tv={entering:{opacity:1,transform:Iv(1)},entered:{opacity:1,transform:"none"}},Nv="undefined"!==typeof navigator&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&/version\/15\.[4-9]/i.test(navigator.userAgent),Rv=t.forwardRef((function(e,n){var r=e.addEndListener,i=e.appear,a=void 0===i||i,o=e.children,s=e.easing,u=e.in,c=e.onEnter,l=e.onEntered,f=e.onEntering,h=e.onExit,v=e.onExited,m=e.onExiting,y=e.style,g=e.timeout,b=void 0===g?"auto":g,k=e.TransitionComponent,w=void 0===k?wh:k,_=d(e,Cv),x=t.useRef(),S=t.useRef(),E=xv(),C=t.useRef(null),I=Vr(o.ref,n),T=Vr(C,I),N=function(e){return function(t){if(e){var n=C.current;void 0===t?e(n):e(n,t)}}},R=N(f),P=N((function(e,t){Sv(e);var n,r=Ev({style:y,timeout:b,easing:s},{mode:"enter"}),i=r.duration,a=r.delay,o=r.easing;"auto"===b?(n=E.transitions.getAutoHeightDuration(e.clientHeight),S.current=n):n=i,e.style.transition=[E.transitions.create("opacity",{duration:n,delay:a}),E.transitions.create("transform",{duration:Nv?n:.666*n,delay:a,easing:o})].join(","),c&&c(e,t)})),A=N(l),O=N(m),D=N((function(e){var t,n=Ev({style:y,timeout:b,easing:s},{mode:"exit"}),r=n.duration,i=n.delay,a=n.easing;"auto"===b?(t=E.transitions.getAutoHeightDuration(e.clientHeight),S.current=t):t=r,e.style.transition=[E.transitions.create("opacity",{duration:t,delay:i}),E.transitions.create("transform",{duration:Nv?t:.666*t,delay:Nv?i:i||.333*t,easing:a})].join(","),e.style.opacity=0,e.style.transform=Iv(.75),h&&h(e)})),M=N(v);return t.useEffect((function(){return function(){clearTimeout(x.current)}}),[]),(0,di.jsx)(w,p({appear:a,in:u,nodeRef:C,onEnter:P,onEntered:A,onEntering:R,onExit:D,onExited:M,onExiting:O,addEndListener:function(e){"auto"===b&&(x.current=setTimeout(e,S.current||0)),r&&r(C.current,e)},timeout:"auto"===b?null:b},_,{children:function(e,n){return t.cloneElement(o,p({style:p({opacity:0,transform:Iv(.75),visibility:"exited"!==e||u?void 0:"hidden"},Tv[e],y,o.props.style),ref:T},n))}}))}));Rv.muiSupportAuto=!0;var Pv=Rv;var Av=function(e){return"string"===typeof e};function Ov(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}var Dv=t.forwardRef((function(e,n){var r=e.children,a=e.container,o=e.disablePortal,s=void 0!==o&&o,u=c(t.useState(null),2),l=u[0],f=u[1],h=jr(t.isValidElement(r)?r.ref:null,n);return zr((function(){s||f(function(e){return"function"===typeof e?e():e}(a)||document.body)}),[a,s]),zr((function(){if(l&&!s)return Fr(n,l),function(){Fr(n,null)}}),[n,l,s]),s?t.isValidElement(r)?t.cloneElement(r,{ref:h}):r:l?i.createPortal(r,l):l}));function Mv(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Lv(e){return parseInt(wv(e).getComputedStyle(e).paddingRight,10)||0}function Fv(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[t,n].concat(g(r)),o=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){-1===a.indexOf(e)&&-1===o.indexOf(e.tagName)&&Mv(e,i)}))}function jv(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function Vv(e,t){var n=[],r=e.container;if(!t.disableScrollLock){if(function(e){var t=$p(e);return t.body===e?wv(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){var i=rv($p(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(Lv(r)+i,"px");var a=$p(r).querySelectorAll(".mui-fixed");[].forEach.call(a,(function(e){n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(Lv(e)+i,"px")}))}var o=r.parentElement,s=wv(r),u="HTML"===(null==o?void 0:o.nodeName)&&"scroll"===s.getComputedStyle(o).overflowY?o:r;n.push({value:u.style.overflow,property:"overflow",el:u},{value:u.style.overflowX,property:"overflow-x",el:u},{value:u.style.overflowY,property:"overflow-y",el:u}),u.style.overflow="hidden"}return function(){n.forEach((function(e){var t=e.value,n=e.el,r=e.property;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var zv=function(){function e(){oa(this,e),this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}return ua(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Mv(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);Fv(t,e.mount,e.modalRef,r,!0);var i=jv(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}},{key:"mount",value:function(e,t){var n=jv(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=Vv(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=jv(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&Mv(e.modalRef,!0),Fv(r.container,e.mount,e.modalRef,r.hiddenSiblings,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&Mv(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}(),Uv=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Bv(e){var t=[],n=[];return Array.from(e.querySelectorAll(Uv)).forEach((function(e,r){var i=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;var t=function(t){return e.ownerDocument.querySelector('input[type="radio"]'.concat(t))},n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort((function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(t)}function qv(){return!0}var Wv=function(e){var n=e.children,r=e.disableAutoFocus,i=void 0!==r&&r,a=e.disableEnforceFocus,o=void 0!==a&&a,s=e.disableRestoreFocus,u=void 0!==s&&s,c=e.getTabbable,l=void 0===c?Bv:c,f=e.isEnabled,h=void 0===f?qv:f,d=e.open,p=t.useRef(),v=t.useRef(null),m=t.useRef(null),y=t.useRef(null),g=t.useRef(null),b=t.useRef(!1),k=t.useRef(null),w=jr(n.ref,k),_=t.useRef(null);t.useEffect((function(){d&&k.current&&(b.current=!i)}),[i,d]),t.useEffect((function(){if(d&&k.current){var e=$p(k.current);return k.current.contains(e.activeElement)||(k.current.hasAttribute("tabIndex")||k.current.setAttribute("tabIndex",-1),b.current&&k.current.focus()),function(){u||(y.current&&y.current.focus&&(p.current=!0,y.current.focus()),y.current=null)}}}),[d]),t.useEffect((function(){if(d&&k.current){var e=$p(k.current),t=function(t){var n=k.current;if(null!==n)if(e.hasFocus()&&!o&&h()&&!p.current){if(!n.contains(e.activeElement)){if(t&&g.current!==t.target||e.activeElement!==g.current)g.current=null;else if(null!==g.current)return;if(!b.current)return;var r=[];if(e.activeElement!==v.current&&e.activeElement!==m.current||(r=l(k.current)),r.length>0){var i,a,s=Boolean((null==(i=_.current)?void 0:i.shiftKey)&&"Tab"===(null==(a=_.current)?void 0:a.key)),u=r[0],c=r[r.length-1];s?c.focus():u.focus()}else n.focus()}}else p.current=!1},n=function(t){_.current=t,!o&&h()&&"Tab"===t.key&&e.activeElement===k.current&&t.shiftKey&&(p.current=!0,m.current.focus())};e.addEventListener("focusin",t),e.addEventListener("keydown",n,!0);var r=setInterval((function(){"BODY"===e.activeElement.tagName&&t()}),50);return function(){clearInterval(r),e.removeEventListener("focusin",t),e.removeEventListener("keydown",n,!0)}}}),[i,o,u,h,d,l]);var x=function(e){null===y.current&&(y.current=e.relatedTarget),b.current=!0};return(0,di.jsxs)(t.Fragment,{children:[(0,di.jsx)("div",{tabIndex:0,onFocus:x,ref:v,"data-test":"sentinelStart"}),t.cloneElement(n,{ref:w,onFocus:function(e){null===y.current&&(y.current=e.relatedTarget),b.current=!0,g.current=e.target;var t=n.props.onFocus;t&&t(e)}}),(0,di.jsx)("div",{tabIndex:0,onFocus:x,ref:m,"data-test":"sentinelEnd"})]})};function Kv(e){return gi("MuiModal",e)}bi("MuiModal",["root","hidden"]);var Hv=["BackdropComponent","BackdropProps","children","classes","className","closeAfterTransition","component","components","componentsProps","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","theme","onTransitionEnter","onTransitionExited"];var Gv=new zv,Qv=t.forwardRef((function(e,n){var r=e.BackdropComponent,i=e.BackdropProps,a=e.children,o=e.classes,s=e.className,u=e.closeAfterTransition,l=void 0!==u&&u,f=e.component,h=void 0===f?"div":f,v=e.components,g=void 0===v?{}:v,b=e.componentsProps,k=void 0===b?{}:b,w=e.container,_=e.disableAutoFocus,x=void 0!==_&&_,S=e.disableEnforceFocus,E=void 0!==S&&S,C=e.disableEscapeKeyDown,I=void 0!==C&&C,T=e.disablePortal,N=void 0!==T&&T,R=e.disableRestoreFocus,P=void 0!==R&&R,A=e.disableScrollLock,O=void 0!==A&&A,D=e.hideBackdrop,M=void 0!==D&&D,L=e.keepMounted,F=void 0!==L&&L,j=e.manager,V=void 0===j?Gv:j,z=e.onBackdropClick,U=e.onClose,B=e.onKeyDown,q=e.open,W=e.theme,K=e.onTransitionEnter,H=e.onTransitionExited,G=d(e,Hv),Q=c(t.useState(!0),2),$=Q[0],Y=Q[1],X=t.useRef({}),J=t.useRef(null),Z=t.useRef(null),ee=jr(Z,n),te=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(e),ne=function(){return X.current.modalRef=Z.current,X.current.mountNode=J.current,X.current},re=function(){V.mount(ne(),{disableScrollLock:O}),Z.current.scrollTop=0},ie=Ur((function(){var e=function(e){return"function"===typeof e?e():e}(w)||$p(J.current).body;V.add(ne(),e),Z.current&&re()})),ae=t.useCallback((function(){return V.isTopModal(ne())}),[V]),oe=Ur((function(e){J.current=e,e&&(q&&ae()?re():Mv(Z.current,!0))})),se=t.useCallback((function(){V.remove(ne())}),[V]);t.useEffect((function(){return function(){se()}}),[se]),t.useEffect((function(){q?ie():te&&l||se()}),[q,se,te,l,ie]);var ue=p({},e,{classes:o,closeAfterTransition:l,disableAutoFocus:x,disableEnforceFocus:E,disableEscapeKeyDown:I,disablePortal:N,disableRestoreFocus:P,disableScrollLock:O,exited:$,hideBackdrop:M,keepMounted:F}),ce=function(e){var t=e.open,n=e.exited;return y({root:["root",!t&&n&&"hidden"]},Kv,e.classes)}(ue);if(!F&&!q&&(!te||$))return null;var le={};void 0===a.props.tabIndex&&(le.tabIndex="-1"),te&&(le.onEnter=Ov((function(){Y(!1),K&&K()}),a.props.onEnter),le.onExited=Ov((function(){Y(!0),H&&H(),l&&se()}),a.props.onExited));var fe=g.Root||h,he=k.root||{};return(0,di.jsx)(Dv,{ref:oe,container:w,disablePortal:N,children:(0,di.jsxs)(fe,p({role:"presentation"},he,!Av(fe)&&{as:h,ownerState:p({},ue,he.ownerState),theme:W},G,{ref:ee,onKeyDown:function(e){B&&B(e),"Escape"===e.key&&ae()&&(I||(e.stopPropagation(),U&&U(e,"escapeKeyDown")))},className:m(ce.root,he.className,s),children:[!M&&r?(0,di.jsx)(r,p({"aria-hidden":!0,open:q,onClick:function(e){e.target===e.currentTarget&&(z&&z(e),U&&U(e,"backdropClick"))}},i)):null,(0,di.jsx)(Wv,{disableEnforceFocus:E,disableAutoFocus:x,disableRestoreFocus:P,isEnabled:ae,open:q,children:t.cloneElement(a,le)})]}))})})),$v=Qv,Yv=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Xv={entering:{opacity:1},entered:{opacity:1}},Jv=t.forwardRef((function(e,n){var r=xv(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},a=e.addEndListener,o=e.appear,s=void 0===o||o,u=e.children,c=e.easing,l=e.in,f=e.onEnter,h=e.onEntered,v=e.onEntering,m=e.onExit,y=e.onExited,g=e.onExiting,b=e.style,k=e.timeout,w=void 0===k?i:k,_=e.TransitionComponent,x=void 0===_?wh:_,S=d(e,Yv),E=t.useRef(null),C=Vr(u.ref,n),I=Vr(E,C),T=function(e){return function(t){if(e){var n=E.current;void 0===t?e(n):e(n,t)}}},N=T(v),R=T((function(e,t){Sv(e);var n=Ev({style:b,timeout:w,easing:c},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),f&&f(e,t)})),P=T(h),A=T(g),O=T((function(e){var t=Ev({style:b,timeout:w,easing:c},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),m&&m(e)})),D=T(y);return(0,di.jsx)(x,p({appear:s,in:l,nodeRef:E,onEnter:R,onEntered:P,onEntering:N,onExit:O,onExited:D,onExiting:A,addEndListener:function(e){a&&a(E.current,e)},timeout:w},S,{children:function(e,n){return t.cloneElement(u,p({style:p({opacity:0,visibility:"exited"!==e||l?void 0:"hidden"},Xv[e],b,u.props.style),ref:I},n))}}))})),Zv=Jv;function em(e){return gi("MuiBackdrop",e)}bi("MuiBackdrop",["root","invisible"]);var tm=["children","component","components","componentsProps","className","invisible","open","transitionDuration","TransitionComponent"],nm=Ir("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.invisible&&t.invisible]}})((function(e){return p({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.ownerState.invisible&&{backgroundColor:"transparent"})})),rm=t.forwardRef((function(e,t){var n,r,i=Lr({props:e,name:"MuiBackdrop"}),a=i.children,o=i.component,s=void 0===o?"div":o,u=i.components,c=void 0===u?{}:u,l=i.componentsProps,f=void 0===l?{}:l,h=i.className,v=i.invisible,g=void 0!==v&&v,b=i.open,k=i.transitionDuration,w=i.TransitionComponent,_=void 0===w?Zv:w,x=d(i,tm),S=p({},i,{component:s,invisible:g}),E=function(e){var t=e.classes;return y({root:["root",e.invisible&&"invisible"]},em,t)}(S);return(0,di.jsx)(_,p({in:b,timeout:k},x,{children:(0,di.jsx)(nm,{"aria-hidden":!0,as:null!=(n=c.Root)?n:s,className:m(E.root,h),ownerState:p({},S,null==(r=f.root)?void 0:r.ownerState),classes:E,ref:t,children:a})}))})),im=["BackdropComponent","closeAfterTransition","children","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted"],am=Ir("div",{name:"MuiModal",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.open&&n.exited&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return p({position:"fixed",zIndex:t.zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),om=Ir(rm,{name:"MuiModal",slot:"Backdrop",overridesResolver:function(e,t){return t.backdrop}})({zIndex:-1}),sm=t.forwardRef((function(e,n){var r,i=Lr({name:"MuiModal",props:e}),a=i.BackdropComponent,o=void 0===a?om:a,s=i.closeAfterTransition,u=void 0!==s&&s,l=i.children,f=i.components,h=void 0===f?{}:f,v=i.componentsProps,m=void 0===v?{}:v,y=i.disableAutoFocus,g=void 0!==y&&y,b=i.disableEnforceFocus,k=void 0!==b&&b,w=i.disableEscapeKeyDown,_=void 0!==w&&w,x=i.disablePortal,S=void 0!==x&&x,E=i.disableRestoreFocus,C=void 0!==E&&E,I=i.disableScrollLock,T=void 0!==I&&I,N=i.hideBackdrop,R=void 0!==N&&N,P=i.keepMounted,A=void 0!==P&&P,O=d(i,im),D=c(t.useState(!0),2),M=D[0],L=D[1],F={closeAfterTransition:u,disableAutoFocus:g,disableEnforceFocus:k,disableEscapeKeyDown:_,disablePortal:S,disableRestoreFocus:C,disableScrollLock:T,hideBackdrop:R,keepMounted:A},j=function(e){return e.classes}(p({},i,F,{exited:M}));return(0,di.jsx)($v,p({components:p({Root:am},h),componentsProps:{root:p({},m.root,(!h.Root||!Av(h.Root))&&{ownerState:p({},null==(r=m.root)?void 0:r.ownerState)})},BackdropComponent:o,onTransitionEnter:function(){return L(!1)},onTransitionExited:function(){return L(!0)},ref:n},O,{classes:j},F,{children:l}))}));function um(e){return gi("MuiPopover",e)}bi("MuiPopover",["root","paper"]);var cm=["onEntering"],lm=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function fm(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function hm(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function dm(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function pm(e){return"function"===typeof e?e():e}var vm=Ir(sm,{name:"MuiPopover",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),mm=Ir(gv,{name:"MuiPopover",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),ym=t.forwardRef((function(e,n){var r=Lr({props:e,name:"MuiPopover"}),i=r.action,a=r.anchorEl,o=r.anchorOrigin,s=void 0===o?{vertical:"top",horizontal:"left"}:o,u=r.anchorPosition,c=r.anchorReference,l=void 0===c?"anchorEl":c,f=r.children,h=r.className,v=r.container,g=r.elevation,b=void 0===g?8:g,k=r.marginThreshold,w=void 0===k?16:k,_=r.open,x=r.PaperProps,S=void 0===x?{}:x,E=r.transformOrigin,C=void 0===E?{vertical:"top",horizontal:"left"}:E,I=r.TransitionComponent,T=void 0===I?Pv:I,N=r.transitionDuration,R=void 0===N?"auto":N,P=r.TransitionProps,A=(P=void 0===P?{}:P).onEntering,O=d(r.TransitionProps,cm),D=d(r,lm),M=t.useRef(),L=Vr(M,S.ref),F=p({},r,{anchorOrigin:s,anchorReference:l,elevation:b,marginThreshold:w,PaperProps:S,transformOrigin:C,TransitionComponent:T,transitionDuration:R,TransitionProps:O}),j=function(e){return y({root:["root"],paper:["paper"]},um,e.classes)}(F),V=t.useCallback((function(){if("anchorPosition"===l)return u;var e=pm(a),t=(e&&1===e.nodeType?e:Yp(M.current).body).getBoundingClientRect();return{top:t.top+fm(t,s.vertical),left:t.left+hm(t,s.horizontal)}}),[a,s.horizontal,s.vertical,u,l]),z=t.useCallback((function(e){return{vertical:fm(e,C.vertical),horizontal:hm(e,C.horizontal)}}),[C.horizontal,C.vertical]),U=t.useCallback((function(e){var t={width:e.offsetWidth,height:e.offsetHeight},n=z(t);if("none"===l)return{top:null,left:null,transformOrigin:dm(n)};var r=V(),i=r.top-n.vertical,o=r.left-n.horizontal,s=i+t.height,u=o+t.width,c=_v(pm(a)),f=c.innerHeight-w,h=c.innerWidth-w;if(i<w){var d=i-w;i-=d,n.vertical+=d}else if(s>f){var p=s-f;i-=p,n.vertical+=p}if(o<w){var v=o-w;o-=v,n.horizontal+=v}else if(u>h){var m=u-h;o-=m,n.horizontal+=m}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(o),"px"),transformOrigin:dm(n)}}),[a,l,V,z,w]),B=t.useCallback((function(){var e=M.current;if(e){var t=U(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[U]);t.useEffect((function(){_&&B()})),t.useImperativeHandle(i,(function(){return _?{updatePosition:function(){B()}}:null}),[_,B]),t.useEffect((function(){if(_){var e=kv((function(){B()})),t=_v(a);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[a,_,B]);var q=R;"auto"!==R||T.muiSupportAuto||(q=void 0);var W=v||(a?Yp(pm(a)).body:void 0);return(0,di.jsx)(vm,p({BackdropProps:{invisible:!0},className:m(j.root,h),container:W,open:_,ref:n,ownerState:F},D,{children:(0,di.jsx)(T,p({appear:!0,in:_,onEntering:function(e,t){A&&A(e,t),B()},timeout:q},O,{children:(0,di.jsx)(mm,p({elevation:b},S,{ref:L,className:m(j.paper,S.className),children:f}))}))}))})),gm=ym;function bm(e){return gi("MuiMenu",e)}bi("MuiMenu",["root","paper","list"]);var km=["onEntering"],wm=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],_m={vertical:"top",horizontal:"right"},xm={vertical:"top",horizontal:"left"},Sm=Ir(gm,{shouldForwardProp:function(e){return Sr(e)||"classes"===e},name:"MuiMenu",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),Em=Ir(gv,{name:"MuiMenu",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Cm=Ir(hv,{name:"MuiMenu",slot:"List",overridesResolver:function(e,t){return t.list}})({outline:0}),Im=t.forwardRef((function(e,n){var r=Lr({props:e,name:"MuiMenu"}),i=r.autoFocus,a=void 0===i||i,o=r.children,s=r.disableAutoFocusItem,u=void 0!==s&&s,c=r.MenuListProps,l=void 0===c?{}:c,f=r.onClose,h=r.open,v=r.PaperProps,g=void 0===v?{}:v,b=r.PopoverClasses,k=r.transitionDuration,w=void 0===k?"auto":k,_=r.TransitionProps,x=(_=void 0===_?{}:_).onEntering,S=r.variant,E=void 0===S?"selectedMenu":S,C=d(r.TransitionProps,km),I=d(r,wm),T=xv(),N="rtl"===T.direction,R=p({},r,{autoFocus:a,disableAutoFocusItem:u,MenuListProps:l,onEntering:x,PaperProps:g,transitionDuration:w,TransitionProps:C,variant:E}),P=function(e){return y({root:["root"],paper:["paper"],list:["list"]},bm,e.classes)}(R),A=a&&!u&&h,O=t.useRef(null),D=-1;return t.Children.map(o,(function(e,n){t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===E&&e.props.selected||-1===D)&&(D=n))})),(0,di.jsx)(Sm,p({classes:b,onClose:f,anchorOrigin:{vertical:"bottom",horizontal:N?"right":"left"},transformOrigin:N?_m:xm,PaperProps:p({component:Em},g,{classes:p({},g.classes,{root:P.paper})}),className:P.root,open:h,ref:n,transitionDuration:w,TransitionProps:p({onEntering:function(e,t){O.current&&O.current.adjustStyleForScrollbar(e,T),x&&x(e,t)}},C),ownerState:R},I,{children:(0,di.jsx)(Cm,p({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),f&&f(e,"tabKeyDown"))},actions:O,autoFocus:a&&(-1===D||u),autoFocusItem:A,variant:E},l,{className:m(P.list,l.className),children:o}))}))})),Tm=Im;var Nm=bi("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);var Rm=bi("MuiListItemIcon",["root","alignItemsFlexStart"]);var Pm=bi("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function Am(e){return gi("MuiMenuItem",e)}var Om=bi("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Dm=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex"],Mm=Ir(qi,{shouldForwardProp:function(e){return Sr(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((function(e){var t,n=e.theme,r=e.ownerState;return p({},n.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!r.disableGutters&&{paddingLeft:16,paddingRight:16},r.divider&&{borderBottom:"1px solid ".concat(n.palette.divider),backgroundClip:"padding-box"},(h(t={"&:hover":{textDecoration:"none",backgroundColor:n.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(Om.selected),h({backgroundColor:Kn(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(Om.focusVisible),{backgroundColor:Kn(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),h(t,"&.".concat(Om.selected,":hover"),{backgroundColor:Kn(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:Kn(n.palette.primary.main,n.palette.action.selectedOpacity)}}),h(t,"&.".concat(Om.focusVisible),{backgroundColor:n.palette.action.focus}),h(t,"&.".concat(Om.disabled),{opacity:n.palette.action.disabledOpacity}),h(t,"& + .".concat(Nm.root),{marginTop:n.spacing(1),marginBottom:n.spacing(1)}),h(t,"& + .".concat(Nm.inset),{marginLeft:52}),h(t,"& .".concat(Pm.root),{marginTop:0,marginBottom:0}),h(t,"& .".concat(Pm.inset),{paddingLeft:36}),h(t,"& .".concat(Rm.root),{minWidth:36}),t),!r.dense&&h({},n.breakpoints.up("sm"),{minHeight:"auto"}),r.dense&&p({minHeight:32,paddingTop:4,paddingBottom:4},n.typography.body2,h({},"& .".concat(Rm.root," svg"),{fontSize:"1.25rem"})))})),Lm=t.forwardRef((function(e,n){var r=Lr({props:e,name:"MuiMenuItem"}),i=r.autoFocus,a=void 0!==i&&i,o=r.component,s=void 0===o?"li":o,u=r.dense,c=void 0!==u&&u,l=r.divider,f=void 0!==l&&l,h=r.disableGutters,v=void 0!==h&&h,g=r.focusVisibleClassName,b=r.role,k=void 0===b?"menuitem":b,w=r.tabIndex,_=d(r,Dm),x=t.useContext(Xp),S={dense:c||x.dense||!1,disableGutters:v},E=t.useRef(null);av((function(){a&&E.current&&E.current.focus()}),[a]);var C,I=p({},r,{dense:S.dense,divider:f,disableGutters:v}),T=function(e){var t=e.disabled,n=e.dense,r=e.divider,i=e.disableGutters,a=e.selected,o=e.classes;return p({},o,y({root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",a&&"selected"]},Am,o))}(r),N=Vr(E,n);return r.disabled||(C=void 0!==w?w:-1),(0,di.jsx)(Xp.Provider,{value:S,children:(0,di.jsx)(Mm,p({ref:N,role:k,tabIndex:C,component:s,focusVisibleClassName:m(T.focusVisible,g)},_,{ownerState:I,classes:T}))})})),Fm=Lm;function jm(e){return gi("MuiTypography",e)}bi("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var Vm=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],zm=Ir("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(Wi(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((function(e){var t=e.theme,n=e.ownerState;return p({margin:0},n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),Um={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Bm={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},qm=t.forwardRef((function(e,t){var n=Lr({props:e,name:"MuiTypography"}),r=function(e){return Bm[e]||e}(n.color),i=Vp(p({},n,{color:r})),a=i.align,o=void 0===a?"inherit":a,s=i.className,u=i.component,c=i.gutterBottom,l=void 0!==c&&c,f=i.noWrap,h=void 0!==f&&f,v=i.paragraph,g=void 0!==v&&v,b=i.variant,k=void 0===b?"body1":b,w=i.variantMapping,_=void 0===w?Um:w,x=d(i,Vm),S=p({},i,{align:o,color:r,className:s,component:u,gutterBottom:l,noWrap:h,paragraph:g,variant:k,variantMapping:_}),E=u||(g?"p":_[k]||Um[k])||"span",C=function(e){var t=e.align,n=e.gutterBottom,r=e.noWrap,i=e.paragraph,a=e.variant,o=e.classes;return y({root:["root",a,"inherit"!==e.align&&"align".concat(Wi(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},jm,o)}(S);return(0,di.jsx)(zm,p({as:E,ref:t,ownerState:S,className:m(C.root,s)},x))})),Wm=qm;function Km(e){return gi("MuiSvgIcon",e)}bi("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var Hm=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Gm=Ir("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(Wi(n.color))],t["fontSize".concat(Wi(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,s,u,c,l,f,h,d,p,v,m,y,g=e.theme,b=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=g.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=g.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=g.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(s=g.typography)||null==(u=s.pxToRem)?void 0:u.call(s,24))||"1.5rem",large:(null==(c=g.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875"}[b.fontSize],color:null!=(f=null==(h=g.palette)||null==(d=h[b.color])?void 0:d.main)?f:{action:null==(p=g.palette)||null==(v=p.action)?void 0:v.active,disabled:null==(m=g.palette)||null==(y=m.action)?void 0:y.disabled,inherit:void 0}[b.color]}})),Qm=t.forwardRef((function(e,t){var n=Lr({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"inherit":a,s=n.component,u=void 0===s?"svg":s,c=n.fontSize,l=void 0===c?"medium":c,f=n.htmlColor,h=n.inheritViewBox,v=void 0!==h&&h,g=n.titleAccess,b=n.viewBox,k=void 0===b?"0 0 24 24":b,w=d(n,Hm),_=p({},n,{color:o,component:u,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:v,viewBox:k}),x={};v||(x.viewBox=k);var S=function(e){var t=e.color,n=e.fontSize,r=e.classes;return y({root:["root","inherit"!==t&&"color".concat(Wi(t)),"fontSize".concat(Wi(n))]},Km,r)}(_);return(0,di.jsxs)(Gm,p({as:u,className:m(S.root,i),ownerState:_,focusable:"false",color:f,"aria-hidden":!g||void 0,role:g?"img":void 0,ref:t},x,w,{children:[r,g?(0,di.jsx)("title",{children:g}):null]}))}));Qm.muiName="SvgIcon";var $m=Qm;function Ym(e,n){var r=function(t,r){return(0,di.jsx)($m,p({"data-testid":"".concat(n,"Icon"),ref:r},t,{children:e}))};return r.muiName=$m.muiName,t.memo(t.forwardRef(r))}var Xm=Ym((0,di.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"}),"AccountCircle"),Jm="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";var Zm=function(e){var n=e.children,r=e.theme,i=Rr(),a=t.useMemo((function(){var e=null===i?r:function(e,t){return"function"===typeof t?t(e):p({},e,t)}(i,r);return null!=e&&(e[Jm]=null!==i),e}),[r,i]);return(0,di.jsx)(Nr.Provider,{value:a,children:n})};function ey(e){var t=Dr();return(0,di.jsx)(je.Provider,{value:"object"===typeof t?t:{},children:e.children})}var ty,ny=function(e){var t=e.children,n=e.theme;return(0,di.jsx)(Zm,{theme:n,children:(0,di.jsx)(ey,{children:t})})};!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(ty||(ty={}));var ry=function(e){return e};var iy="beforeunload",ay="popstate";function oy(e){e.preventDefault(),e.returnValue=""}function sy(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function uy(){return Math.random().toString(36).substr(2,8)}function cy(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function ly(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var fy=(0,t.createContext)(null);var hy=(0,t.createContext)(null);var dy=(0,t.createContext)({outlet:null,matches:[]});function py(e,t){if(!e)throw new Error(t)}function vy(e,t,n){void 0===n&&(n="/");var r=xy(("string"===typeof t?ly(t):t).pathname||"/",n);if(null==r)return null;var i=my(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=ky(i[o],r);return a}function my(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||py(!1),a.relativePath=a.relativePath.slice(r.length));var o=Sy([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&py(!1),my(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:by(o,e.index),routesMeta:s})})),t}var yy=/^:\w+$/,gy=function(e){return"*"===e};function by(e,t){var n=e.split("/"),r=n.length;return n.some(gy)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!gy(e)})).reduce((function(e,t){return e+(yy.test(t)?3:""===t?1:10)}),r)}function ky(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=wy({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:Sy([i,l.pathname]),pathnameBase:Ey(Sy([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=Sy([i,l.pathnameBase]))}return a}function wy(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(LF){return e}}(l[n]||""),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function _y(e,t,n){var r,i="string"===typeof e?ly(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?ly(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:Cy(a),hash:Iy(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function xy(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var Sy=function(e){return e.join("/").replace(/\/\/+/g,"/")},Ey=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},Cy=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},Iy=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function Ty(e){Ny()||py(!1);var n=(0,t.useContext)(fy),r=n.basename,i=n.navigator,a=Ay(e),o=a.hash,s=a.pathname,u=a.search,c=s;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?ly(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===s?r+(f?"/":""):Sy([r,s])}return i.createHref({pathname:c,search:u,hash:o})}function Ny(){return null!=(0,t.useContext)(hy)}function Ry(){return Ny()||py(!1),(0,t.useContext)(hy).location}function Py(){Ny()||py(!1);var e=(0,t.useContext)(fy),n=e.basename,r=e.navigator,i=(0,t.useContext)(dy).matches,a=Ry().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,t.useRef)(!1);(0,t.useEffect)((function(){s.current=!0}));var u=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=_y(e,JSON.parse(o),a);"/"!==n&&(i.pathname=Sy([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return u}function Ay(e){var n=(0,t.useContext)(dy).matches,r=Ry().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,t.useMemo)((function(){return _y(e,JSON.parse(i),r)}),[e,i,r])}function Oy(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,t.createElement)(dy.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(e.slice(0,a+1))}})}),null)}function Dy(e){py(!1)}function My(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,s=e.navigationType,u=void 0===s?ty.Pop:s,c=e.navigator,l=e.static,f=void 0!==l&&l;Ny()&&py(!1);var h=Ey(r),d=(0,t.useMemo)((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=ly(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,b=p.hash,k=void 0===b?"":b,w=p.state,_=void 0===w?null:w,x=p.key,S=void 0===x?"default":x,E=(0,t.useMemo)((function(){var e=xy(m,h);return null==e?null:{pathname:e,search:g,hash:k,state:_,key:S}}),[h,m,g,k,_,S]);return null==E?null:(0,t.createElement)(fy.Provider,{value:d},(0,t.createElement)(hy.Provider,{children:a,value:{location:E,navigationType:u}}))}function Ly(e){var n=e.children,r=e.location;return function(e,n){Ny()||py(!1);var r,i=(0,t.useContext)(dy).matches,a=i[i.length-1],o=a?a.params:{},s=(a&&a.pathname,a?a.pathnameBase:"/"),u=(a&&a.route,Ry());if(n){var c,l="string"===typeof n?ly(n):n;"/"===s||(null==(c=l.pathname)?void 0:c.startsWith(s))||py(!1),r=l}else r=u;var f=r.pathname||"/",h=vy(e,{pathname:"/"===s?f:f.slice(s.length)||"/"});return Oy(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:Sy([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:Sy([s,e.pathnameBase])})})),i)}(Fy(n),r)}function Fy(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==Dy&&py(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=Fy(e.props.children)),n.push(r)}else n.push.apply(n,Fy(e.props.children))})),n}function jy(){return jy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jy.apply(this,arguments)}function Vy(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var zy=["onClick","reloadDocument","replace","state","target","to"];function Uy(e){var n=e.basename,r=e.children,i=e.window,a=(0,t.useRef)();null==a.current&&(a.current=function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function i(){var e=n.location,t=e.pathname,i=e.search,a=e.hash,o=r.state||{};return[o.idx,ry({pathname:t,search:i,hash:a,state:o.usr||null,key:o.key||"default"})]}var a=null;n.addEventListener(ay,(function(){if(a)f.call(a),a=null;else{var e=ty.Pop,t=i(),n=t[0],r=t[1];if(f.length){if(null!=n){var o=u-n;o&&(a={action:e,location:r,retry:function(){g(-1*o)}},g(o))}}else y(e)}}));var o=ty.Pop,s=i(),u=s[0],c=s[1],l=sy(),f=sy();function h(e){return"string"===typeof e?e:cy(e)}function d(e,t){return void 0===t&&(t=null),ry(p({pathname:c.pathname,hash:"",search:""},"string"===typeof e?ly(e):e,{state:t,key:uy()}))}function v(e,t){return[{usr:e.state,key:e.key,idx:t},h(e)]}function m(e,t,n){return!f.length||(f.call({action:e,location:t,retry:n}),!1)}function y(e){o=e;var t=i();u=t[0],c=t[1],l.call({action:o,location:c})}function g(e){r.go(e)}null==u&&(u=0,r.replaceState(p({},r.state,{idx:u}),""));var b={get action(){return o},get location(){return c},createHref:h,push:function e(t,i){var a=ty.Push,o=d(t,i);if(m(a,o,(function(){e(t,i)}))){var s=v(o,u+1),c=s[0],l=s[1];try{r.pushState(c,"",l)}catch(LF){n.location.assign(l)}y(a)}},replace:function e(t,n){var i=ty.Replace,a=d(t,n);if(m(i,a,(function(){e(t,n)}))){var o=v(a,u),s=o[0],c=o[1];r.replaceState(s,"",c),y(i)}},go:g,back:function(){g(-1)},forward:function(){g(1)},listen:function(e){return l.push(e)},block:function(e){var t=f.push(e);return 1===f.length&&n.addEventListener(iy,oy),function(){t(),f.length||n.removeEventListener(iy,oy)}}};return b}({window:i}));var o=a.current,s=c((0,t.useState)({action:o.action,location:o.location}),2),u=s[0],l=s[1];return(0,t.useLayoutEffect)((function(){return o.listen(l)}),[o]),(0,t.createElement)(My,{basename:n,children:r,location:u.location,navigationType:u.action,navigator:o})}var By=(0,t.forwardRef)((function(e,n){var r=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,s=e.state,u=e.target,c=e.to,l=Vy(e,zy),f=Ty(c),h=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=Py(),u=Ry(),c=Ay(e);return(0,t.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||cy(u)===cy(c);s(e,{replace:n,state:o})}}),[u,s,c,a,o,i,e])}(c,{replace:o,state:s,target:u});return(0,t.createElement)("a",jy({},l,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:u}))}));function qy(e){var n=c((0,t.useState)(null),2),r=n[0],i=n[1],a=function(){i(null)},o=_r({palette:{mode:"dark",primary:{main:"#1976d2"}}});return e.user?(0,di.jsx)(ny,{theme:o,children:(0,di.jsxs)(Bp,{sx:{flexGrow:0},children:[(0,di.jsx)(Qp,{onClick:function(e){i(e.currentTarget)},sx:{p:0},children:(0,di.jsx)(Xm,{fontSize:"large"})}),(0,di.jsxs)(Tm,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:r,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(r),onClose:a,children:[(0,di.jsx)(Fm,{onClick:a,children:(0,di.jsx)(Wm,{textAlign:"center",children:"Profile"})},"Profile"),(0,di.jsx)(Fm,{onClick:a,children:(0,di.jsx)(Wm,{textAlign:"center",children:"Account"})},"Account"),(0,di.jsx)(Fm,{onClick:function(){console.log("Logging out ",e.user.email),e.logout(),i(null)},children:(0,di.jsx)(Wm,{textAlign:"center",children:"Logout"})},"Logout")]})]})}):(0,di.jsxs)(Lp,{children:[(0,di.jsx)(Lp.Link,{children:(0,di.jsx)(By,{to:"login",style:{color:"inherit",textDecoration:"none"},children:"Sign In"})}),(0,di.jsx)(Lp.Link,{children:(0,di.jsx)(By,{to:"register",style:{color:"inherit",textDecoration:"none"},children:"Register"})})]})}function Wy(e){var t=e.login,n=e.logout,r=e.register,i=e.user,a=e.location;return(0,di.jsx)(cp,{bg:"dark",variant:"dark",children:(0,di.jsxs)(wf,{children:[(0,di.jsx)(cp.Brand,{children:(0,di.jsxs)(By,{to:"/",className:"Nav__brand",children:[(0,di.jsx)("img",{alt:"",src:Fp,height:"35",className:"d-inline-block align-top"})," "]})}),(0,di.jsx)(cp.Collapse,{id:"responsive-navbar-nav",children:(0,di.jsx)(Lp,{children:(0,di.jsx)(Lp.Link,{children:(0,di.jsx)(By,{to:"feed",style:{color:"inherit",textDecoration:"none"},children:"Feed"})})})}),(0,di.jsx)(qy,{login:function(){return t()},logout:function(){return n()},register:function(){return r()},user:i,location:a})]})})}var Ky,Hy={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Gy=t.createContext&&t.createContext(Hy),Qy=function(){return Qy=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Qy.apply(this,arguments)},$y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Yy(e){return e&&e.map((function(e,n){return t.createElement(e.tag,Qy({key:n},e.attr),Yy(e.child))}))}function Xy(e){return function(n){return t.createElement(Jy,Qy({attr:Qy({},e.attr)},n),Yy(e.child))}}function Jy(e){var n=function(n){var r,i=e.attr,a=e.size,o=e.title,s=$y(e,["attr","size","title"]),u=a||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",Qy({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:Qy(Qy({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==Gy?t.createElement(Gy.Consumer,null,(function(e){return n(e)})):n(Hy)}function Zy(e){return Xy({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"}}]})(e)}function eg(e){if((!Ky&&0!==Ky||e)&&_h){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Ky=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Ky}var tg=Ef("modal-body"),ng=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"],rg=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.contentClassName,a=e.centered,o=e.size,s=e.fullscreen,u=e.children,c=e.scrollable,l=df(e,ng);n=gf(n,"modal");var f="".concat(n,"-dialog"),h="string"===typeof s?"".concat(n,"-fullscreen-").concat(s):"".concat(n,"-fullscreen");return(0,di.jsx)("div",hf(hf({},l),{},{ref:t,className:vf()(f,r,o&&"".concat(n,"-").concat(o),a&&"".concat(f,"-centered"),c&&"".concat(f,"-scrollable"),s&&h),children:(0,di.jsx)("div",{className:vf()("".concat(n,"-content"),i),children:u})}))}));rg.displayName="ModalDialog";var ig=rg,ag=Ef("modal-footer"),og=["bsPrefix","className"],sg=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=df(e,og);return n=gf(n,"modal-header"),(0,di.jsx)(jd,hf(hf({ref:t},i),{},{className:vf()(r,n)}))}));sg.displayName="ModalHeader",sg.defaultProps={closeLabel:"Close",closeButton:!1};var ug=sg,cg=Ef("modal-title",{Component:Cf("h4")}),lg=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],fg={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:ig};function hg(e){return(0,di.jsx)(xd,hf(hf({},e),{},{timeout:null}))}function dg(e){return(0,di.jsx)(xd,hf(hf({},e),{},{timeout:null}))}var pg=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.style,o=e.dialogClassName,s=e.contentClassName,u=e.children,l=e.dialogAs,f=e["aria-labelledby"],h=e["aria-describedby"],d=e["aria-label"],p=e.show,v=e.animation,m=e.backdrop,y=e.keyboard,g=e.onEscapeKeyDown,b=e.onShow,k=e.onHide,w=e.container,_=e.autoFocus,x=e.enforceFocus,S=e.restoreFocus,E=e.restoreFocusOptions,C=e.onEntered,I=e.onExit,T=e.onExiting,N=e.onEnter,R=e.onEntering,P=e.onExited,A=e.backdropClassName,O=e.manager,D=df(e,lg),M=c((0,t.useState)({}),2),L=M[0],F=M[1],j=c((0,t.useState)(!1),2),V=j[0],z=j[1],U=(0,t.useRef)(!1),B=(0,t.useRef)(!1),q=(0,t.useRef)(null),W=c((0,t.useState)(null),2),K=W[0],H=W[1],G=Lh(n,H),Q=Zh(k),$="rtl"===(0,t.useContext)(yf).dir;r=gf(r,"modal");var Y=(0,t.useMemo)((function(){return{onHide:Q}}),[Q]);function X(){return O||Xd({isRTL:$})}function J(e){if(_h){var t=X().getScrollbarWidth()>0,n=e.scrollHeight>oh(e).documentElement.clientHeight;F({paddingRight:t&&!n?eg():void 0,paddingLeft:!t&&n?eg():void 0})}}var Z=Zh((function(){K&&J(K.dialog)}));ad((function(){Ih(window,"resize",Z),null==q.current||q.current()}));var ee=function(){U.current=!0},te=function(e){U.current&&K&&e.target===K.dialog&&(B.current=!0),U.current=!1},ne=function(){z(!0),q.current=Rh(K.dialog,(function(){z(!1)}))},re=function(e){"static"!==m?B.current||e.target!==e.currentTarget?B.current=!1:null==k||k():function(e){e.target===e.currentTarget&&ne()}(e)},ie=(0,t.useCallback)((function(e){return(0,di.jsx)("div",hf(hf({},e),{},{className:vf()("".concat(r,"-backdrop"),A,!v&&"show")}))}),[v,A,r]),ae=hf(hf({},a),L);ae.display="block";return(0,di.jsx)(Nd.Provider,{value:Y,children:(0,di.jsx)(gd,{show:p,ref:G,backdrop:m,container:w,keyboard:!0,autoFocus:_,enforceFocus:x,restoreFocus:S,restoreFocusOptions:E,onEscapeKeyDown:function(e){y||"static"!==m?y&&g&&g(e):(e.preventDefault(),ne())},onShow:b,onHide:k,onEnter:function(e,t){e&&J(e),null==N||N(e,t)},onEntering:function(e,t){null==R||R(e,t),Ch(window,"resize",Z)},onEntered:C,onExit:function(e){null==q.current||q.current(),null==I||I(e)},onExiting:T,onExited:function(e){e&&(e.style.display=""),null==P||P(e),Ih(window,"resize",Z)},manager:X(),transition:v?hg:void 0,backdropTransition:v?dg:void 0,renderBackdrop:ie,renderDialog:function(e){return(0,di.jsx)("div",hf(hf({role:"dialog"},e),{},{style:ae,className:vf()(i,r,V&&"".concat(r,"-static")),onClick:m?re:void 0,onMouseUp:te,"aria-label":d,"aria-labelledby":f,"aria-describedby":h,children:(0,di.jsx)(l,hf(hf({},D),{},{onMouseDown:ee,className:o,contentClassName:s,children:u}))}))}})})}));pg.displayName="Modal",pg.defaultProps=fg;var vg=Object.assign(pg,{Body:tg,Header:ug,Title:cg,Footer:ag,Dialog:ig,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),mg=0;var yg=r.useId;function gg(e){if(void 0!==yg){var n=yg();return null!=e?e:n}return function(e){var n=c(t.useState(e),2),r=n[0],i=n[1],a=e||r;return t.useEffect((function(){null==r&&i("mui-".concat(mg+=1))}),[r]),a}(e)}var bg=["onChange","maxRows","minRows","style","value"];function kg(e,t){return parseInt(e[t],10)||0}var wg={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},_g=t.forwardRef((function(e,n){var r=e.onChange,i=e.maxRows,a=e.minRows,o=void 0===a?1:a,s=e.style,u=e.value,l=d(e,bg),f=t.useRef(null!=u).current,h=t.useRef(null),v=jr(n,h),m=t.useRef(null),y=t.useRef(0),g=c(t.useState({}),2),b=g[0],k=g[1],w=t.useCallback((function(){var t=h.current,n=wv(t).getComputedStyle(t);if("0px"!==n.width){var r=m.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var a=n["box-sizing"],s=kg(n,"padding-bottom")+kg(n,"padding-top"),u=kg(n,"border-bottom-width")+kg(n,"border-top-width"),c=r.scrollHeight;r.value="x";var l=r.scrollHeight,f=c;o&&(f=Math.max(Number(o)*l,f)),i&&(f=Math.min(Number(i)*l,f));var d=(f=Math.max(f,l))+("border-box"===a?s+u:0),p=Math.abs(f-c)<=1;k((function(e){return y.current<20&&(d>0&&Math.abs((e.outerHeightStyle||0)-d)>1||e.overflow!==p)?(y.current+=1,{overflow:p,outerHeightStyle:d}):e}))}}),[i,o,e.placeholder]);t.useEffect((function(){var e,t=bv((function(){y.current=0,w()})),n=wv(h.current);return n.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t)).observe(h.current),function(){t.clear(),n.removeEventListener("resize",t),e&&e.disconnect()}}),[w]),zr((function(){w()})),t.useEffect((function(){y.current=0}),[u]);return(0,di.jsxs)(t.Fragment,{children:[(0,di.jsx)("textarea",p({value:u,onChange:function(e){y.current=0,f||w(),r&&r(e)},ref:v,rows:o,style:p({height:b.outerHeightStyle,overflow:b.overflow?"hidden":null},s)},l)),(0,di.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:m,tabIndex:-1,style:p({},wg,s,{padding:0})})]})})),xg=_g;function Sg(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}var Eg=t.createContext();function Cg(){return t.useContext(Eg)}function Ig(e){var t=e.styles,n=e.defaultTheme,r=void 0===n?{}:n,i="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return(0,di.jsx)(li,{styles:i})}var Tg=function(e){return(0,di.jsx)(Ig,p({},e,{defaultTheme:xr}))};function Ng(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function Rg(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(Ng(e.value)&&""!==e.value||t&&Ng(e.defaultValue)&&""!==e.defaultValue)}function Pg(e){return gi("MuiInputBase",e)}var Ag=bi("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Og=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],Dg=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(Wi(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},Mg=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},Lg=Ir("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Dg})((function(e){var t=e.theme,n=e.ownerState;return p({},t.typography.body1,h({color:t.palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(Ag.disabled),{color:t.palette.text.disabled,cursor:"default"}),n.multiline&&p({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),Fg=Ir("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Mg})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode,a={color:"currentColor",opacity:i?.42:.5,transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},o={opacity:"0 !important"},s={opacity:i?.42:.5};return p((h(t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},"label[data-shrink=false] + .".concat(Ag.formControl," &"),{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s}),h(t,"&.".concat(Ag.disabled),{opacity:1,WebkitTextFillColor:n.palette.text.disabled}),h(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===r.size&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===r.type&&{MozAppearance:"textfield"})})),jg=(0,di.jsx)(Tg,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Vg=t.forwardRef((function(e,n){var r=Lr({props:e,name:"MuiInputBase"}),i=r["aria-describedby"],a=r.autoComplete,o=r.autoFocus,s=r.className,u=r.components,l=void 0===u?{}:u,f=r.componentsProps,h=void 0===f?{}:f,v=r.defaultValue,g=r.disabled,b=r.disableInjectingGlobalStyles,k=r.endAdornment,w=r.fullWidth,_=void 0!==w&&w,x=r.id,S=r.inputComponent,E=void 0===S?"input":S,C=r.inputProps,I=void 0===C?{}:C,T=r.inputRef,N=r.maxRows,R=r.minRows,P=r.multiline,A=void 0!==P&&P,O=r.name,D=r.onBlur,M=r.onChange,L=r.onClick,F=r.onFocus,j=r.onKeyDown,V=r.onKeyUp,z=r.placeholder,U=r.readOnly,B=r.renderSuffix,q=r.rows,W=r.startAdornment,K=r.type,H=void 0===K?"text":K,G=r.value,Q=d(r,Og),$=null!=I.value?I.value:G,Y=t.useRef(null!=$).current,X=t.useRef(),J=t.useCallback((function(e){0}),[]),Z=Vr(I.ref,J),ee=Vr(T,Z),te=Vr(X,ee),ne=c(t.useState(!1),2),re=ne[0],ie=ne[1],ae=Cg();var oe=Sg({props:r,muiFormControl:ae,states:["color","disabled","error","hiddenLabel","size","required","filled"]});oe.focused=ae?ae.focused:re,t.useEffect((function(){!ae&&g&&re&&(ie(!1),D&&D())}),[ae,g,re,D]);var se=ae&&ae.onFilled,ue=ae&&ae.onEmpty,ce=t.useCallback((function(e){Rg(e)?se&&se():ue&&ue()}),[se,ue]);av((function(){Y&&ce({value:$})}),[$,ce,Y]);t.useEffect((function(){ce(X.current)}),[]);var le=E,fe=I;A&&"input"===le&&(fe=p(q?{type:void 0,minRows:q,maxRows:q}:{type:void 0,maxRows:N,minRows:R},fe),le=xg);t.useEffect((function(){ae&&ae.setAdornedStart(Boolean(W))}),[ae,W]);var he=p({},r,{color:oe.color||"primary",disabled:oe.disabled,endAdornment:k,error:oe.error,focused:oe.focused,formControl:ae,fullWidth:_,hiddenLabel:oe.hiddenLabel,multiline:A,size:oe.size,startAdornment:W,type:H}),de=function(e){var t=e.classes,n=e.color,r=e.disabled,i=e.error,a=e.endAdornment,o=e.focused,s=e.formControl,u=e.fullWidth,c=e.hiddenLabel,l=e.multiline,f=e.size,h=e.startAdornment,d=e.type;return y({root:["root","color".concat(Wi(n)),r&&"disabled",i&&"error",u&&"fullWidth",o&&"focused",s&&"formControl","small"===f&&"sizeSmall",l&&"multiline",h&&"adornedStart",a&&"adornedEnd",c&&"hiddenLabel"],input:["input",r&&"disabled","search"===d&&"inputTypeSearch",l&&"inputMultiline","small"===f&&"inputSizeSmall",c&&"inputHiddenLabel",h&&"inputAdornedStart",a&&"inputAdornedEnd"]},Pg,t)}(he),pe=l.Root||Lg,ve=h.root||{},me=l.Input||Fg;return fe=p({},fe,h.input),(0,di.jsxs)(t.Fragment,{children:[!b&&jg,(0,di.jsxs)(pe,p({},ve,!Av(pe)&&{ownerState:p({},he,ve.ownerState)},{ref:n,onClick:function(e){X.current&&e.currentTarget===e.target&&X.current.focus(),L&&L(e)}},Q,{className:m(de.root,ve.className,s),children:[W,(0,di.jsx)(Eg.Provider,{value:null,children:(0,di.jsx)(me,p({ownerState:he,"aria-invalid":oe.error,"aria-describedby":i,autoComplete:a,autoFocus:o,defaultValue:v,disabled:oe.disabled,id:x,onAnimationStart:function(e){ce("mui-auto-fill-cancel"===e.animationName?X.current:{value:"x"})},name:O,placeholder:z,readOnly:U,required:oe.required,rows:q,value:$,onKeyDown:j,onKeyUp:V,type:H},fe,!Av(me)&&{as:le,ownerState:p({},he,fe.ownerState)},{ref:te,className:m(de.input,fe.className),onBlur:function(e){D&&D(e),I.onBlur&&I.onBlur(e),ae&&ae.onBlur?ae.onBlur(e):ie(!1)},onChange:function(e){if(!Y){var t=e.target||X.current;if(null==t)throw new Error(ct(1));ce({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];I.onChange&&I.onChange.apply(I,[e].concat(r)),M&&M.apply(void 0,[e].concat(r))},onFocus:function(e){oe.disabled?e.stopPropagation():(F&&F(e),I.onFocus&&I.onFocus(e),ae&&ae.onFocus?ae.onFocus(e):ie(!0))}}))}),k,B?B(p({},oe,{startAdornment:W})):null]}))]})})),zg=Vg;function Ug(e){return gi("MuiInput",e)}var Bg=p({},Ag,bi("MuiInput",["root","underline","input"])),qg=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","type"],Wg=Ir(Lg,{shouldForwardProp:function(e){return Sr(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(g(Dg(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return p({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&(h(t={"&:after":{borderBottom:"2px solid ".concat(n.palette[r.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},"&.".concat(Bg.focused,":after"),{transform:"scaleX(1)"}),h(t,"&.".concat(Bg.error,":after"),{borderBottomColor:n.palette.error.main,transform:"scaleX(1)"}),h(t,"&:before",{borderBottom:"1px solid ".concat(i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),h(t,"&:hover:not(.".concat(Bg.disabled,"):before"),{borderBottom:"2px solid ".concat(n.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(i)}}),h(t,"&.".concat(Bg.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),Kg=Ir(Fg,{name:"MuiInput",slot:"Input",overridesResolver:Mg})({}),Hg=t.forwardRef((function(e,t){var n=Lr({props:e,name:"MuiInput"}),r=n.disableUnderline,i=n.components,a=void 0===i?{}:i,o=n.componentsProps,s=n.fullWidth,u=void 0!==s&&s,c=n.inputComponent,l=void 0===c?"input":c,f=n.multiline,h=void 0!==f&&f,v=n.type,m=void 0===v?"text":v,g=d(n,qg),b=function(e){var t=e.classes;return p({},t,y({root:["root",!e.disableUnderline&&"underline"],input:["input"]},Ug,t))}(n),k={root:{ownerState:{disableUnderline:r}}},w=o?Ze(o,k):k;return(0,di.jsx)(zg,p({components:p({Root:Wg,Input:Kg},a),componentsProps:w,fullWidth:u,inputComponent:l,multiline:h,ref:t,type:m},g,{classes:b}))}));Hg.muiName="Input";var Gg=Hg;function Qg(e){return gi("MuiFilledInput",e)}var $g=p({},Ag,bi("MuiFilledInput",["root","underline","input"])),Yg=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","type"],Xg=Ir(Lg,{shouldForwardProp:function(e){return Sr(e)||"classes"===e},name:"MuiFilledInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(g(Dg(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n,r=e.theme,i=e.ownerState,a="light"===r.palette.mode,o=a?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=a?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)";return p((h(t={position:"relative",backgroundColor:s,borderTopLeftRadius:r.shape.borderRadius,borderTopRightRadius:r.shape.borderRadius,transition:r.transitions.create("background-color",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),"&:hover":{backgroundColor:a?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:s}}},"&.".concat($g.focused),{backgroundColor:s}),h(t,"&.".concat($g.disabled),{backgroundColor:a?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}),t),!i.disableUnderline&&(h(n={"&:after":{borderBottom:"2px solid ".concat(r.palette[i.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:r.transitions.create("transform",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),pointerEvents:"none"}},"&.".concat($g.focused,":after"),{transform:"scaleX(1)"}),h(n,"&.".concat($g.error,":after"),{borderBottomColor:r.palette.error.main,transform:"scaleX(1)"}),h(n,"&:before",{borderBottom:"1px solid ".concat(o),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:r.transitions.create("border-bottom-color",{duration:r.transitions.duration.shorter}),pointerEvents:"none"}),h(n,"&:hover:not(.".concat($g.disabled,"):before"),{borderBottom:"1px solid ".concat(r.palette.text.primary)}),h(n,"&.".concat($g.disabled,":before"),{borderBottomStyle:"dotted"}),n),i.startAdornment&&{paddingLeft:12},i.endAdornment&&{paddingRight:12},i.multiline&&p({padding:"25px 12px 8px"},"small"===i.size&&{paddingTop:21,paddingBottom:4},i.hiddenLabel&&{paddingTop:16,paddingBottom:17}))})),Jg=Ir(Fg,{name:"MuiFilledInput",slot:"Input",overridesResolver:Mg})((function(e){var t=e.theme,n=e.ownerState;return p({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9})})),Zg=t.forwardRef((function(e,t){var n=Lr({props:e,name:"MuiFilledInput"}),r=n.components,i=void 0===r?{}:r,a=n.componentsProps,o=n.fullWidth,s=void 0!==o&&o,u=n.inputComponent,c=void 0===u?"input":u,l=n.multiline,f=void 0!==l&&l,h=n.type,v=void 0===h?"text":h,m=d(n,Yg),g=p({},n,{fullWidth:s,inputComponent:c,multiline:f,type:v}),b=function(e){var t=e.classes;return p({},t,y({root:["root",!e.disableUnderline&&"underline"],input:["input"]},Qg,t))}(n),k={root:{ownerState:g},input:{ownerState:g}},w=a?Ze(a,k):k;return(0,di.jsx)(zg,p({components:p({Root:Xg,Input:Jg},i),componentsProps:w,fullWidth:s,inputComponent:c,multiline:f,ref:t,type:v},m,{classes:b}))}));Zg.muiName="Input";var eb,tb=Zg,nb=["children","classes","className","label","notched"],rb=Ir("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),ib=Ir("legend")((function(e){var t=e.ownerState,n=e.theme;return p({float:"unset",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&p({display:"block",width:"auto",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function ab(e){return gi("MuiOutlinedInput",e)}var ob=p({},Ag,bi("MuiOutlinedInput",["root","notchedOutline","input"])),sb=["components","fullWidth","inputComponent","label","multiline","notched","type"],ub=Ir(Lg,{shouldForwardProp:function(e){return Sr(e)||"classes"===e},name:"MuiOutlinedInput",slot:"Root",overridesResolver:Dg})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return p((h(t={position:"relative",borderRadius:n.shape.borderRadius},"&:hover .".concat(ob.notchedOutline),{borderColor:n.palette.text.primary}),h(t,"@media (hover: none)",h({},"&:hover .".concat(ob.notchedOutline),{borderColor:i})),h(t,"&.".concat(ob.focused," .").concat(ob.notchedOutline),{borderColor:n.palette[r.color].main,borderWidth:2}),h(t,"&.".concat(ob.error," .").concat(ob.notchedOutline),{borderColor:n.palette.error.main}),h(t,"&.".concat(ob.disabled," .").concat(ob.notchedOutline),{borderColor:n.palette.action.disabled}),t),r.startAdornment&&{paddingLeft:14},r.endAdornment&&{paddingRight:14},r.multiline&&p({padding:"16.5px 14px"},"small"===r.size&&{padding:"8.5px 14px"}))})),cb=Ir((function(e){var t=e.className,n=e.label,r=e.notched,i=d(e,nb),a=null!=n&&""!==n,o=p({},e,{notched:r,withLabel:a});return(0,di.jsx)(rb,p({"aria-hidden":!0,className:t,ownerState:o},i,{children:(0,di.jsx)(ib,{ownerState:o,children:a?(0,di.jsx)("span",{children:n}):eb||(eb=(0,di.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:function(e,t){return t.notchedOutline}})((function(e){return{borderColor:"light"===e.theme.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}})),lb=Ir(Fg,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Mg})((function(e){var t=e.theme,n=e.ownerState;return p({padding:"16.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),fb=t.forwardRef((function(e,n){var r,i=Lr({props:e,name:"MuiOutlinedInput"}),a=i.components,o=void 0===a?{}:a,s=i.fullWidth,u=void 0!==s&&s,c=i.inputComponent,l=void 0===c?"input":c,f=i.label,h=i.multiline,v=void 0!==h&&h,m=i.notched,g=i.type,b=void 0===g?"text":g,k=d(i,sb),w=function(e){var t=e.classes;return p({},t,y({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},ab,t))}(i),_=Sg({props:i,muiFormControl:Cg(),states:["required"]});return(0,di.jsx)(zg,p({components:p({Root:ub,Input:lb},o),renderSuffix:function(e){return(0,di.jsx)(cb,{className:w.notchedOutline,label:null!=f&&""!==f&&_.required?r||(r=(0,di.jsxs)(t.Fragment,{children:[f,"\xa0","*"]})):f,notched:"undefined"!==typeof m?m:Boolean(e.startAdornment||e.filled||e.focused)})},fullWidth:u,inputComponent:l,multiline:v,ref:n,type:b},k,{classes:p({},w,{notchedOutline:null})}))}));fb.muiName="Input";var hb=fb;function db(e){return gi("MuiFormLabel",e)}var pb=bi("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),vb=["children","className","color","component","disabled","error","filled","focused","required"],mb=Ir("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return p({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((function(e){var t,n=e.theme,r=e.ownerState;return p({color:n.palette.text.secondary},n.typography.body1,(h(t={lineHeight:"1.4375em",padding:0,position:"relative"},"&.".concat(pb.focused),{color:n.palette[r.color].main}),h(t,"&.".concat(pb.disabled),{color:n.palette.text.disabled}),h(t,"&.".concat(pb.error),{color:n.palette.error.main}),t))})),yb=Ir("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:function(e,t){return t.asterisk}})((function(e){var t=e.theme;return h({},"&.".concat(pb.error),{color:t.palette.error.main})})),gb=t.forwardRef((function(e,t){var n=Lr({props:e,name:"MuiFormLabel"}),r=n.children,i=n.className,a=n.component,o=void 0===a?"label":a,s=d(n,vb),u=Sg({props:n,muiFormControl:Cg(),states:["color","required","focused","disabled","error","filled"]}),c=p({},n,{color:u.color||"primary",component:o,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),l=function(e){var t=e.classes,n=e.color,r=e.focused,i=e.disabled,a=e.error,o=e.filled,s=e.required;return y({root:["root","color".concat(Wi(n)),i&&"disabled",a&&"error",o&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",a&&"error"]},db,t)}(c);return(0,di.jsxs)(mb,p({as:o,ownerState:c,className:m(l.root,i),ref:t},s,{children:[r,u.required&&(0,di.jsxs)(yb,{ownerState:c,"aria-hidden":!0,className:l.asterisk,children:["\u2009","*"]})]}))})),bb=gb;function kb(e){return gi("MuiInputLabel",e)}bi("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var wb=["disableAnimation","margin","shrink","variant"],_b=Ir(bb,{shouldForwardProp:function(e){return Sr(e)||"classes"===e},name:"MuiInputLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[h({},"& .".concat(pb.asterisk),t.asterisk),t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return p({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&p({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&p({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&p({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 24px)",transform:"translate(14px, -9px) scale(0.75)"}))})),xb=t.forwardRef((function(e,t){var n=Lr({name:"MuiInputLabel",props:e}),r=n.disableAnimation,i=void 0!==r&&r,a=n.shrink,o=d(n,wb),s=Cg(),u=a;"undefined"===typeof u&&s&&(u=s.filled||s.focused||s.adornedStart);var c=Sg({props:n,muiFormControl:s,states:["size","variant","required"]}),l=p({},n,{disableAnimation:i,formControl:s,shrink:u,size:c.size,variant:c.variant,required:c.required}),f=function(e){var t=e.classes,n=e.formControl,r=e.size,i=e.shrink;return p({},t,y({root:["root",n&&"formControl",!e.disableAnimation&&"animated",i&&"shrink","small"===r&&"sizeSmall",e.variant],asterisk:[e.required&&"asterisk"]},kb,t))}(l);return(0,di.jsx)(_b,p({"data-shrink":u,ownerState:l,ref:t},o,{classes:f}))})),Sb=xb;var Eb=function(e,n){return t.isValidElement(e)&&-1!==n.indexOf(e.type.muiName)};function Cb(e){return gi("MuiFormControl",e)}bi("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var Ib=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Tb=Ir("div",{name:"MuiFormControl",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return p({},t.root,t["margin".concat(Wi(n.margin))],n.fullWidth&&t.fullWidth)}})((function(e){var t=e.ownerState;return p({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),Nb=t.forwardRef((function(e,n){var r=Lr({props:e,name:"MuiFormControl"}),i=r.children,a=r.className,o=r.color,s=void 0===o?"primary":o,u=r.component,l=void 0===u?"div":u,f=r.disabled,h=void 0!==f&&f,v=r.error,g=void 0!==v&&v,b=r.focused,k=r.fullWidth,w=void 0!==k&&k,_=r.hiddenLabel,x=void 0!==_&&_,S=r.margin,E=void 0===S?"none":S,C=r.required,I=void 0!==C&&C,T=r.size,N=void 0===T?"medium":T,R=r.variant,P=void 0===R?"outlined":R,A=d(r,Ib),O=p({},r,{color:s,component:l,disabled:h,error:g,fullWidth:w,hiddenLabel:x,margin:E,required:I,size:N,variant:P}),D=function(e){var t=e.classes,n=e.margin,r=e.fullWidth;return y({root:["root","none"!==n&&"margin".concat(Wi(n)),r&&"fullWidth"]},Cb,t)}(O),M=c(t.useState((function(){var e=!1;return i&&t.Children.forEach(i,(function(t){if(Eb(t,["Input","Select"])){var n=Eb(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}})),e})),2),L=M[0],F=M[1],j=c(t.useState((function(){var e=!1;return i&&t.Children.forEach(i,(function(t){Eb(t,["Input","Select"])&&Rg(t.props,!0)&&(e=!0)})),e})),2),V=j[0],z=j[1],U=c(t.useState(!1),2),B=U[0],q=U[1];h&&B&&q(!1);var W=void 0===b||h?B:b,K=t.useCallback((function(){z(!0)}),[]),H={adornedStart:L,setAdornedStart:F,color:s,disabled:h,error:g,filled:V,focused:W,fullWidth:w,hiddenLabel:x,size:N,onBlur:function(){q(!1)},onEmpty:t.useCallback((function(){z(!1)}),[]),onFilled:K,onFocus:function(){q(!0)},registerEffect:undefined,required:I,variant:P};return(0,di.jsx)(Eg.Provider,{value:H,children:(0,di.jsx)(Tb,p({as:l,ownerState:O,className:m(D.root,a),ref:n},A,{children:i}))})})),Rb=Nb;function Pb(e){return gi("MuiFormHelperText",e)}var Ab,Ob=bi("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),Db=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Mb=Ir("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.size&&t["size".concat(Wi(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((function(e){var t,n=e.theme,r=e.ownerState;return p({color:n.palette.text.secondary},n.typography.caption,(h(t={textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0},"&.".concat(Ob.disabled),{color:n.palette.text.disabled}),h(t,"&.".concat(Ob.error),{color:n.palette.error.main}),t),"small"===r.size&&{marginTop:4},r.contained&&{marginLeft:14,marginRight:14})})),Lb=t.forwardRef((function(e,t){var n=Lr({props:e,name:"MuiFormHelperText"}),r=n.children,i=n.className,a=n.component,o=void 0===a?"p":a,s=d(n,Db),u=Sg({props:n,muiFormControl:Cg(),states:["variant","size","disabled","error","filled","focused","required"]}),c=p({},n,{component:o,contained:"filled"===u.variant||"outlined"===u.variant,variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),l=function(e){var t=e.classes,n=e.contained,r=e.size,i=e.disabled,a=e.error,o=e.filled,s=e.focused,u=e.required;return y({root:["root",i&&"disabled",a&&"error",r&&"size".concat(Wi(r)),n&&"contained",s&&"focused",o&&"filled",u&&"required"]},Pb,t)}(c);return(0,di.jsx)(Mb,p({as:o,ownerState:c,className:m(l.root,i),ref:t},s,{children:" "===r?Ab||(Ab=(0,di.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))})),Fb=Lb;function jb(e){return gi("MuiNativeSelect",e)}var Vb=bi("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),zb=["className","disabled","IconComponent","inputRef","variant"],Ub=function(e){var t,n=e.ownerState,r=e.theme;return p((h(t={MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{backgroundColor:"light"===r.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"}},"&.".concat(Vb.disabled),{cursor:"default"}),h(t,"&[multiple]",{height:"auto"}),h(t,"&:not([multiple]) option, &:not([multiple]) optgroup",{backgroundColor:r.palette.background.paper}),h(t,"&&&",{paddingRight:24,minWidth:16}),t),"filled"===n.variant&&{"&&&":{paddingRight:32}},"outlined"===n.variant&&{borderRadius:r.shape.borderRadius,"&:focus":{borderRadius:r.shape.borderRadius},"&&&":{paddingRight:32}})},Bb=Ir("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Sr,overridesResolver:function(e,t){var n=e.ownerState;return[t.select,t[n.variant],h({},"&.".concat(Vb.multiple),t.multiple)]}})(Ub),qb=function(e){var t=e.ownerState,n=e.theme;return p(h({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:n.palette.action.active},"&.".concat(Vb.disabled),{color:n.palette.action.disabled}),t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},Wb=Ir("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(Wi(n.variant))],n.open&&t.iconOpen]}})(qb),Kb=t.forwardRef((function(e,n){var r=e.className,i=e.disabled,a=e.IconComponent,o=e.inputRef,s=e.variant,u=void 0===s?"standard":s,c=d(e,zb),l=p({},e,{disabled:i,variant:u}),f=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,a=e.open;return y({select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon","icon".concat(Wi(n)),a&&"iconOpen",r&&"disabled"]},jb,t)}(l);return(0,di.jsxs)(t.Fragment,{children:[(0,di.jsx)(Bb,p({ownerState:l,className:m(f.select,r),disabled:i,ref:o||n},c)),e.multiple?null:(0,di.jsx)(Wb,{as:a,ownerState:l,className:f.icon})]})})),Hb=Kb;var Gb=function(e){var n=e.controlled,r=e.default,i=(e.name,e.state,t.useRef(void 0!==n).current),a=c(t.useState(r),2),o=a[0],s=a[1];return[i?n:o,t.useCallback((function(e){i||s(e)}),[])]};function Qb(e){return gi("MuiSelect",e)}var $b,Yb=bi("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),Xb=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Jb=Ir("div",{name:"MuiSelect",slot:"Select",overridesResolver:function(e,t){var n=e.ownerState;return[h({},"&.".concat(Yb.select),t.select),h({},"&.".concat(Yb.select),t[n.variant]),h({},"&.".concat(Yb.multiple),t.multiple)]}})(Ub,h({},"&.".concat(Yb.select),{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"})),Zb=Ir("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(Wi(n.variant))],n.open&&t.iconOpen]}})(qb),ek=Ir("input",{shouldForwardProp:function(e){return Er(e)&&"classes"!==e},name:"MuiSelect",slot:"NativeInput",overridesResolver:function(e,t){return t.nativeInput}})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function tk(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function nk(e){return null==e||"string"===typeof e&&!e.trim()}var rk,ik,ak=t.forwardRef((function(e,n){var r=e["aria-describedby"],i=e["aria-label"],a=e.autoFocus,o=e.autoWidth,s=e.children,u=e.className,l=e.defaultOpen,f=e.defaultValue,h=e.disabled,v=e.displayEmpty,g=e.IconComponent,b=e.inputRef,k=e.labelId,w=e.MenuProps,_=void 0===w?{}:w,x=e.multiple,S=e.name,E=e.onBlur,C=e.onChange,I=e.onClose,T=e.onFocus,N=e.onOpen,R=e.open,P=e.readOnly,A=e.renderValue,O=e.SelectDisplayProps,D=void 0===O?{}:O,M=e.tabIndex,L=e.value,F=e.variant,j=void 0===F?"standard":F,V=d(e,Xb),z=c(Gb({controlled:L,default:f,name:"Select"}),2),U=z[0],B=z[1],q=c(Gb({controlled:R,default:l,name:"Select"}),2),W=q[0],K=q[1],H=t.useRef(null),G=t.useRef(null),Q=c(t.useState(null),2),$=Q[0],Y=Q[1],X=t.useRef(null!=R).current,J=c(t.useState(),2),Z=J[0],ee=J[1],te=Vr(n,b),ne=t.useCallback((function(e){G.current=e,e&&Y(e)}),[]);t.useImperativeHandle(te,(function(){return{focus:function(){G.current.focus()},node:H.current,value:U}}),[U]),t.useEffect((function(){l&&W&&$&&!X&&(ee(o?null:$.clientWidth),G.current.focus())}),[$,o]),t.useEffect((function(){a&&G.current.focus()}),[a]),t.useEffect((function(){if(k){var e=Yp(G.current).getElementById(k);if(e){var t=function(){getSelection().isCollapsed&&G.current.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[k]);var re,ie,ae=function(e,t){e?N&&N(t):I&&I(t),X||(ee(o?null:$.clientWidth),K(e))},oe=t.Children.toArray(s),se=function(e){return function(t){var n;if(t.currentTarget.hasAttribute("tabindex")){if(x){n=Array.isArray(U)?U.slice():[];var r=U.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),U!==n&&(B(n),C)){var i=t.nativeEvent||t,a=new i.constructor(i.type,i);Object.defineProperty(a,"target",{writable:!0,value:{value:n,name:S}}),C(a,e)}x||ae(!1,t)}}},ue=null!==$&&W;delete V["aria-invalid"];var ce=[],le=!1;(Rg({value:U})||v)&&(A?re=A(U):le=!0);var fe=oe.map((function(e){if(!t.isValidElement(e))return null;var n;if(x){if(!Array.isArray(U))throw new Error(ct(2));n=U.some((function(t){return tk(t,e.props.value)})),n&&le&&ce.push(e.props.children)}else(n=tk(U,e.props.value))&&le&&(ie=e.props.children);return n&&!0,t.cloneElement(e,{"aria-selected":n?"true":"false",onClick:se(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:n,value:void 0,"data-value":e.props.value})}));le&&(re=x?0===ce.length?null:ce.reduce((function(e,t,n){return e.push(t),n<ce.length-1&&e.push(", "),e}),[]):ie);var he,de=Z;!o&&X&&$&&(de=$.clientWidth),he="undefined"!==typeof M?M:h?null:0;var pe=D.id||(S?"mui-component-select-".concat(S):void 0),ve=p({},e,{variant:j,value:U,open:ue}),me=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,a=e.open;return y({select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon","icon".concat(Wi(n)),a&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},Qb,t)}(ve);return(0,di.jsxs)(t.Fragment,{children:[(0,di.jsx)(Jb,p({ref:ne,tabIndex:he,role:"button","aria-disabled":h?"true":void 0,"aria-expanded":ue?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[k,pe].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:function(e){if(!P){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),ae(!0,e))}},onMouseDown:h||P?null:function(e){0===e.button&&(e.preventDefault(),G.current.focus(),ae(!0,e))},onBlur:function(e){!ue&&E&&(Object.defineProperty(e,"target",{writable:!0,value:{value:U,name:S}}),E(e))},onFocus:T},D,{ownerState:ve,className:m(me.select,u,D.className),id:pe,children:nk(re)?$b||($b=(0,di.jsx)("span",{className:"notranslate",children:"\u200b"})):re})),(0,di.jsx)(ek,p({value:Array.isArray(U)?U.join(","):U,name:S,ref:H,"aria-hidden":!0,onChange:function(e){var t=oe.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=oe[t];B(n.props.value),C&&C(e,n)}},tabIndex:-1,disabled:h,className:me.nativeInput,autoFocus:a,ownerState:ve},V)),(0,di.jsx)(Zb,{as:g,className:me.icon,ownerState:ve}),(0,di.jsx)(Tm,p({id:"menu-".concat(S||""),anchorEl:$,open:ue,onClose:function(e){ae(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},_,{MenuListProps:p({"aria-labelledby":k,role:"listbox",disableListWrap:!0},_.MenuListProps),PaperProps:p({},_.PaperProps,{style:p({minWidth:de},null!=_.PaperProps?_.PaperProps.style:null)}),children:fe}))]})})),ok=ak,sk=Ym((0,di.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),uk=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],ck={name:"MuiSelect",overridesResolver:function(e,t){return t.root},shouldForwardProp:function(e){return Sr(e)&&"variant"!==e},slot:"Root"},lk=Ir(Gg,ck)(""),fk=Ir(hb,ck)(""),hk=Ir(tb,ck)(""),dk=t.forwardRef((function(e,n){var r=Lr({name:"MuiSelect",props:e}),i=r.autoWidth,a=void 0!==i&&i,o=r.children,s=r.classes,u=void 0===s?{}:s,c=r.className,l=r.defaultOpen,f=void 0!==l&&l,h=r.displayEmpty,v=void 0!==h&&h,y=r.IconComponent,g=void 0===y?sk:y,b=r.id,k=r.input,w=r.inputProps,_=r.label,x=r.labelId,S=r.MenuProps,E=r.multiple,C=void 0!==E&&E,I=r.native,T=void 0!==I&&I,N=r.onClose,R=r.onOpen,P=r.open,A=r.renderValue,O=r.SelectDisplayProps,D=r.variant,M=void 0===D?"outlined":D,L=d(r,uk),F=T?Hb:ok,j=Sg({props:r,muiFormControl:Cg(),states:["variant"]}).variant||M,V=k||{standard:rk||(rk=(0,di.jsx)(lk,{})),outlined:(0,di.jsx)(fk,{label:_}),filled:ik||(ik=(0,di.jsx)(hk,{}))}[j],z=function(e){return e.classes}(p({},r,{variant:j,classes:u})),U=Vr(n,V.ref);return t.cloneElement(V,p({inputComponent:F,inputProps:p({children:o,IconComponent:g,variant:j,type:void 0,multiple:C},T?{id:b}:{autoWidth:a,defaultOpen:f,displayEmpty:v,labelId:x,MenuProps:S,onClose:N,onOpen:R,open:P,renderValue:A,SelectDisplayProps:p({id:b},O)},w,{classes:w?Ze(z,w.classes):z},k?k.props.inputProps:{})},C&&T&&"outlined"===j?{notched:!0}:{},{ref:U,className:m(V.props.className,c),variant:j},L))}));dk.muiName="Select";var pk=dk;function vk(e){return gi("MuiTextField",e)}bi("MuiTextField",["root"]);var mk=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],yk={standard:Gg,filled:tb,outlined:hb},gk=Ir(Rb,{name:"MuiTextField",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),bk=t.forwardRef((function(e,t){var n=Lr({props:e,name:"MuiTextField"}),r=n.autoComplete,i=n.autoFocus,a=void 0!==i&&i,o=n.children,s=n.className,u=n.color,c=void 0===u?"primary":u,l=n.defaultValue,f=n.disabled,h=void 0!==f&&f,v=n.error,g=void 0!==v&&v,b=n.FormHelperTextProps,k=n.fullWidth,w=void 0!==k&&k,_=n.helperText,x=n.id,S=n.InputLabelProps,E=n.inputProps,C=n.InputProps,I=n.inputRef,T=n.label,N=n.maxRows,R=n.minRows,P=n.multiline,A=void 0!==P&&P,O=n.name,D=n.onBlur,M=n.onChange,L=n.onFocus,F=n.placeholder,j=n.required,V=void 0!==j&&j,z=n.rows,U=n.select,B=void 0!==U&&U,q=n.SelectProps,W=n.type,K=n.value,H=n.variant,G=void 0===H?"outlined":H,Q=d(n,mk),$=p({},n,{autoFocus:a,color:c,disabled:h,error:g,fullWidth:w,multiline:A,required:V,select:B,variant:G}),Y=function(e){return y({root:["root"]},vk,e.classes)}($);var X={};"outlined"===G&&(S&&"undefined"!==typeof S.shrink&&(X.notched=S.shrink),X.label=T),B&&(q&&q.native||(X.id=void 0),X["aria-describedby"]=void 0);var J=gg(x),Z=_&&J?"".concat(J,"-helper-text"):void 0,ee=T&&J?"".concat(J,"-label"):void 0,te=yk[G],ne=(0,di.jsx)(te,p({"aria-describedby":Z,autoComplete:r,autoFocus:a,defaultValue:l,fullWidth:w,multiline:A,name:O,rows:z,maxRows:N,minRows:R,type:W,value:K,id:J,inputRef:I,onBlur:D,onChange:M,onFocus:L,placeholder:F,inputProps:E},X,C));return(0,di.jsxs)(gk,p({className:m(Y.root,s),disabled:h,error:g,fullWidth:w,ref:t,required:V,color:c,variant:G,ownerState:$},Q,{children:[null!=T&&""!==T&&(0,di.jsx)(Sb,p({htmlFor:J,id:ee},S,{children:T})),B?(0,di.jsx)(pk,p({"aria-describedby":Z,id:J,labelId:ee,value:K,input:ne},q,{children:o})):ne,_&&(0,di.jsx)(Fb,p({id:Z},b,{children:_}))]}))})),kk=bk,wk=["component","direction","spacing","divider","children"];function _k(e,n){var r=t.Children.toArray(e).filter(Boolean);return r.reduce((function(e,i,a){return e.push(i),a<r.length-1&&e.push(t.cloneElement(n,{key:"separator-".concat(a)})),e}),[])}var xk=Ir("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,t){return[t.root]}})((function(e){var t=e.ownerState,n=e.theme,r=p({display:"flex"},at({theme:n},ut({values:t.direction,breakpoints:n.breakpoints.values}),(function(e){return{flexDirection:e}})));if(t.spacing){var i=xt(n),a=Object.keys(n.breakpoints.values).reduce((function(e,n){return null==t.spacing[n]&&null==t.direction[n]||(e[n]=!0),e}),{}),o=ut({values:t.direction,base:a});r=Ze(r,at({theme:n},ut({values:t.spacing,base:a}),(function(e,n){return{"& > :not(style) + :not(style)":h({margin:0},"margin".concat((r=n?o[n]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[r])),St(i,e))};var r})))}return r})),Sk=t.forwardRef((function(e,t){var n=Vp(Lr({props:e,name:"MuiStack"})),r=n.component,i=void 0===r?"div":r,a=n.direction,o=void 0===a?"column":a,s=n.spacing,u=void 0===s?0:s,c=n.divider,l=n.children,f=d(n,wk),h={direction:o,spacing:u};return(0,di.jsx)(xk,p({as:i,ownerState:h,ref:t},f,{children:c?_k(l,c):l}))})),Ek=Sk;function Ck(e){return gi("MuiButton",e)}var Ik=bi("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var Tk,Nk=t.createContext({}),Rk=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Pk=function(e){return p({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},Ak=Ir(qi,{shouldForwardProp:function(e){return Sr(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(Wi(n.color))],t["size".concat(Wi(n.size))],t["".concat(n.variant,"Size").concat(Wi(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n,r,i=e.theme,a=e.ownerState;return p({},i.typography.button,(h(t={minWidth:64,padding:"6px 16px",borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":p({textDecoration:"none",backgroundColor:i.vars?"rgba(".concat(i.vars.palette.text.primaryChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):Kn(i.palette.text.primary,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===a.variant&&"inherit"!==a.color&&{backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):Kn(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===a.variant&&"inherit"!==a.color&&{border:"1px solid ".concat((i.vars||i).palette[a.color].main),backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):Kn(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===a.variant&&{backgroundColor:(i.vars||i).palette.grey.A100,boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2],backgroundColor:(i.vars||i).palette.grey[300]}},"contained"===a.variant&&"inherit"!==a.color&&{backgroundColor:(i.vars||i).palette[a.color].dark,"@media (hover: none)":{backgroundColor:(i.vars||i).palette[a.color].main}}),"&:active":p({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[8]})},"&.".concat(Ik.focusVisible),p({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[6]})),h(t,"&.".concat(Ik.disabled),p({color:(i.vars||i).palette.action.disabled},"outlined"===a.variant&&{border:"1px solid ".concat((i.vars||i).palette.action.disabledBackground)},"outlined"===a.variant&&"secondary"===a.color&&{border:"1px solid ".concat((i.vars||i).palette.action.disabled)},"contained"===a.variant&&{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground})),t),"text"===a.variant&&{padding:"6px 8px"},"text"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main},"outlined"===a.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main,border:i.vars?"1px solid rgba(".concat(i.vars.palette[a.color].mainChannel," / 0.5)"):"1px solid ".concat(Kn(i.palette[a.color].main,.5))},"contained"===a.variant&&{color:i.vars?i.vars.palette.text.primary:null==(n=(r=i.palette).getContrastText)?void 0:n.call(r,i.palette.grey[300]),backgroundColor:(i.vars||i).palette.grey[300],boxShadow:(i.vars||i).shadows[2]},"contained"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].contrastText,backgroundColor:(i.vars||i).palette[a.color].main},"inherit"===a.color&&{color:"inherit",borderColor:"currentColor"},"small"===a.size&&"text"===a.variant&&{padding:"4px 5px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"text"===a.variant&&{padding:"8px 11px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"outlined"===a.variant&&{padding:"3px 9px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"outlined"===a.variant&&{padding:"7px 21px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"contained"===a.variant&&{padding:"4px 10px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"contained"===a.variant&&{padding:"8px 22px",fontSize:i.typography.pxToRem(15)},a.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(h(t={boxShadow:"none","&:hover":{boxShadow:"none"}},"&.".concat(Ik.focusVisible),{boxShadow:"none"}),h(t,"&:active",{boxShadow:"none"}),h(t,"&.".concat(Ik.disabled),{boxShadow:"none"}),t)})),Ok=Ir("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat(Wi(n.size))]]}})((function(e){var t=e.ownerState;return p({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},Pk(t))})),Dk=Ir("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat(Wi(n.size))]]}})((function(e){var t=e.ownerState;return p({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},Pk(t))})),Mk=t.forwardRef((function(e,n){var r=t.useContext(Nk),i=Lr({props:Tr(r,e),name:"MuiButton"}),a=i.children,o=i.color,s=void 0===o?"primary":o,u=i.component,c=void 0===u?"button":u,l=i.className,f=i.disabled,h=void 0!==f&&f,v=i.disableElevation,g=void 0!==v&&v,b=i.disableFocusRipple,k=void 0!==b&&b,w=i.endIcon,_=i.focusVisibleClassName,x=i.fullWidth,S=void 0!==x&&x,E=i.size,C=void 0===E?"medium":E,I=i.startIcon,T=i.type,N=i.variant,R=void 0===N?"text":N,P=d(i,Rk),A=p({},i,{color:s,component:c,disabled:h,disableElevation:g,disableFocusRipple:k,fullWidth:S,size:C,type:T,variant:R}),O=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,a=e.variant,o=e.classes;return p({},o,y({root:["root",a,"".concat(a).concat(Wi(t)),"size".concat(Wi(i)),"".concat(a,"Size").concat(Wi(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(Wi(i))],endIcon:["endIcon","iconSize".concat(Wi(i))]},Ck,o))}(A),D=I&&(0,di.jsx)(Ok,{className:O.startIcon,ownerState:A,children:I}),M=w&&(0,di.jsx)(Dk,{className:O.endIcon,ownerState:A,children:w});return(0,di.jsxs)(Ak,p({ownerState:A,className:m(l,r.className),component:c,disabled:h,focusRipple:!k,focusVisibleClassName:m(O.focusVisible,_),ref:n,type:T},P,{classes:O,children:[D,a,M]}))})),Lk=Mk,Fk=function(){function e(t,n){var r=this;oa(this,e),this._delegate=t,this.firebase=n,Oo(t,new co("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return ua(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Ho(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:No;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:No;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Oo(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Do(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),jk=(h(Tk={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),h(Tk,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Tk),Vk=new Oa("app-compat","Firebase",jk);var zk=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=qo(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Va(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Qo,setLogLevel:Yo,onLog:$o,apps:null,SDK_VERSION:Bo,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Mo(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Vk.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&wa(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Va(n,e=e||No))throw Vk.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Fk);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){wa(n,e)},createSubscribe:$a,ErrorFactory:Oa,deepExtend:wa}),n}(),Uk=new So("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Uk.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Bk=self.firebase.SDK_VERSION;Bk&&Bk.indexOf("LITE")>=0&&Uk.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var qk=zk;!function(e){Qo("@firebase/app-compat","0.1.21",e)}();qk.registerVersion("firebase","9.6.10","app-compat");var Wk,Kk="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Hk={},Gk=Gk||{},Qk=Kk||self;function $k(){}function Yk(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Xk(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Jk="closure_uid_"+(1e9*Math.random()>>>0),Zk=0;function ew(e,t,n){return e.call.apply(e.bind,arguments)}function tw(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function nw(e,t,n){return(nw=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ew:tw).apply(null,arguments)}function rw(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function iw(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function aw(){this.s=this.s,this.o=this.o}var ow={};aw.prototype.s=!1,aw.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Jk)&&e[Jk]||(e[Jk]=++Zk)}(this);delete ow[e]}},aw.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var sw=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},uw=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function cw(e){return Array.prototype.concat.apply([],arguments)}function lw(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function fw(e){return/^[\s\xa0]*$/.test(e)}var hw,dw=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function pw(e,t){return-1!=e.indexOf(t)}function vw(e,t){return e<t?-1:e>t?1:0}e:{var mw=Qk.navigator;if(mw){var yw=mw.userAgent;if(yw){hw=yw;break e}}hw=""}function gw(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function bw(e){var t={};for(var n in e)t[n]=e[n];return t}var kw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ww(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<kw.length;a++)n=kw[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _w(e){return _w[" "](e),e}_w[" "]=$k;var xw,Sw=pw(hw,"Opera"),Ew=pw(hw,"Trident")||pw(hw,"MSIE"),Cw=pw(hw,"Edge"),Iw=Cw||Ew,Tw=pw(hw,"Gecko")&&!(pw(hw.toLowerCase(),"webkit")&&!pw(hw,"Edge"))&&!(pw(hw,"Trident")||pw(hw,"MSIE"))&&!pw(hw,"Edge"),Nw=pw(hw.toLowerCase(),"webkit")&&!pw(hw,"Edge");function Rw(){var e=Qk.document;return e?e.documentMode:void 0}e:{var Pw="",Aw=function(){var e=hw;return Tw?/rv:([^\);]+)(\)|;)/.exec(e):Cw?/Edge\/([\d\.]+)/.exec(e):Ew?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Nw?/WebKit\/(\S+)/.exec(e):Sw?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Aw&&(Pw=Aw?Aw[1]:""),Ew){var Ow=Rw();if(null!=Ow&&Ow>parseFloat(Pw)){xw=String(Ow);break e}}xw=Pw}var Dw,Mw={};function Lw(){return function(e){var t=Mw;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=dw(String(xw)).split("."),n=dw("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=vw(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||vw(0==a[2].length,0==o[2].length)||vw(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Qk.document&&Ew){var Fw=Rw();Dw=Fw||(parseInt(xw,10)||void 0)}else Dw=void 0;var jw=Dw,Vw=function(){if(!Qk.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Qk.addEventListener("test",$k,t),Qk.removeEventListener("test",$k,t)}catch(n){}return e}();function zw(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Uw(e,t){if(zw.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Tw){e:{try{_w(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Bw[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Uw.Z.h.call(this)}}zw.prototype.h=function(){this.defaultPrevented=!0},iw(Uw,zw);var Bw={2:"touch",3:"pen",4:"mouse"};Uw.prototype.h=function(){Uw.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var qw="closure_listenable_"+(1e6*Math.random()|0),Ww=0;function Kw(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Ww,this.ca=this.fa=!1}function Hw(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Gw(e){this.src=e,this.g={},this.h=0}function Qw(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=sw(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Hw(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $w(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Gw.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=$w(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Kw(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Yw="closure_lm_"+(1e6*Math.random()|0),Xw={};function Jw(e,t,n,r,i){if(r&&r.once)return e_(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Jw(e,t[a],n,r,i);return null}return n=s_(n),e&&e[qw]?e.N(t,n,Xk(r)?!!r.capture:!!r,i):Zw(e,t,n,!1,r,i)}function Zw(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Xk(i)?!!i.capture:!!i,s=a_(e);if(s||(e[Yw]=s=new Gw(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=i_;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Vw||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(r_(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function e_(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)e_(e,t[a],n,r,i);return null}return n=s_(n),e&&e[qw]?e.O(t,n,Xk(r)?!!r.capture:!!r,i):Zw(e,t,n,!0,r,i)}function t_(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)t_(e,t[a],n,r,i);else r=Xk(r)?!!r.capture:!!r,n=s_(n),e&&e[qw]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$w(a=e.g[t],n,r,i))&&(Hw(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=a_(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$w(t,n,r,i)),(n=-1<e?t[e]:null)&&n_(n))}function n_(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[qw])Qw(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(r_(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=a_(t))?(Qw(n,e),0==n.h&&(n.src=null,t[Yw]=null)):Hw(e)}}}function r_(e){return e in Xw?Xw[e]:Xw[e]="on"+e}function i_(e,t){if(e.ca)e=!0;else{t=new Uw(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&n_(e),e=n.call(r,t)}return e}function a_(e){return(e=e[Yw])instanceof Gw?e:null}var o_="__closure_events_fn_"+(1e9*Math.random()>>>0);function s_(e){return"function"===typeof e?e:(e[o_]||(e[o_]=function(t){return e.handleEvent(t)}),e[o_])}function u_(){aw.call(this),this.i=new Gw(this),this.P=this,this.I=null}function c_(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new zw(t,e);else if(t instanceof zw)t.target=t.target||e;else{var i=t;ww(t=new zw(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=l_(o,r,!0,t)&&i}if(i=l_(o=t.g=e,r,!0,t)&&i,i=l_(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=l_(o=t.g=n[a],r,!1,t)&&i}function l_(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&Qw(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}iw(u_,aw),u_.prototype[qw]=!0,u_.prototype.removeEventListener=function(e,t,n,r){t_(this,e,t,n,r)},u_.prototype.M=function(){if(u_.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Hw(n[r]);delete t.g[e],t.h--}}this.I=null},u_.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},u_.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var f_=Qk.JSON.stringify;function h_(){var e=k_,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var d_,p_=function(){function e(){oa(this,e),this.h=this.g=null}return ua(e,[{key:"add",value:function(e,t){var n=v_.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),v_=new(function(){function e(t,n){oa(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return ua(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new m_}),(function(e){return e.reset()})),m_=function(){function e(){oa(this,e),this.next=this.g=this.h=null}return ua(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function y_(e){Qk.setTimeout((function(){throw e}),0)}function g_(e,t){d_||function(){var e=Qk.Promise.resolve(void 0);d_=function(){e.then(w_)}}(),b_||(d_(),b_=!0),k_.add(e,t)}var b_=!1,k_=new p_;function w_(){for(var e;e=h_();){try{e.h.call(e.g)}catch(n){y_(n)}var t=v_;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}b_=!1}function __(e,t){u_.call(this),this.h=e||1,this.g=t||Qk,this.j=nw(this.kb,this),this.l=Date.now()}function x_(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function S_(e,t,n){if("function"===typeof e)n&&(e=nw(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=nw(e.handleEvent,e)}return 2147483647<Number(t)?-1:Qk.setTimeout(e,t||0)}function E_(e){e.g=S_((function(){e.g=null,e.i&&(e.i=!1,E_(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}iw(__,u_),(Wk=__.prototype).da=!1,Wk.S=null,Wk.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),c_(this,"tick"),this.da&&(x_(this),this.start()))}},Wk.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Wk.M=function(){__.Z.M.call(this),x_(this),delete this.g};var C_=function(e){ea(n,e);var t=ia(n);function n(e,r){var i;return oa(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return ua(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:E_(this)}},{key:"M",value:function(){Zi(Xi(n.prototype),"M",this).call(this),this.g&&(Qk.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(aw);function I_(e){aw.call(this),this.h=e,this.g={}}iw(I_,aw);var T_=[];function N_(e,t,n,r){Array.isArray(n)||(n&&(T_[0]=n.toString()),n=T_);for(var i=0;i<n.length;i++){var a=Jw(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function R_(e){gw(e.g,(function(e,t){this.g.hasOwnProperty(t)&&n_(e)}),e),e.g={}}function P_(){this.g=!0}function A_(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return f_(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}I_.prototype.M=function(){I_.Z.M.call(this),R_(this)},I_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},P_.prototype.Aa=function(){this.g=!1},P_.prototype.info=function(){};var O_={},D_=null;function M_(){return D_=D_||new u_}function L_(e){zw.call(this,O_.Ma,e)}function F_(e){var t=M_();c_(t,new L_(t,e))}function j_(e,t){zw.call(this,O_.STAT_EVENT,e),this.stat=t}function V_(e){var t=M_();c_(t,new j_(t,e))}function z_(e,t){zw.call(this,O_.Na,e),this.size=t}function U_(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Qk.setTimeout((function(){e()}),t)}O_.Ma="serverreachability",iw(L_,zw),O_.STAT_EVENT="statevent",iw(j_,zw),O_.Na="timingevent",iw(z_,zw);var B_={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},q_={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function W_(){}function K_(e){return e.h||(e.h=e.i())}function H_(){}W_.prototype.h=null;var G_,Q_={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function $_(){zw.call(this,"d")}function Y_(){zw.call(this,"c")}function X_(){}function J_(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new I_(this),this.P=ex,e=Iw?125:void 0,this.W=new __(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Z_}function Z_(){this.i=null,this.g="",this.h=!1}iw($_,zw),iw(Y_,zw),iw(X_,W_),X_.prototype.g=function(){return new XMLHttpRequest},X_.prototype.i=function(){return{}},G_=new X_;var ex=45e3,tx={},nx={};function rx(e,t,n){e.K=1,e.v=Cx(kx(t)),e.s=n,e.U=!0,ix(e,null)}function ix(e,t){e.F=Date.now(),ux(e),e.A=kx(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Vx(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Z_,e.g=US(e.l,n?t:null,!e.s),0<e.O&&(e.L=new C_(nw(e.Ia,e,e.g),e.O)),N_(e.V,e.g,"readystatechange",e.gb),t=e.H?bw(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),F_(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function ax(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function ox(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=sx(e,n))==nx){4==t&&(e.o=4,V_(14),i=!1),A_(e.j,e.m,null,"[Incomplete Response]");break}if(r==tx){e.o=4,V_(15),A_(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}A_(e.j,e.m,r,null),dx(e,r)}ax(e)&&r!=nx&&r!=tx&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,V_(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),OS(t),t.L=!0,V_(11))):(A_(e.j,e.m,n,"[Invalid Chunked Response]"),hx(e),fx(e))}function sx(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?nx:(n=Number(t.substring(n,r)),isNaN(n)?tx:(r+=1)+n>t.length?nx:(t=t.substr(r,n),e.C=r+n,t))}function ux(e){e.Y=Date.now()+e.P,cx(e,e.P)}function cx(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=U_(nw(e.eb,e),t)}function lx(e){e.B&&(Qk.clearTimeout(e.B),e.B=null)}function fx(e){0==e.l.G||e.I||LS(e.l,e)}function hx(e){lx(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,x_(e.W),R_(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function dx(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Gx(n.i,e)))if(n.I=e.N,!e.J&&Gx(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;MS(n),SS(n)}AS(n),V_(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=U_(nw(n.ab,n),6e3));if(1>=Hx(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else jS(n,11)}else if((e.J||n.g==e)&&MS(n),!fw(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(pw(l,"spdy")||pw(l,"quic")||pw(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Qx(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Ex(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=zS(r,r.H?r.la:null,r.W),d.J){$x(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(lx(p),ux(p)),r.g=d}else PS(r);0<n.l.length&&IS(n)}else"stop"!=a[0]&&"close"!=a[0]||jS(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?jS(n,7):xS(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}F_(4)}catch(a){}}function px(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Yk(e)||"string"===typeof e)uw(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Yk(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Yk(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function vx(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof vx)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function mx(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];yx(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)yx(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function yx(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Wk=J_.prototype).setTimeout=function(e){this.P=e},Wk.gb=function(e){e=e.target;var t=this.L;t&&3==gS(e)?t.l():this.Ia(e)},Wk.Ia=function(e){try{if(e==this.g)e:{var t=gS(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Iw||this.g&&(this.h.h||this.g.ga()||bS(this.g)))){this.I||4!=t||7==n||F_(8==n||0>=r?3:2),lx(this);var i=this.g.ba();this.N=i;t:if(ax(this)){var a=bS(this.g);e="";var o=a.length,s=4==gS(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){hx(this),fx(this);var u="";break t}this.h.i=new Qk.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fw(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,V_(12),hx(this),fx(this);break e}A_(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,dx(this,i)}this.U?(ox(this,t,u),Iw&&this.i&&3==t&&(N_(this.V,this.W,"tick",this.fb),this.W.start())):(A_(this.j,this.m,u,null),dx(this,u)),4==t&&hx(this),this.i&&!this.I&&(4==t?LS(this.l,this):(this.i=!1,ux(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,V_(12)):(this.o=0,V_(13)),hx(this),fx(this)}}}catch(t){}},Wk.fb=function(){if(this.g){var e=gS(this.g),t=this.g.ga();this.C<t.length&&(lx(this),ox(this,e,t),this.i&&4!=e&&ux(this))}},Wk.cancel=function(){this.I=!0,hx(this)},Wk.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(F_(3),V_(17)),hx(this),this.o=2,fx(this)):cx(this,this.Y-e)},(Wk=vx.prototype).R=function(){mx(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Wk.T=function(){return mx(this),this.g.concat()},Wk.get=function(e,t){return yx(this.h,e)?this.h[e]:t},Wk.set=function(e,t){yx(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Wk.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var gx=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function bx(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof bx){this.g=void 0!==t?t:e.g,wx(this,e.j),this.s=e.s,_x(this,e.i),xx(this,e.m),this.l=e.l,t=e.h;var n=new Mx;n.i=t.i,t.g&&(n.g=new vx(t.g),n.h=t.h),Sx(this,n),this.o=e.o}else e&&(n=String(e).match(gx))?(this.g=!!t,wx(this,n[1]||"",!0),this.s=Ix(n[2]||""),_x(this,n[3]||"",!0),xx(this,n[4]),this.l=Ix(n[5]||"",!0),Sx(this,n[6]||"",!0),this.o=Ix(n[7]||"")):(this.g=!!t,this.h=new Mx(null,this.g))}function kx(e){return new bx(e)}function wx(e,t,n){e.j=n?Ix(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function _x(e,t,n){e.i=n?Ix(t,!0):t}function xx(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Sx(e,t,n){t instanceof Mx?(e.h=t,function(e,t){t&&!e.j&&(Lx(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Fx(this,t),Vx(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Tx(t,Ox)),e.h=new Mx(t,e.g))}function Ex(e,t,n){e.h.set(t,n)}function Cx(e){return Ex(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ix(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Tx(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Nx),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Nx(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}bx.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Tx(t,Rx,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Tx(t,Rx,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Tx(n,"/"==n.charAt(0)?Ax:Px,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Tx(n,Dx)),e.join("")};var Rx=/[#\/\?@]/g,Px=/[#\?:]/g,Ax=/[#\?]/g,Ox=/[#\?@]/g,Dx=/#/g;function Mx(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Lx(e){e.g||(e.g=new vx,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Fx(e,t){Lx(e),t=zx(e,t),yx(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,yx((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&mx(e)))}function jx(e,t){return Lx(e),t=zx(e,t),yx(e.g.h,t)}function Vx(e,t,n){Fx(e,t),0<n.length&&(e.i=null,e.g.set(zx(e,t),lw(n)),e.h+=n.length)}function zx(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Wk=Mx.prototype).add=function(e,t){Lx(this),this.i=null,e=zx(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Wk.forEach=function(e,t){Lx(this),this.g.forEach((function(n,r){uw(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Wk.T=function(){Lx(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Wk.R=function(e){Lx(this);var t=[];if("string"===typeof e)jx(this,e)&&(t=cw(t,this.g.get(zx(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=cw(t,e[n])}return t},Wk.set=function(e,t){return Lx(this),this.i=null,jx(this,e=zx(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Wk.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Wk.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Ux=ua((function e(t,n){oa(this,e),this.h=t,this.g=n}));function Bx(e){this.l=e||Wx,Qk.PerformanceNavigationTiming?e=0<(e=Qk.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Qk.g&&Qk.g.Ea&&Qk.g.Ea()&&Qk.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var qx,Wx=10;function Kx(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Hx(e){return e.h?1:e.g?e.g.size:0}function Gx(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Qx(e,t){e.g?e.g.add(t):e.h=t}function $x(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Yx(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=aa(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return lw(e.i)}function Xx(){}function Jx(){this.g=new Xx}function Zx(e,t,n){var r=n||"";try{px(e,(function(e,n){var i=e;Xk(e)&&(i=f_(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(eK){throw t.push(r+"type="+encodeURIComponent("_badmap")),eK}}function eS(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function tS(e){this.l=e.$b||null,this.j=e.ib||!1}function nS(e,t){u_.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=rS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Bx.prototype.cancel=function(){if(this.i=Yx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=aa(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Xx.prototype.stringify=function(e){return Qk.JSON.stringify(e,void 0)},Xx.prototype.parse=function(e){return Qk.JSON.parse(e,void 0)},iw(tS,W_),tS.prototype.g=function(){return new nS(this.l,this.j)},tS.prototype.i=(qx={},function(){return qx}),iw(nS,u_);var rS=0;function iS(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function aS(e){e.readyState=4,e.l=null,e.j=null,e.A=null,oS(e)}function oS(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Wk=nS.prototype).open=function(e,t){if(this.readyState!=rS)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,oS(this)},Wk.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Qk).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Wk.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,aS(this)),this.readyState=rS},Wk.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,oS(this)),this.g&&(this.readyState=3,oS(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Qk.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;iS(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Wk.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?aS(this):oS(this),3==this.readyState&&iS(this)}},Wk.Ua=function(e){this.g&&(this.response=this.responseText=e,aS(this))},Wk.Ta=function(e){this.g&&(this.response=e,aS(this))},Wk.ha=function(){this.g&&aS(this)},Wk.setRequestHeader=function(e,t){this.v.append(e,t)},Wk.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Wk.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(nS.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var sS=Qk.JSON.parse;function uS(e){u_.call(this),this.headers=new vx,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=cS,this.K=this.L=!1}iw(uS,u_);var cS="",lS=/^https?$/i,fS=["POST","PUT"];function hS(e){return"content-type"==e.toLowerCase()}function dS(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,pS(e),mS(e)}function pS(e){e.D||(e.D=!0,c_(e,"complete"),c_(e,"error"))}function vS(e){if(e.h&&"undefined"!=typeof Gk&&(!e.C[1]||4!=gS(e)||2!=e.ba()))if(e.v&&4==gS(e))S_(e.Fa,0,e);else if(c_(e,"readystatechange"),4==gS(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(gx)[1]||null;if(!a&&Qk.self&&Qk.self.location){var o=Qk.self.location.protocol;a=o.substr(0,o.length-1)}i=!lS.test(a?a.toLowerCase():"")}t=i}if(t)c_(e,"complete"),c_(e,"success");else{e.m=6;try{var s=2<gS(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",pS(e)}}finally{mS(e)}}}function mS(e,t){if(e.g){yS(e);var n=e.g,r=e.C[0]?$k:null;e.g=null,e.C=null,t||c_(e,"ready");try{n.onreadystatechange=r}catch(eK){}}}function yS(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Qk.clearTimeout(e.A),e.A=null)}function gS(e){return e.g?e.g.readyState:0}function bS(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case cS:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function kS(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return gw(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ex(e,t,n))}function wS(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function _S(e){this.za=0,this.l=[],this.h=new P_,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=wS("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=wS("baseRetryDelayMs",5e3,e),this.$a=wS("retryDelaySeedMs",1e4,e),this.Ya=wS("forwardChannelMaxRetries",2,e),this.ra=wS("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Bx(e&&e.concurrentRequestLimit),this.Ca=new Jx,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function xS(e){if(ES(e),3==e.G){var t=e.V++,n=kx(e.F);Ex(n,"SID",e.J),Ex(n,"RID",t),Ex(n,"TYPE","terminate"),NS(e,n),(t=new J_(e,e.h,t,void 0)).K=2,t.v=Cx(kx(n)),n=!1,Qk.navigator&&Qk.navigator.sendBeacon&&(n=Qk.navigator.sendBeacon(t.v.toString(),"")),!n&&Qk.Image&&((new Image).src=t.v,n=!0),n||(t.g=US(t.l,null),t.g.ea(t.v)),t.F=Date.now(),ux(t)}VS(e)}function SS(e){e.g&&(OS(e),e.g.cancel(),e.g=null)}function ES(e){SS(e),e.u&&(Qk.clearTimeout(e.u),e.u=null),MS(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Qk.clearTimeout(e.m),e.m=null)}function CS(e,t){e.l.push(new Ux(e.Za++,t)),3==e.G&&IS(e)}function IS(e){Kx(e.i)||e.m||(e.m=!0,g_(e.Ha,e),e.C=0)}function TS(e,t){var n;n=t?t.m:e.V++;var r=kx(e.F);Ex(r,"SID",e.J),Ex(r,"RID",n),Ex(r,"AID",e.U),NS(e,r),e.o&&e.s&&kS(r,e.o,e.s),n=new J_(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=RS(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Qx(e.i,n),rx(n,r,t)}function NS(e,t){e.j&&px({},(function(e,n){Ex(t,n,e)}))}function RS(e,t,n){n=Math.min(e.l.length,n);var r=e.j?nw(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Zx(l,o,"req"+c+"_")}catch(pE){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function PS(e){e.g||e.u||(e.Y=1,g_(e.Ga,e),e.A=0)}function AS(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=U_(nw(e.Ga,e),FS(e,e.A)),e.A++,!0)}function OS(e){null!=e.B&&(Qk.clearTimeout(e.B),e.B=null)}function DS(e){e.g=new J_(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=kx(e.oa);Ex(t,"RID","rpc"),Ex(t,"SID",e.J),Ex(t,"CI",e.N?"0":"1"),Ex(t,"AID",e.U),NS(e,t),Ex(t,"TYPE","xmlhttp"),e.o&&e.s&&kS(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Cx(kx(t)),n.s=null,n.U=!0,ix(n,e)}function MS(e){null!=e.v&&(Qk.clearTimeout(e.v),e.v=null)}function LS(e,t){var n=null;if(e.g==t){MS(e),OS(e),e.g=null;var r=2}else{if(!Gx(e.i,t))return;n=t.D,$x(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;c_(r=M_(),new z_(r,n,t,i)),IS(e)}else PS(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Hx(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=U_(nw(e.Ha,e,t),FS(e,e.C)),e.C++,!0))}(e,t)||2==r&&AS(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:jS(e,5);break;case 4:jS(e,10);break;case 3:jS(e,6);break;default:jS(e,2)}}function FS(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function jS(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=nw(e.jb,e);n||(n=new bx("//www.google.com/images/cleardot.gif"),Qk.location&&"http"==Qk.location.protocol||wx(n,"https"),Cx(n)),function(e,t){var n=new P_;if(Qk.Image){var r=new Image;r.onload=rw(eS,n,r,"TestLoadImage: loaded",!0,t),r.onerror=rw(eS,n,r,"TestLoadImage: error",!1,t),r.onabort=rw(eS,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=rw(eS,n,r,"TestLoadImage: timeout",!1,t),Qk.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else V_(2);e.G=0,e.j&&e.j.va(t),VS(e),ES(e)}function VS(e){e.G=0,e.I=-1,e.j&&(0==Yx(e.i).length&&0==e.l.length||(e.i.i.length=0,lw(e.l),e.l.length=0),e.j.ua())}function zS(e,t,n){var r=function(e){return e instanceof bx?kx(e):new bx(e,void 0)}(n);if(""!=r.i)t&&_x(r,t+"."+r.i),xx(r,r.m);else{var i=Qk.location;r=function(e,t,n,r){var i=new bx(null,void 0);return e&&wx(i,e),t&&_x(i,t),n&&xx(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&gw(e.aa,(function(e,t){Ex(r,t,e)})),t=e.D,n=e.sa,t&&n&&Ex(r,t,n),Ex(r,"VER",e.ma),NS(e,r),r}function US(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new uS(new tS({ib:!0})):new uS(e.qa)).L=e.H,t}function BS(){}function qS(){if(Ew&&!(10<=Number(jw)))throw Error("Environmental error: no available transport.")}function WS(e,t){u_.call(this),this.g=new _S(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!fw(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!fw(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new GS(this)}function KS(e){$_.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function HS(){Y_.call(this),this.status=1}function GS(e){this.g=e}(Wk=uS.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():G_.g(),this.C=this.u?K_(this.u):K_(G_),this.g.onreadystatechange=nw(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void dS(this,a)}e=n||"";var i=new vx(this.headers);r&&px(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=hS,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Qk.FormData&&e instanceof Qk.FormData,!(0<=sw(fS,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{yS(this),0<this.B&&((this.K=function(e){return Ew&&Lw()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=nw(this.pa,this)):this.A=S_(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){dS(this,a)}},Wk.pa=function(){"undefined"!=typeof Gk&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,c_(this,"timeout"),this.abort(8))},Wk.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,c_(this,"complete"),c_(this,"abort"),mS(this))},Wk.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),mS(this,!0)),uS.Z.M.call(this)},Wk.Fa=function(){this.s||(this.F||this.v||this.l?vS(this):this.cb())},Wk.cb=function(){vS(this)},Wk.ba=function(){try{return 2<gS(this)?this.g.status:-1}catch(qx){return-1}},Wk.ga=function(){try{return this.g?this.g.responseText:""}catch(qx){return""}},Wk.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),sS(t)}},Wk.Da=function(){return this.m},Wk.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Wk=_S.prototype).ma=8,Wk.G=1,Wk.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Wk.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new J_(this,this.h,e,void 0),n=this.s;if(this.P&&(n?ww(n=bw(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=RS(this,t,r),Ex(i=kx(this.F),"RID",e),Ex(i,"CVER",22),this.D&&Ex(i,"X-HTTP-Session-Id",this.D),NS(this,i),this.o&&n&&kS(i,this.o,n),Qx(this.i,t),this.Ra&&Ex(i,"TYPE","init"),this.ja?(Ex(i,"$req",r),Ex(i,"SID","null"),t.$=!0,rx(t,i,null)):rx(t,i,r),this.G=2}}else 3==this.G&&(e?TS(this,e):0==this.l.length||Kx(this.i)||TS(this))},Wk.Ga=function(){if(this.u=null,DS(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=U_(nw(this.bb,this),e)}},Wk.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,V_(10),SS(this),DS(this))},Wk.ab=function(){null!=this.v&&(this.v=null,SS(this),AS(this),V_(19))},Wk.jb=function(e){e?(this.h.info("Successfully pinged google.com"),V_(2)):(this.h.info("Failed to ping google.com"),V_(1))},(Wk=BS.prototype).xa=function(){},Wk.wa=function(){},Wk.va=function(){},Wk.ua=function(){},Wk.Oa=function(){},qS.prototype.g=function(e,t){return new WS(e,t)},iw(WS,u_),WS.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),g_(nw(e.hb,e,t))),V_(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=zS(e,null,e.W),IS(e)},WS.prototype.close=function(){xS(this.g)},WS.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,CS(this.g,t)}else this.v?((t={}).__data__=f_(e),CS(this.g,t)):CS(this.g,e)},WS.prototype.M=function(){this.g.j=null,delete this.j,xS(this.g),delete this.g,WS.Z.M.call(this)},iw(KS,$_),iw(HS,Y_),iw(GS,BS),GS.prototype.xa=function(){c_(this.g,"a")},GS.prototype.wa=function(e){c_(this.g,new KS(e))},GS.prototype.va=function(e){c_(this.g,new HS(e))},GS.prototype.ua=function(){c_(this.g,"b")},qS.prototype.createWebChannel=qS.prototype.g,WS.prototype.send=WS.prototype.u,WS.prototype.open=WS.prototype.m,WS.prototype.close=WS.prototype.close,B_.NO_ERROR=0,B_.TIMEOUT=8,B_.HTTP_ERROR=6,q_.COMPLETE="complete",H_.EventType=Q_,Q_.OPEN="a",Q_.CLOSE="b",Q_.ERROR="c",Q_.MESSAGE="d",u_.prototype.listen=u_.prototype.N,uS.prototype.listenOnce=uS.prototype.O,uS.prototype.getLastError=uS.prototype.La,uS.prototype.getLastErrorCode=uS.prototype.Da,uS.prototype.getStatus=uS.prototype.ba,uS.prototype.getResponseJson=uS.prototype.Qa,uS.prototype.getResponseText=uS.prototype.ga,uS.prototype.send=uS.prototype.ea;var QS=Hk.createWebChannelTransport=function(){return new qS},$S=Hk.getStatEventTarget=function(){return M_()},YS=Hk.ErrorCode=B_,XS=Hk.EventType=q_,JS=Hk.Event=O_,ZS=Hk.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},eE=Hk.FetchXmlHttpFactory=tS,tE=Hk.WebChannel=H_,nE=Hk.XhrIo=uS,rE="@firebase/firestore",iE=function(){function e(t){oa(this,e),this.uid=t}return ua(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();iE.UNAUTHENTICATED=new iE(null),iE.GOOGLE_CREDENTIALS=new iE("google-credentials-uid"),iE.FIRST_PARTY=new iE("first-party-uid"),iE.MOCK_USER=new iE("mock-user");var aE="9.6.10",oE=new So("@firebase/firestore");function sE(){return oE.logLevel}function uE(e){if(oE.logLevel<=vo.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(fE);oE.debug.apply(oE,["Firestore (".concat(aE,"): ").concat(e)].concat(g(i)))}}function cE(e){if(oE.logLevel<=vo.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(fE);oE.error.apply(oE,["Firestore (".concat(aE,"): ").concat(e)].concat(g(i)))}}function lE(e){if(oE.logLevel<=vo.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(fE);oE.warn.apply(oE,["Firestore (".concat(aE,"): ").concat(e)].concat(g(i)))}}function fE(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function hE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(aE,") INTERNAL ASSERTION FAILED: ")+e;throw cE(t),new Error(t)}function dE(e,t){e||hE()}function pE(e,t){return e}var vE={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},mE=function(e){ea(n,e);var t=ia(n);function n(e,r){var i;return oa(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return ua(n)}(Aa),yE=ua((function e(){var t=this;oa(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),gE=ua((function e(t,n){oa(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),bE=function(){function e(){oa(this,e)}return ua(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(iE.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),kE=function(){function e(t){oa(this,e),this.token=t,this.changeListener=null}return ua(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),wE=function(){function e(t){oa(this,e),this.t=t,this.currentUser=iE.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return ua(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new yE;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new yE,e.enqueueRetryable((function(){return i(n.currentUser)}))};var s=function(){var t=a;e.enqueueRetryable(o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){uE("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),s()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(uE("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new yE)}}),0),s()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(uE("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(dE("string"==typeof n.accessToken),new gE(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return dE(null===e||"string"==typeof e),new iE(e)}}]),e}(),_E=ua((function e(t,n,r){oa(this,e),this.type="FirstParty",this.user=iE.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),xE=function(){function e(t,n,r){oa(this,e),this.h=t,this.l=n,this.m=r}return ua(e,[{key:"getToken",value:function(){return Promise.resolve(new _E(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(iE.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),SE=ua((function e(t){oa(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),EE=function(){function e(t){oa(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return ua(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&uE("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,uE("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){uE("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):uE("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(dE("string"==typeof t.token),e.p=t.token,new SE(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),CE=function(){function e(t,n){var r=this;oa(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return ua(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function IE(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}CE.A=-1;var TE=function(){function e(){oa(this,e)}return ua(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=IE(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function NE(e,t){return e<t?-1:e>t?1:0}function RE(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function PE(e){return e+"\0"}var AE=function(){function e(t,n){if(oa(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new mE(vE.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new mE(vE.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new mE(vE.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mE(vE.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return ua(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?NE(this.nanoseconds,e.nanoseconds):NE(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),OE=function(){function e(t){oa(this,e),this.timestamp=t}return ua(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new AE(0,0))}},{key:"max",value:function(){return new e(new AE(253402300799,999999999))}}]),e}();function DE(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ME(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function LE(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var FE=function(){function e(t,n,r){oa(this,e),void 0===n?n=0:n>t.length&&hE(),void 0===r?r=t.length-n:r>t.length-n&&hE(),this.segments=t,this.offset=n,this.len=r}return ua(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),jE=function(e){ea(n,e);var t=ia(n);function n(){return oa(this,n),t.apply(this,arguments)}return ua(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new mE(vE.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,g(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(FE),VE=/^[_a-zA-Z][_a-zA-Z0-9]*$/,zE=function(e){ea(n,e);var t=ia(n);function n(){return oa(this,n),t.apply(this,arguments)}return ua(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return VE.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new mE(vE.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new mE(vE.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new mE(vE.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new mE(vE.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(FE),UE=function(){function e(t){oa(this,e),this.fields=t,t.sort(zE.comparator)}return ua(e,[{key:"covers",value:function(e){var t,n=aa(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return RE(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var BE=function(e){function t(e){oa(this,t),this.binaryString=e}return ua(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return NE(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();BE.EMPTY_BYTE_STRING=new BE("");var qE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function WE(e){if(dE(!!e),"string"==typeof e){var t=0,n=qE.exec(e);if(dE(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:KE(e.seconds),nanos:KE(e.nanos)}}function KE(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function HE(e){return"string"==typeof e?BE.fromBase64String(e):BE.fromUint8Array(e)}function GE(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function QE(e){var t=e.mapValue.fields.__previous_value__;return GE(t)?QE(t):t}function $E(e){var t=WE(e.mapValue.fields.__local_write_time__.timestampValue);return new AE(t.seconds,t.nanos)}var YE=ua((function e(t,n,r,i,a,o,s,u){oa(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),XE=function(){function e(t,n){oa(this,e),this.projectId=t,this.database=n||"(default)"}return ua(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function JE(e){return null==e}function ZE(e){return 0===e&&1/e==-1/0}function eC(e){return"number"==typeof e&&Number.isInteger(e)&&!ZE(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var tC=function(){function e(t){oa(this,e),this.path=t}return ua(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===jE.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(jE.fromString(t))}},{key:"fromName",value:function(t){return new e(jE.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(jE.emptyPath())}},{key:"comparator",value:function(e,t){return jE.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new jE(t.slice()))}}]),e}(),nC={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},rC={nullValue:"NULL_VALUE"};function iC(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?GE(e)?4:gC(e)?9:10:hE()}function aC(e,t){if(e===t)return!0;var n=iC(e);if(n!==iC(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return $E(e).isEqual($E(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=WE(e.timestampValue),r=WE(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return HE(e.bytesValue).isEqual(HE(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return KE(e.geoPointValue.latitude)===KE(t.geoPointValue.latitude)&&KE(e.geoPointValue.longitude)===KE(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return KE(e.integerValue)===KE(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=KE(e.doubleValue),r=KE(t.doubleValue);return n===r?ZE(n)===ZE(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return RE(e.arrayValue.values||[],t.arrayValue.values||[],aC);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(DE(n)!==DE(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!aC(n[i],r[i])))return!1;return!0}(e,t);default:return hE()}}function oC(e,t){return void 0!==(e.values||[]).find((function(e){return aC(e,t)}))}function sC(e,t){if(e===t)return 0;var n=iC(e),r=iC(t);if(n!==r)return NE(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return NE(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=KE(e.integerValue||e.doubleValue),r=KE(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return uC(e.timestampValue,t.timestampValue);case 4:return uC($E(e),$E(t));case 5:return NE(e.stringValue,t.stringValue);case 6:return function(e,t){var n=HE(e),r=HE(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=NE(n[i],r[i]);if(0!==a)return a}return NE(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=NE(KE(e.latitude),KE(t.latitude));return 0!==n?n:NE(KE(e.longitude),KE(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=sC(n[i],r[i]);if(a)return a}return NE(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=NE(r[o],a[o]);if(0!==s)return s;var u=sC(n[r[o]],i[a[o]]);if(0!==u)return u}return NE(r.length,a.length)}(e.mapValue,t.mapValue);default:throw hE()}}function uC(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return NE(e,t);var n=WE(e),r=WE(t),i=NE(n.seconds,r.seconds);return 0!==i?i:NE(n.nanos,r.nanos)}function cC(e){return lC(e)}function lC(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=WE(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?HE(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,tC.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=aa(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=lC(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=aa(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(lC(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):hE();var t,n}function fC(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function hC(e){return!!e&&"integerValue"in e}function dC(e){return!!e&&"arrayValue"in e}function pC(e){return!!e&&"nullValue"in e}function vC(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function mC(e){return!!e&&"mapValue"in e}function yC(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ME(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=yC(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=yC(e.arrayValue.values[r]);return n}return Object.assign({},e)}function gC(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function bC(e,t){return void 0===e?t:void 0===t||sC(e,t)>0?e:t}function kC(e,t){return void 0===e?t:void 0===t||sC(e,t)<0?e:t}var wC=function(){function e(t){oa(this,e),this.value=t}return ua(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!mC(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yC(t)}},{key:"setAll",value:function(e){var t=this,n=zE.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=yC(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());mC(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return aC(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];mC(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){ME(t,(function(t,n){return e[t]=n}));var r,i=aa(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(yC(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function _C(e){var t=[];return ME(e.fields,(function(e,n){var r=new zE([e]);if(mC(n)){var i=_C(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=aa(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new UE(t)}var xC=function(){function e(t,n,r,i,a,o){oa(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return ua(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=wC.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=wC.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,OE.min(),OE.min(),wC.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,OE.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,OE.min(),wC.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,OE.min(),wC.empty(),2)}}]),e}(),SC=ua((function e(t,n,r,i){oa(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function EC(e){return e.fields.find((function(e){return 2===e.kind}))}function CC(e){return e.fields.filter((function(e){return 2!==e.kind}))}SC.UNKNOWN_ID=-1;var IC=ua((function e(t,n){oa(this,e),this.fieldPath=t,this.kind=n})),TC=function(){function e(t,n){oa(this,e),this.sequenceNumber=t,this.offset=n}return ua(e,null,[{key:"empty",value:function(){return new e(0,PC.min())}}]),e}();function NC(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=OE.fromTimestamp(1e9===r?new AE(n+1,0):new AE(n,r));return new PC(i,tC.empty(),t)}function RC(e){return new PC(e.readTime,e.key,-1)}var PC=function(){function e(t,n,r){oa(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return ua(e,null,[{key:"min",value:function(){return new e(OE.min(),tC.empty(),-1)}},{key:"max",value:function(){return new e(OE.max(),tC.empty(),-1)}}]),e}();function AC(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=tC.comparator(e.documentKey,t.documentKey))?n:NE(e.largestBatchId,t.largestBatchId)}var OC=ua((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;oa(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.P=null}));function DC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new OC(e,t,n,r,i,a,o)}function MC(e){var t=pE(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+cC(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),JE(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return cC(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return cC(e)})).join(",")),t.P=n}return t.P}function LC(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!YC(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!aC(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!JC(e.startAt,t.startAt)&&JC(e.endAt,t.endAt)}function FC(e){return tC.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function jC(e,t){return e.filters.filter((function(e){return e instanceof VC&&e.field.isEqual(t)}))}var VC=function(e){ea(n,e);var t=ia(n);function n(e,r,i){var a;return oa(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return ua(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(sC(t,this.value)):null!==t&&iC(this.value)===iC(t)&&this.v(sC(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return hE()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new zC(e,t,r):"array-contains"===t?new WC(e,r):"in"===t?new KC(e,r):"not-in"===t?new HC(e,r):"array-contains-any"===t?new GC(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new UC(e,n):new BC(e,n)}}]),n}(function(){return ua((function e(){oa(this,e)}))}()),zC=function(e){ea(n,e);var t=ia(n);function n(e,r,i){var a;return oa(this,n),(a=t.call(this,e,r,i)).key=tC.fromName(i.referenceValue),a}return ua(n,[{key:"matches",value:function(e){var t=tC.comparator(e.key,this.key);return this.v(t)}}]),n}(VC),UC=function(e){ea(n,e);var t=ia(n);function n(e,r){var i;return oa(this,n),(i=t.call(this,e,"in",r)).keys=qC("in",r),i}return ua(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(VC),BC=function(e){ea(n,e);var t=ia(n);function n(e,r){var i;return oa(this,n),(i=t.call(this,e,"not-in",r)).keys=qC("not-in",r),i}return ua(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(VC);function qC(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return tC.fromName(e.referenceValue)}))}var WC=function(e){ea(n,e);var t=ia(n);function n(e,r){return oa(this,n),t.call(this,e,"array-contains",r)}return ua(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return dC(t)&&oC(t.arrayValue,this.value)}}]),n}(VC),KC=function(e){ea(n,e);var t=ia(n);function n(e,r){return oa(this,n),t.call(this,e,"in",r)}return ua(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&oC(this.value.arrayValue,t)}}]),n}(VC),HC=function(e){ea(n,e);var t=ia(n);function n(e,r){return oa(this,n),t.call(this,e,"not-in",r)}return ua(n,[{key:"matches",value:function(e){if(oC(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!oC(this.value.arrayValue,t)}}]),n}(VC),GC=function(e){ea(n,e);var t=ia(n);function n(e,r){return oa(this,n),t.call(this,e,"array-contains-any",r)}return ua(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!dC(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return oC(t.value.arrayValue,e)}))}}]),n}(VC),QC=ua((function e(t,n){oa(this,e),this.position=t,this.inclusive=n})),$C=ua((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";oa(this,e),this.field=t,this.dir=n}));function YC(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function XC(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?tC.comparator(tC.fromName(o.referenceValue),n.key):sC(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function JC(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!aC(e.position[n],t.position[n]))return!1;return!0}var ZC=ua((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;oa(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.D=null,this.C=null,this.startAt,this.endAt}));function eI(e,t,n,r,i,a,o,s){return new ZC(e,t,n,r,i,a,o,s)}function tI(e){return new ZC(e)}function nI(e){return!JE(e.limit)&&"F"===e.limitType}function rI(e){return!JE(e.limit)&&"L"===e.limitType}function iI(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function aI(e){var t,n=aa(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function oI(e){return null!==e.collectionGroup}function sI(e){var t=pE(e);if(null===t.D){t.D=[];var n=aI(t),r=iI(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new $C(n)),t.D.push(new $C(zE.keyField(),"asc"));else{var i,a=!1,o=aa(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.D.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new $C(zE.keyField(),u))}}}return t.D}function uI(e){var t=pE(e);if(!t.C)if("F"===t.limitType)t.C=DC(t.path,t.collectionGroup,sI(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=aa(sI(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new $C(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new QC(t.endAt.position,!t.endAt.inclusive):null,u=t.startAt?new QC(t.startAt.position,!t.startAt.inclusive):null;t.C=DC(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.C}function cI(e,t,n){return new ZC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function lI(e,t){return LC(uI(e),uI(t))&&e.limitType===t.limitType}function fI(e){return"".concat(MC(uI(e)),"|lt:").concat(e.limitType)}function hI(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(cC(t.value));var t})).join(", "),"]")),JE(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return cC(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return cC(e)})).join(",")),"Target(".concat(t,")")}(uI(e)),"; limitType=").concat(e.limitType,")")}function dI(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):tC.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=aa(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=aa(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=XC(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,sI(e),t))&&!(e.endAt&&!function(e,t,n){var r=XC(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,sI(e),t))}(e,t)}function pI(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function vI(e){return function(t,n){var r,i=!1,a=aa(sI(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=mI(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function mI(e,t,n){var r=e.field.isKeyField()?tC.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?sC(r,i):hE()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return hE()}}function yI(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ZE(t)?"-0":t}}function gI(e){return{integerValue:""+e}}function bI(e,t){return eC(t)?gI(t):yI(e,t)}var kI=ua((function e(){oa(this,e),this._=void 0}));function wI(e,t,n){return e instanceof SI?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof EI?CI(e,t):e instanceof II?TI(e,t):function(e,t){var n=xI(e,t),r=RI(n)+RI(e.k);return hC(n)&&hC(e.k)?gI(r):yI(e.M,r)}(e,t)}function _I(e,t,n){return e instanceof EI?CI(e,t):e instanceof II?TI(e,t):n}function xI(e,t){return e instanceof NI?hC(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var SI=function(e){ea(n,e);var t=ia(n);function n(){return oa(this,n),t.apply(this,arguments)}return ua(n)}(kI),EI=function(e){ea(n,e);var t=ia(n);function n(e){var r;return oa(this,n),(r=t.call(this)).elements=e,r}return ua(n)}(kI);function CI(e,t){var n,r=PI(t),i=aa(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return aC(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var II=function(e){ea(n,e);var t=ia(n);function n(e){var r;return oa(this,n),(r=t.call(this)).elements=e,r}return ua(n)}(kI);function TI(e,t){var n,r=PI(t),i=aa(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!aC(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var NI=function(e){ea(n,e);var t=ia(n);function n(e,r){var i;return oa(this,n),(i=t.call(this)).M=e,i.k=r,i}return ua(n)}(kI);function RI(e){return KE(e.integerValue||e.doubleValue)}function PI(e){return dC(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var AI=ua((function e(t,n){oa(this,e),this.field=t,this.transform=n}));var OI=ua((function e(t,n){oa(this,e),this.version=t,this.transformResults=n})),DI=function(){function e(t,n){oa(this,e),this.updateTime=t,this.exists=n}return ua(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function MI(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var LI=ua((function e(){oa(this,e)}));function FI(e,t,n){e instanceof BI?function(e,t,n){var r=e.value.clone(),i=KI(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof qI?function(e,t,n){if(MI(e.precondition,t)){var r=KI(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(WI(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function jI(e,t,n){e instanceof BI?function(e,t,n){if(MI(e.precondition,t)){var r=e.value.clone(),i=HI(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(UI(t),r).setHasLocalMutations()}}(e,t,n):e instanceof qI?function(e,t,n){if(MI(e.precondition,t)){var r=HI(e.fieldTransforms,n,t),i=t.data;i.setAll(WI(e)),i.setAll(r),t.convertToFoundDocument(UI(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){MI(e.precondition,t)&&t.convertToNoDocument(OE.min())}(e,t)}function VI(e,t){var n,r=null,i=aa(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=xI(a.transform,o||null);null!=s&&(null==r&&(r=wC.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function zI(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&RE(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof EI&&t instanceof EI||e instanceof II&&t instanceof II?RE(e.elements,t.elements,aC):e instanceof NI&&t instanceof NI?aC(e.k,t.k):e instanceof SI&&t instanceof SI}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function UI(e){return e.isFoundDocument()?e.version:OE.min()}var BI=function(e){ea(n,e);var t=ia(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return oa(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return ua(n)}(LI),qI=function(e){ea(n,e);var t=ia(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return oa(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return ua(n)}(LI);function WI(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function KI(e,t,n){var r=new Map;dE(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,_I(o,s,n[i]))}return r}function HI(e,t,n){var r,i=new Map,a=aa(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,wI(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var GI,QI,$I=function(e){ea(n,e);var t=ia(n);function n(e,r){var i;return oa(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return ua(n)}(LI),YI=function(e){ea(n,e);var t=ia(n);function n(e,r){var i;return oa(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return ua(n)}(LI),XI=ua((function e(t){oa(this,e),this.count=t}));function JI(e){switch(e){default:return hE();case vE.CANCELLED:case vE.UNKNOWN:case vE.DEADLINE_EXCEEDED:case vE.RESOURCE_EXHAUSTED:case vE.INTERNAL:case vE.UNAVAILABLE:case vE.UNAUTHENTICATED:return!1;case vE.INVALID_ARGUMENT:case vE.NOT_FOUND:case vE.ALREADY_EXISTS:case vE.PERMISSION_DENIED:case vE.FAILED_PRECONDITION:case vE.ABORTED:case vE.OUT_OF_RANGE:case vE.UNIMPLEMENTED:case vE.DATA_LOSS:return!0}}function ZI(e){if(void 0===e)return cE("GRPC error has no .code"),vE.UNKNOWN;switch(e){case GI.OK:return vE.OK;case GI.CANCELLED:return vE.CANCELLED;case GI.UNKNOWN:return vE.UNKNOWN;case GI.DEADLINE_EXCEEDED:return vE.DEADLINE_EXCEEDED;case GI.RESOURCE_EXHAUSTED:return vE.RESOURCE_EXHAUSTED;case GI.INTERNAL:return vE.INTERNAL;case GI.UNAVAILABLE:return vE.UNAVAILABLE;case GI.UNAUTHENTICATED:return vE.UNAUTHENTICATED;case GI.INVALID_ARGUMENT:return vE.INVALID_ARGUMENT;case GI.NOT_FOUND:return vE.NOT_FOUND;case GI.ALREADY_EXISTS:return vE.ALREADY_EXISTS;case GI.PERMISSION_DENIED:return vE.PERMISSION_DENIED;case GI.FAILED_PRECONDITION:return vE.FAILED_PRECONDITION;case GI.ABORTED:return vE.ABORTED;case GI.OUT_OF_RANGE:return vE.OUT_OF_RANGE;case GI.UNIMPLEMENTED:return vE.UNIMPLEMENTED;case GI.DATA_LOSS:return vE.DATA_LOSS;default:return hE()}}(QI=GI||(GI={}))[QI.OK=0]="OK",QI[QI.CANCELLED=1]="CANCELLED",QI[QI.UNKNOWN=2]="UNKNOWN",QI[QI.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",QI[QI.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",QI[QI.NOT_FOUND=5]="NOT_FOUND",QI[QI.ALREADY_EXISTS=6]="ALREADY_EXISTS",QI[QI.PERMISSION_DENIED=7]="PERMISSION_DENIED",QI[QI.UNAUTHENTICATED=16]="UNAUTHENTICATED",QI[QI.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",QI[QI.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",QI[QI.ABORTED=10]="ABORTED",QI[QI.OUT_OF_RANGE=11]="OUT_OF_RANGE",QI[QI.UNIMPLEMENTED=12]="UNIMPLEMENTED",QI[QI.INTERNAL=13]="INTERNAL",QI[QI.UNAVAILABLE=14]="UNAVAILABLE",QI[QI.DATA_LOSS=15]="DATA_LOSS";var eT=function(){function e(t,n){oa(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return ua(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=aa(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){ME(this.inner,(function(t,n){var r,i=aa(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return LE(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),tT=function(){function e(t,n){oa(this,e),this.comparator=t,this.root=n||rT.EMPTY}return ua(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,rT.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,rT.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new nT(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new nT(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new nT(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new nT(this.root,e,this.comparator,!0)}}]),e}(),nT=function(){function e(t,n,r,i){oa(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return ua(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),rT=function(){function e(t,n,r,i,a){oa(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return ua(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw hE();if(this.right.isRed())throw hE();var e=this.left.check();if(e!==this.right.check())throw hE();return e+(this.isRed()?0:1)}}]),e}();rT.EMPTY=null,rT.RED=!0,rT.BLACK=!1,rT.EMPTY=new(function(){function e(){oa(this,e),this.size=0}return ua(e,[{key:"key",get:function(){throw hE()}},{key:"value",get:function(){throw hE()}},{key:"color",get:function(){throw hE()}},{key:"left",get:function(){throw hE()}},{key:"right",get:function(){throw hE()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new rT(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var iT=function(){function e(t){oa(this,e),this.comparator=t,this.data=new tT(this.comparator)}return ua(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new aT(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new aT(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),aT=function(){function e(t){oa(this,e),this.iter=t}return ua(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function oT(e){return e.hasNext()?e.getNext():void 0}var sT=new tT(tC.comparator);function uT(){return sT}var cT=new tT(tC.comparator);function lT(){return cT}function fT(){return new eT((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var hT=new tT(tC.comparator),dT=new iT(tC.comparator);function pT(){for(var e=dT,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var vT=new iT(NE);function mT(){return vT}var yT=function(){function e(t,n,r,i,a){oa(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return ua(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,gT.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(OE.min(),r,mT(),uT(),pT())}}]),e}(),gT=function(){function e(t,n,r,i,a){oa(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return ua(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(BE.EMPTY_BYTE_STRING,n,pT(),pT(),pT())}}]),e}(),bT=ua((function e(t,n,r,i){oa(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),kT=ua((function e(t,n){oa(this,e),this.targetId=t,this.$=n})),wT=ua((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:BE.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;oa(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),_T=function(){function e(){oa(this,e),this.B=0,this.L=ET(),this.U=BE.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}return ua(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"K",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.G}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}},{key:"H",value:function(){var e=pT(),t=pT(),n=pT();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:hE()}})),new gT(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.G=!1,this.L=ET()}},{key:"Y",value:function(e,t){this.G=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.G=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.G=!0,this.q=!0}}]),e}(),xT=function(){function e(t){oa(this,e),this.nt=t,this.st=new Map,this.it=uT(),this.rt=ST(),this.ot=new iT(NE)}return ua(e,[{key:"ut",value:function(e){var t,n=aa(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(s){n.e(s)}finally{n.f()}var i,a=aa(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:hE()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(FC(i))if(0===n){var a=new tC(i.path);this.ct(t,a,xC.newNoDocument(a,OE.min()))}else dE(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&FC(a.target)){var o=new tC(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,xC.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=pT();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new yT(e,n,this.ot,this.it,r);return this.it=uT(),this.rt=ST(),this.ot=new iT(NE),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new _T,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new iT(NE),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||uE("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new _T),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function ST(){return new tT(tC.comparator)}function ET(){return new tT(tC.comparator)}var CT={asc:"ASCENDING",desc:"DESCENDING"},IT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TT=ua((function e(t,n){oa(this,e),this.databaseId=t,this.N=n}));function NT(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function RT(e,t){return e.N?t.toBase64():t.toUint8Array()}function PT(e,t){return NT(e,t.toTimestamp())}function AT(e){return dE(!!e),OE.fromTimestamp(function(e){var t=WE(e);return new AE(t.seconds,t.nanos)}(e))}function OT(e,t){return function(e){return new jE(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function DT(e){var t=jE.fromString(e);return dE(rN(t)),t}function MT(e,t){return OT(e.databaseId,t.path)}function LT(e,t){var n=DT(t);if(n.get(1)!==e.databaseId.projectId)throw new mE(vE.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new mE(vE.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new tC(zT(n))}function FT(e,t){return OT(e.databaseId,t)}function jT(e){var t=DT(e);return 4===t.length?jE.emptyPath():zT(t)}function VT(e){return new jE(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function zT(e){return dE(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function UT(e,t,n){return{name:MT(e,t),fields:n.value.mapValue.fields}}function BT(e,t,n){var r=LT(e,t.name),i=AT(t.updateTime),a=new wC({mapValue:{fields:t.fields}}),o=xC.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function qT(e,t){return"found"in t?function(e,t){dE(!!t.found),t.found.name,t.found.updateTime;var n=LT(e,t.found.name),r=AT(t.found.updateTime),i=new wC({mapValue:{fields:t.found.fields}});return xC.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){dE(!!t.missing),dE(!!t.readTime);var n=LT(e,t.missing),r=AT(t.readTime);return xC.newNoDocument(n,r)}(e,t):hE()}function WT(e,t){var n;if(t instanceof BI)n={update:UT(e,t.key,t.value)};else if(t instanceof $I)n={delete:MT(e,t.key)};else if(t instanceof qI)n={update:UT(e,t.key,t.data),updateMask:nN(t.fieldMask)};else{if(!(t instanceof YI))return hE();n={verify:MT(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof SI)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof EI)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof II)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof NI)return{fieldPath:t.field.canonicalString(),increment:n.k};throw hE()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:PT(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:hE()}(e,t.precondition)),n}function KT(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?DI.updateTime(AT(e.updateTime)):void 0!==e.exists?DI.exists(e.exists):DI.none()}(t.currentDocument):DI.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)dE("REQUEST_TIME"===t.setToServerValue),n=new SI;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new EI(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new II(i)}else"increment"in t?n=new NI(e,t.increment):hE();var a=zE.fromServerFormat(t.fieldPath);return new AI(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=LT(e,t.update.name),a=new wC({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new UE(t.map((function(e){return zE.fromServerFormat(e)})))}(t.updateMask);return new qI(i,a,o,n,r)}return new BI(i,a,n,r)}if(t.delete){var s=LT(e,t.delete);return new $I(s,n)}if(t.verify){var u=LT(e,t.verify);return new YI(u,n)}return hE()}function HT(e,t){return{documents:[FT(e,t.path)]}}function GT(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=FT(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=FT(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(vC(e.value))return{unaryFilter:{field:JT(e.field),op:"IS_NAN"}};if(pC(e.value))return{unaryFilter:{field:JT(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(vC(e.value))return{unaryFilter:{field:JT(e.field),op:"IS_NOT_NAN"}};if(pC(e.value))return{unaryFilter:{field:JT(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:JT(e.field),op:XT(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:JT(e.field),direction:YT(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.N||JE(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function QT(e){var t=jT(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){dE(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=$T(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new $C(ZT(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return JE(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new QC(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new QC(n,t)}(n.endAt)),eI(t,i,s,o,u,"F",c,l)}function $T(e){return e?void 0!==e.unaryFilter?[tN(e)]:void 0!==e.fieldFilter?[eN(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return $T(e)})).reduce((function(e,t){return e.concat(t)})):hE():[]}function YT(e){return CT[e]}function XT(e){return IT[e]}function JT(e){return{fieldPath:e.canonicalString()}}function ZT(e){return zE.fromServerFormat(e.fieldPath)}function eN(e){return VC.create(ZT(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return hE()}}(e.fieldFilter.op),e.fieldFilter.value)}function tN(e){switch(e.unaryFilter.op){case"IS_NAN":var t=ZT(e.unaryFilter.field);return VC.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=ZT(e.unaryFilter.field);return VC.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ZT(e.unaryFilter.field);return VC.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ZT(e.unaryFilter.field);return VC.create(i,"!=",{nullValue:"NULL_VALUE"});default:return hE()}}function nN(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function rN(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function iN(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=oN(t)),t=aN(e.get(n),t);return oN(t)}function aN(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function oN(e){return e+"\x01\x01"}function sN(e){var t=e.length;if(dE(t>=2),2===t)return dE("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),jE.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&hE(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:hE()}a=o+2}return new jE(r)}var uN=["userId","batchId"];function cN(e,t){return[e,iN(t)]}function lN(e,t,n){return[e,iN(t),n]}var fN={},hN=["prefixPath","collectionGroup","readTime","documentId"],dN=["prefixPath","collectionGroup","documentId"],pN=["collectionGroup","readTime","prefixPath","documentId"],vN=["canonicalId","targetId"],mN=["targetId","path"],yN=["path","targetId"],gN=["collectionId","parent"],bN=["indexId","uid"],kN=["uid","sequenceNumber"],wN=["indexId","uid","arrayValue","directionalValue","documentKey"],_N=["indexId","uid","documentKey"],xN=["userId","collectionPath","documentId"],SN=["userId","collectionPath","largestBatchId"],EN=["userId","collectionGroup","largestBatchId"],CN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),IN=[].concat(g(CN),["documentOverlays"]),TN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],NN=[].concat(TN,["indexConfiguration","indexState","indexEntries"]),RN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",PN=function(){function e(){oa(this,e),this.onCommittedListeners=[]}return ua(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),AN=function(){function e(t){var n=this;oa(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return ua(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&hE(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=aa(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),ON=function(){function e(t,n){var r=this;oa(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new yE,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new LN(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=UN(e.target.error);r.At.reject(new LN(t,n))}}return ua(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(uE("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new jN(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new LN(n,t)}}}]),e}(),DN=function(){function e(t,n,r){oa(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt(Sa())&&cE("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return ua(e,[{key:"Nt",value:function(){var e=o(f().mark((function e(t){var n=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return uE("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new LN(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new mE(vE.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new mE(vE.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new LN(t,n))},i.onupgradeneeded=function(e){uE("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){uE("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=o(f().mark((function e(t,n,r,i){var a,o,s,u,c=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(f().mark((function e(){var n,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=ON.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),AN.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u="FirebaseError"!==e.t1.name&&o<3,uE("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",u),this.close(),u){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return uE("SimpleDb","Removing database:",e),VN(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!Pa())return!1;if(e.St())return!0;var t=Sa(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/memento",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),MN=function(){function e(t){oa(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return ua(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return VN(this.Ft.delete())}}]),e}(),LN=function(e){ea(n,e);var t=ia(n);function n(e,r){var i;return oa(this,n),(i=t.call(this,vE.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return ua(n)}(mE);function FN(e){return"IndexedDbTransactionError"===e.name}var jN=function(){function e(t){oa(this,e),this.store=t}return ua(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(uE("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(uE("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),VN(n)}},{key:"add",value:function(e){return uE("SimpleDb","ADD",this.store.name,e,e),VN(this.store.add(e))}},{key:"get",value:function(e){var t=this;return VN(this.store.get(e)).next((function(n){return void 0===n&&(n=null),uE("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return uE("SimpleDb","DELETE",this.store.name,e),VN(this.store.delete(e))}},{key:"count",value:function(){return uE("SimpleDb","COUNT",this.store.name),VN(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Gt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new AN((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Kt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new AN((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){uE("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Gt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Gt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new AN((function(n,r){t.onerror=function(e){var t=UN(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Gt",value:function(e,t){var n=[];return new AN((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new MN(i),o=t(i.primaryKey,i.value,a);if(o instanceof AN){var s=o.catch((function(e){return a.done(),AN.reject(e)}));n.push(s)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return AN.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function VN(e){return new AN((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=UN(e.target.error);n(t)}}))}var zN=!1;function UN(e){var t=DN.Vt(Sa());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new mE("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return zN||(zN=!0,setTimeout((function(){throw r}),0)),r}}return e}var BN=function(e){ea(n,e);var t=ia(n);function n(e,r){var i;return oa(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return ua(n)}(PN);function qN(e,t){var n=pE(e);return DN.xt(n.Ht,t)}var WN=function(){function e(t,n,r,i){oa(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return ua(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&FI(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=aa(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&jI(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=aa(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&jI(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(OE.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),pT())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&RE(this.mutations,e.mutations,(function(e,t){return zI(e,t)}))&&RE(this.baseMutations,e.baseMutations,(function(e,t){return zI(e,t)}))}}]),e}(),KN=function(){function e(t,n,r,i){oa(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return ua(e,null,[{key:"from",value:function(t,n,r){dE(t.mutations.length===r.length);for(var i=hT,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),HN=function(){function e(t,n){oa(this,e),this.largestBatchId=t,this.mutation=n}return ua(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),GN=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:OE.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:OE.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:BE.EMPTY_BYTE_STRING;oa(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return ua(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),QN=ua((function e(t){oa(this,e),this.Jt=t}));function $N(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:YN(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:MT(e,t.key),fields:t.data.value.mapValue.fields,updateTime:NT(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:XN(t.version)};else{if(!t.isUnknownDocument())return hE();r.unknownDocument={path:n.path.toArray(),version:XN(t.version)}}return r}function YN(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function XN(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function JN(e){var t=new AE(e.seconds,e.nanoseconds);return OE.fromTimestamp(t)}function ZN(e,t){for(var n=(t.baseMutations||[]).map((function(t){return KT(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return KT(e.Jt,t)})),s=AE.fromMillis(t.localWriteTimeMs);return new WN(t.batchId,s,n,o)}function eR(e){var t,n,r=JN(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?JN(e.lastLimboFreeSnapshotVersion):OE.min();return void 0!==e.query.documents?(dE(1===(n=e.query).documents.length),t=uI(tI(jT(n.documents[0])))):t=function(e){return uI(QT(e))}(e.query),new GN(t,e.targetId,0,e.lastListenSequenceNumber,r,i,BE.fromBase64String(e.resumeToken))}function tR(e,t){var n,r=XN(t.snapshotVersion),i=XN(t.lastLimboFreeSnapshotVersion);n=FC(t.target)?HT(e.Jt,t.target):GT(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:MC(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function nR(e){var t=QT({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?cI(t,t.limit,"L"):t}function rR(e,t){return new HN(t.largestBatchId,KT(e.Jt,t.overlayMutation))}function iR(e,t){var n=t.path.lastSegment();return[e,iN(t.path.popLast()),n]}var aR=function(){function e(){oa(this,e)}return ua(e,[{key:"getBundleMetadata",value:function(e,t){return oR(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:JN(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return oR(e).put({bundleId:(n=t).id,createTime:XN(AT(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return sR(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:nR(t.bundledQuery),readTime:JN(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return sR(e).put(function(e){return{name:e.name,readTime:XN(AT(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function oR(e){return qN(e,"bundles")}function sR(e){return qN(e,"namedQueries")}var uR=function(){function e(t,n){oa(this,e),this.M=t,this.userId=n}return ua(e,[{key:"getOverlay",value:function(e,t){var n=this;return cR(e).get(iR(this.userId,t)).next((function(e){return e?rR(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new HN(t,a);i.push(r.Xt(e,o))})),AN.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(iN(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(cR(e).Qt("collectionPathOverlayIndex",i))})),AN.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=fT(),a=iN(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return cR(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=aa(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=rR(r.M,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=fT(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return cR(e).Wt({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=rR(a.M,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return cR(e).put(function(e,t,n){var r=c(iR(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:WT(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function cR(e){return qN(e,"documentOverlays")}var lR=function(){function e(){oa(this,e)}return ua(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(KE(e.integerValue));else if("doubleValue"in e){var n=KE(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),ZE(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(HE(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?gC(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):hE()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=aa(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),tC.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function fR(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function hR(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=fR(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}lR.fe=new lR;var dR=function(){function e(){oa(this,e),this.buffer=new Uint8Array(1024),this.position=0}return ua(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=aa(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=aa(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=hR(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=hR(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),pR=function(){function e(t){oa(this,e),this.De=t}return ua(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),vR=function(){function e(t){oa(this,e),this.De=t}return ua(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),mR=function(){function e(){oa(this,e),this.De=new dR,this.Ce=new pR(this.De),this.xe=new vR(this.De)}return ua(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),yR=function(){function e(t,n,r,i){oa(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return ua(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function gR(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=bR(e.arrayValue,t.arrayValue))?n:0!==(n=bR(e.directionalValue,t.directionalValue))?n:tC.comparator(e.documentKey,t.documentKey)}function bR(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var kR=function(){function e(t){oa(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=aa(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return ua(e,[{key:"$e",value:function(e){var t=EC(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=CC(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=aa(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),wR=function(){function e(){oa(this,e),this.qe=new _R}return ua(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),AN.resolve()}},{key:"getCollectionParents",value:function(e,t){return AN.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return AN.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return AN.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return AN.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return AN.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return AN.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return AN.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return AN.resolve()}},{key:"updateIndexEntries",value:function(e,t){return AN.resolve()}}]),e}(),_R=function(){function e(){oa(this,e),this.index={}}return ua(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new iT(jE.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new iT(jE.comparator)).toArray()}}]),e}(),xR=new Uint8Array(0),SR=function(){function e(t){oa(this,e),this.user=t,this.Ge=new _R,this.Ke=new eT((function(e){return MC(e)}),(function(e,t){return LC(e,t)})),this.uid=t.uid||""}return ua(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ge.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ge.add(t)}));var a={collectionId:r,parent:iN(i)};return ER(e).put(a)}return AN.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[PE(t),""],!1,!0);return ER(e).qt(r).next((function(e){var r,i=aa(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(sN(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=IR(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=IR(e),r=TR(e),i=CR(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=CR(e),i=!0,a=new Map;return AN.forEach(this.Qe(t),(function(t){return n.getFieldIndex(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=pT();return AN.forEach(a,(function(i,a){var o;uE("IndexedDbIndexManager","Using index ".concat((o=i,"id=".concat(o.indexId,"|cg=").concat(o.collectionGroup,"|f=").concat(o.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(MC(t)));var s=function(e,t){var n=EC(t);if(void 0===n)return null;var r,i=aa(jC(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),u=function(e,t){var n,r=new Map,i=aa(CC(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=aa(jC(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r,i=[],a=!0,o=aa(CC(t));try{for(o.s();!(n=o.n()).done;){var s,u=n.value,c=void 0,l=!0,f=aa(jC(e,u.fieldPath));try{for(f.s();!(s=f.n()).done;){var h=s.value,d=void 0,p=!0;switch(h.op){case"<":case"<=":d="nullValue"in(r=h.value)?rC:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?fC(XE.empty(),tC.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:hE();break;case"==":case"in":case">=":d=h.value;break;case">":d=h.value,p=!1;break;case"!=":case"not-in":d=rC}bC(c,d)===d&&(c=d,l=p)}}catch(y){f.e(y)}finally{f.f()}if(null!==e.startAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(u.fieldPath)){var m=e.startAt.position[v];bC(c,m)===m&&(c=m,l=e.startAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(y){o.e(y)}finally{o.f()}return new QC(i,a)}(a,i),l=function(e,t){var n,r,i=[],a=!0,o=aa(CC(t));try{for(o.s();!(n=o.n()).done;){var s,u=n.value,c=void 0,l=!0,f=aa(jC(e,u.fieldPath));try{for(f.s();!(s=f.n()).done;){var h=s.value,d=void 0,p=!0;switch(h.op){case">=":case">":d="nullValue"in(r=h.value)?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?fC(XE.empty(),tC.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?nC:hE(),p=!1;break;case"==":case"in":case"<=":d=h.value;break;case"<":d=h.value,p=!1;break;case"!=":case"not-in":d=nC}kC(c,d)===d&&(c=d,l=p)}}catch(y){f.e(y)}finally{f.f()}if(null!==e.endAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(u.fieldPath)){var m=e.endAt.position[v];kC(c,m)===m&&(c=m,l=e.endAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(y){o.e(y)}finally{o.f()}return new QC(i,a)}(a,i),f=n.je(i,a,c),h=n.je(i,a,l),d=n.We(i,a,u),p=n.ze(i.indexId,s,f,!!c&&c.inclusive,h,!!l&&l.inclusive,d);return AN.forEach(p,(function(n){return r.Kt(n,t.limit).next((function(t){t.forEach((function(t){e=e.add(new tC(sN(t.documentKey)))}))}))}))})).next((function(){return e}))}return AN.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}},{key:"ze",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(null!=n?n.length:1,null!=i?i.length:1),c=u/(null!=t?t.length:1),l=[],f=function(u){var f=t?s.He(t[u/c]):xR,h=n?s.Je(e,f,n[u%c],r):s.Ye(e),d=i?s.Xe(e,f,i[u%c],a):s.Ye(e+1);l.push.apply(l,g(s.createRange(h,d,o.map((function(t){return s.Je(e,f,t,!0)})))))},h=0;h<u;++h)f(h);return l}},{key:"Je",value:function(e,t,n,r){var i=new yR(e,tC.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new yR(e,tC.empty(),t,n);return r?i.ke():i}},{key:"Ye",value:function(e){return new yR(e,tC.empty(),xR,xR)}},{key:"getFieldIndex",value:function(e,t){var n=new kR(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t=e.filter((function(e){return n.$e(e)}));return t.sort((function(e,t){return t.fields.length-e.fields.length})),t.length>0?t[0]:null}))}},{key:"Ze",value:function(e,t){var n,r=new mR,i=aa(CC(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.Ne(a.kind);lR.fe.Zt(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Se()}},{key:"He",value:function(e){var t=new mR;return lR.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"We",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new mR);var i,a=0,o=aa(CC(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=aa(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.tn(t,u.fieldPath)&&dC(c))r=this.en(r,u,c);else{var h=f.Ne(u.kind);lR.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.nn(r)}},{key:"je",value:function(e,t,n){return null==n?null:this.We(e,t,n.position)}},{key:"nn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"en",value:function(e,t,n){var r,i=g(e),a=[],o=aa(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=aa(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new mR;f.seed(l.Se()),lR.fe.Zt(u,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"tn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof VC&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=IR(e),i=TR(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return AN.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new TC(t.sequenceNumber,new PC(JN(t.readTime),new tC(sN(t.documentKey)),t.largestBatchId)):TC.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new IC(zE.fromServerFormat(n),r)}));return new SC(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:NE(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=IR(e),a=TR(e);return this.sn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return AN.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:XN(r.readTime),documentKey:iN(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return AN.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?AN.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),AN.forEach(a,(function(r){return n.rn(e,t,r).next((function(t){var a=n.on(i,r);return t.isEqual(a)?AN.resolve():n.un(e,i,t,a)}))}))}))}))}},{key:"an",value:function(e,t,n){return CR(e).put({indexId:n.indexId,uid:this.uid,arrayValue:n.arrayValue,directionalValue:n.directionalValue,documentKey:iN(t.key.path)})}},{key:"cn",value:function(e,t,n){return CR(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,iN(t.key.path)])}},{key:"rn",value:function(e,t,n){var r=CR(e),i=new iT(gR);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,iN(t.path)])},(function(e,r){i=i.add(new yR(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"on",value:function(e,t){var n=new iT(gR),r=this.Ze(t,e);if(null==r)return n;var i=EC(t);if(null!=i){var a=e.data.field(i.fieldPath);if(dC(a)){var o,s=aa(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new yR(t.indexId,e.key,this.He(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new yR(t.indexId,e.key,xR,r));return n}},{key:"un",value:function(e,t,n,r){var i=this;uE("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=oT(a),u=oT(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=oT(o)):l?(i(s),s=oT(a)):(s=oT(a),u=oT(o))}}(n,r,gR,(function(n){a.push(i.an(e,t,n))}),(function(n){a.push(i.cn(e,t,n))})),AN.waitFor(a)}},{key:"sn",value:function(e){var t=1;return TR(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return gR(e,t)})).filter((function(e,t,n){return!t||0!==gR(e,n[t-1])}));var r=[];r.push(e);var i,a=aa(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=gR(o,e),u=gR(o,t);if(0===s)r[0]=e.ke();else if(s>0&&u<0)r.push(o),r.push(o.ke());else if(u>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,""],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,""]));return c}}]),e}();function ER(e){return qN(e,"collectionParents")}function CR(e){return qN(e,"indexEntries")}function IR(e){return qN(e,"indexConfiguration")}function TR(e){return qN(e,"indexState")}var NR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RR=function(){function e(t,n,r){oa(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return ua(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function PR(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Wt({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){dE(1===s)})));var c,l=[],f=aa(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=lN(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return AN.waitFor(a).next((function(){return l}))}function AR(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw hE();t=e.noDocument}return JSON.stringify(t).length}RR.DEFAULT_COLLECTION_PERCENTILE=10,RR.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,RR.DEFAULT=new RR(41943040,RR.DEFAULT_COLLECTION_PERCENTILE,RR.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),RR.DISABLED=new RR(-1,0,0);var OR=function(){function e(t,n,r,i){oa(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.hn={}}return ua(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return MR(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=LR(e),o=MR(e);return o.add({}).next((function(s){dE("number"==typeof s);var u,c=new WN(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return WT(e.Jt,t)})),i=n.mutations.map((function(t){return WT(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new iT((function(e,t){return NE(e.canonicalString(),t.canonicalString())})),d=aa(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=lN(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,fN))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.hn[s]=c.keys()})),AN.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return MR(e).get(t).next((function(e){return e?(dE(e.userId===n.userId),ZN(n.M,e)):null}))}},{key:"ln",value:function(e,t){var n=this;return this.hn[t]?AN.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.hn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return MR(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(dE(t.batchId>=r),a=ZN(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return MR(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return MR(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return ZN(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=cN(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return LR(e).Wt({range:i},(function(r,i,o){var s=c(r,3),u=s[0],l=s[1],f=s[2],h=sN(l);if(u===n.userId&&t.path.isEqual(h))return MR(e).get(f).next((function(e){if(!e)throw hE();dE(e.userId===n.userId),a.push(ZN(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new iT(NE),i=[];return t.forEach((function(t){var a=cN(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=LR(e).Wt({range:o},(function(e,i,a){var o=c(e,3),s=o[0],u=o[1],l=o[2],f=sN(u);s===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(s)})),AN.waitFor(i).next((function(){return n.fn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=cN(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new iT(NE);return LR(e).Wt({range:o},(function(e,t,a){var o=c(e,3),u=o[0],l=o[1],f=o[2],h=sN(l);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.fn(e,s)}))}},{key:"fn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(MR(e).get(t).next((function(e){if(null===e)throw hE();dE(e.userId===n.userId),r.push(ZN(n.M,e))})))})),AN.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return PR(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.dn(t.batchId)})),AN.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"dn",value:function(e){delete this.hn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return AN.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return LR(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=sN(e[1]);i.push(a)}else r.done()})).next((function(){dE(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return DR(e,this.userId,t)}},{key:"_n",value:function(e){var t=this;return FR(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return dE(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function DR(e,t,n){var r=cN(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return LR(e).Wt({range:a,jt:!0},(function(e,n,r){var a=c(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function MR(e){return qN(e,"mutations")}function LR(e){return qN(e,"documentMutations")}function FR(e){return qN(e,"mutationQueues")}var jR=function(){function e(t){oa(this,e),this.wn=t}return ua(e,[{key:"next",value:function(){return this.wn+=2,this.wn}}],[{key:"mn",value:function(){return new e(0)}},{key:"gn",value:function(){return new e(-1)}}]),e}(),VR=function(){function e(t,n){oa(this,e),this.referenceDelegate=t,this.M=n}return ua(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.yn(e).next((function(n){var r=new jR(n.highestTargetId);return n.highestTargetId=r.next(),t.pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.yn(e).next((function(e){return OE.fromTimestamp(new AE(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.yn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.yn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.In(e,t).next((function(){return n.yn(e).next((function(r){return r.targetCount+=1,n.Tn(t,r),n.pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.In(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return zR(e).delete(t.targetId)})).next((function(){return n.yn(e)})).next((function(t){return dE(t.targetCount>0),t.targetCount-=1,n.pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return zR(e).Wt((function(o,s){var u=eR(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return AN.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return zR(e).Wt((function(e,n){var r=eR(n);t(r)}))}},{key:"yn",value:function(e){return UR(e).get("targetGlobalKey").next((function(e){return dE(null!==e),e}))}},{key:"pn",value:function(e,t){return UR(e).put("targetGlobalKey",t)}},{key:"In",value:function(e,t){return zR(e).put(tR(this.M,t))}},{key:"Tn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.yn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=MC(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return zR(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=eR(n);LC(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=BR(e);return t.forEach((function(t){var o=iN(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),AN.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=BR(e);return AN.forEach(t,(function(t){var a=iN(t.path);return AN.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=BR(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=BR(e),i=pT();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=sN(e[1]),a=new tC(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=iN(t.path),r=IDBKeyRange.bound([n],[PE(n)],!1,!0),i=0;return BR(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return zR(e).get(t).next((function(e){return e?eR(e):null}))}}]),e}();function zR(e){return qN(e,"targets")}function UR(e){return qN(e,"targetGlobal")}function BR(e){return qN(e,"targetDocuments")}function qR(e){return WR.apply(this,arguments)}function WR(){return WR=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===vE.FAILED_PRECONDITION&&t.message===RN){e.next=2;break}throw t;case 2:uE("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),WR.apply(this,arguments)}function KR(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],s=a[1],u=NE(r,o);return 0===u?NE(i,s):u}var HR=function(){function e(t){oa(this,e),this.En=t,this.buffer=new iT(KR),this.An=0}return ua(e,[{key:"Rn",value:function(){return++this.An}},{key:"bn",value:function(e){var t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();KR(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),GR=function(){function e(t,n){oa(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Pn=!1,this.Vn=null}return ua(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}},{key:"stop",value:function(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}},{key:"started",get:function(){return null!==this.Vn}},{key:"vn",value:function(e){var t=this,n=this.Pn?3e5:6e4;uE("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,o(f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.Vn=null,t.Pn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!FN(n.t0)){n.next=12;break}uE("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,qR(n.t0);case 14:return n.next=16,t.vn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),QR=function(){function e(t,n){oa(this,e),this.Sn=t,this.params=n}return ua(e,[{key:"calculateTargetCount",value:function(e,t){return this.Sn.Dn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return AN.resolve(CE.A);var r=new HR(t);return this.Sn.forEachTarget(e,(function(e){return r.bn(e.sequenceNumber)})).next((function(){return n.Sn.Cn(e,(function(e){return r.bn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Sn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Sn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(uE("LruGarbageCollector","Garbage collection skipped; disabled"),AN.resolve(NR)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(uE("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),NR):n.xn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Sn.getCacheSize(e)}},{key:"xn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(uE("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),sE()<=vo.DEBUG&&uE("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),AN.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),$R=function(){function e(t,n){oa(this,e),this.db=t,this.garbageCollector=function(e,t){return new QR(e,t)}(this,n)}return ua(e,[{key:"Dn",value:function(e){var t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Nn",value:function(e){var t=0;return this.Cn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Cn",value:function(e,t){return this.kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return YR(e,n)}},{key:"removeReference",value:function(e,t,n){return YR(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return YR(e,t)}},{key:"Mn",value:function(e,t){return function(e,t){var n=!1;return FR(e).zt((function(r){return DR(e,r,t).next((function(e){return e&&(n=!0),AN.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.kn(e,(function(o,s){if(s<=t){var u=n.Mn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,OE.min()),BR(e).delete([0,iN(o.path)])}))}));i.push(u)}})).next((function(){return AN.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return YR(e,t)}},{key:"kn",value:function(e,t){var n,r=BR(e),i=CE.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==CE.A&&t(new tC(sN(n)),i),i=u,n=s):i=CE.A})).next((function(){i!==CE.A&&t(new tC(sN(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function YR(e,t){return BR(e).put(function(e,t){return{targetId:0,path:iN(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var XR=function(){function e(){oa(this,e),this.changes=new eT((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return ua(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,xC.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?AN.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),JR=function(){function e(t){oa(this,e),this.M=t}return ua(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return tP(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return tP(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],YN(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.On(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=xC.newInvalidDocument(t);return tP(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(nP(t))},(function(e,i){r=n.Fn(t,i)})).next((function(){return r}))}},{key:"$n",value:function(e,t){var n=this,r={size:0,document:xC.newInvalidDocument(t)};return tP(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(nP(t))},(function(e,i){r={document:n.Fn(t,i),size:AR(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=uT();return this.Bn(e,t,(function(e,t){var i=n.Fn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ln",value:function(e,t){var n=this,r=uT(),i=new tT(tC.comparator);return this.Bn(e,t,(function(e,t){var a=n.Fn(e,t);r=r.insert(e,a),i=i.insert(e,AR(t))})).next((function(){return{documents:r,Un:i}}))}},{key:"Bn",value:function(e,t,n){if(t.isEmpty())return AN.resolve();var r=new iT(iP);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(nP(r.first()),nP(r.last())),a=r.getIterator(),o=a.getNext();return tP(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=tC.fromSegments([].concat(g(t.prefixPath),[t.collectionGroup,t.documentId]));o&&iP(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(nP(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),YN(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return tP(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=uT(),i=aa(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Fn(tC.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(s){i.e(s)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=uT(),o=rP(t,n),s=rP(t,PC.max());return tP(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.Fn(tC.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new ZR(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return eP(e).get("remoteDocumentGlobalKey").next((function(e){return dE(!!e),e}))}},{key:"On",value:function(e,t){return eP(e).put("remoteDocumentGlobalKey",t)}},{key:"Fn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=BT(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=tC.fromSegments(t.noDocument.path),i=JN(t.noDocument.readTime);n=xC.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return hE();var a=tC.fromSegments(t.unknownDocument.path),o=JN(t.unknownDocument.version);n=xC.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new AE(e[0],e[1]);return OE.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(OE.min()))return n}return xC.newInvalidDocument(e)}}]),e}(),ZR=function(e){ea(n,e);var t=ia(n);function n(e,r){var i;return oa(this,n),(i=t.call(this)).qn=e,i.trackRemovals=r,i.Gn=new eT((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return ua(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new iT((function(e,t){return NE(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Gn.get(a);if(n.push(t.qn.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=$N(t.qn.M,o);i=i.add(a.path.popLast());var c=AR(u);r+=c-s.size,n.push(t.qn.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=$N(t.qn.M,o.convertToNoDocument(OE.min()));n.push(t.qn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.qn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.qn.updateMetadata(e,r)),AN.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.qn.$n(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.qn.Ln(e,t).next((function(e){var t=e.documents;return e.Un.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(XR);function eP(e){return qN(e,"remoteDocumentGlobal")}function tP(e){return qN(e,"remoteDocumentsV14")}function nP(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function rP(e,t){var n=t.documentKey.path.toArray();return[e,YN(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function iP(e,t){var n=e.path.length-t.path.length;return 0!==n?n:tC.comparator(e,t)}var aP=function(){function e(t){oa(this,e),this.M=t}return ua(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new ON("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",uN,{unique:!0}),e.createObjectStore("documentMutations")}(e),oP(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=AN.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),oP(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:OE.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",uN,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return AN.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Kn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Qn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.jn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Wn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.zn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:xN});t.createIndex("collectionPathOverlayIndex",SN,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",EN,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:hN});t.createIndex("documentKeyIndex",dN),t.createIndex("collectionGroupIndex",pN)}(e)})).next((function(){return i.Hn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:bN}).createIndex("sequenceNumberIndex",kN,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:wN}).createIndex("documentKeyIndex",_N,{unique:!1})}(e)}))),o}},{key:"Qn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=AR(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Kn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return AN.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return AN.forEach(r,(function(r){dE(r.userId===n.userId);var i=ZN(t.M,r);return PR(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"jn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new jE(n),o=function(e){return[0,iN(e)]}(a);r.push(t.get(o).next((function(n){return n?AN.resolve():function(n){return t.put({targetId:0,path:iN(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return AN.waitFor(r)}))}))}},{key:"Wn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:gN});var n=t.store("collectionParents"),r=new _R,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:iN(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new jE(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],sN(r));return i(a.popLast())}))}))}},{key:"zn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=eR(r),a=tR(t.M,i);return n.put(a)}))}},{key:"Hn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new tC(jE.fromString(i.document.name).popFirst(5)):i.noDocument?tC.fromSegments(i.noDocument.path):i.unknownDocument?tC.fromSegments(i.unknownDocument.path):hE()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return AN.waitFor(r)}))}}]),e}();function oP(e){e.createObjectStore("targetDocuments",{keyPath:mN}).createIndex("documentTargetsIndex",yN,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",vN,{unique:!0}),e.createObjectStore("targetGlobal")}var sP="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",uP=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(oa(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Jn=a,this.window=o,this.document=s,this.Yn=c,this.Xn=l,this.Zn=f,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=function(e){return Promise.resolve()},!e.vt())throw new mE(vE.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new $R(this,i),this.cs=n+"main",this.M=new QN(u),this.hs=new DN(this.cs,this.Zn,new aP(this.M)),this.ls=new VR(this.referenceDelegate,this.M),this.fs=function(e){return new JR(e)}(this.M),this.ds=new aR,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===l&&cE("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return ua(e,[{key:"start",value:function(){var e=this;return this.ws().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new mE(vE.FAILED_PRECONDITION,sP);return e.gs(),e.ys(),e.ps(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.ls.getHighestSequenceNumber(t)}))})).then((function(t){e.ts=new CE(t,e.Yn)})).then((function(){e.es=!0})).catch((function(t){return e.hs&&e.hs.close(),Promise.reject(t)}))}},{key:"Is",value:function(e){var t=this;return this.us=function(){var n=o(f().mark((function n(r){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.hs.Ot(function(){var t=o(f().mark((function t(n){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget(o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ws();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ws",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return lP(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ts(t).next((function(t){t||(e.isPrimary=!1,e.Jn.enqueueRetryable((function(){return e.us(!1)})))}))})).next((function(){return e.Es(t)})).next((function(n){return e.isPrimary&&!n?e.As(t).next((function(){return!1})):!!n&&e.Rs(t).next((function(){return!0}))}))})).catch((function(t){if(FN(t))return uE("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return uE("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Jn.enqueueRetryable((function(){return e.us(t)})),e.isPrimary=t}))}},{key:"Ts",value:function(e){var t=this;return cP(e).get("owner").next((function(e){return AN.resolve(t.bs(e))}))}},{key:"Ps",value:function(e){return lP(e).delete(this.clientId)}},{key:"Vs",value:function(){var e=o(f().mark((function e(){var t,n,r,i,a=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.vs(this.os,18e5)){e.next=6;break}return this.os=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=qN(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ss(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return AN.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._s){n=aa(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._s.removeItem(this.Ds(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ps",value:function(){var e=this;this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ws().then((function(){return e.Vs()})).then((function(){return e.ps()}))}))}},{key:"bs",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Es",value:function(e){var t=this;return this.Xn?AN.resolve(!0):cP(e).get("owner").next((function(n){if(null!==n&&t.vs(n.leaseTimestampMs,5e3)&&!t.Cs(n.ownerId)){if(t.bs(n)&&t.networkEnabled)return!0;if(!t.bs(n)){if(!n.allowTabSynchronization)throw new mE(vE.FAILED_PRECONDITION,sP);return!1}}return!(!t.networkEnabled||!t.inForeground)||lP(e).qt().next((function(e){return void 0===t.Ss(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&uE("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=o(f().mark((function e(){var t=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.es=!1,this.xs(),this.rs&&(this.rs.cancel(),this.rs=null),this.Ns(),this.ks(),e.next=7,this.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new BN(e,CE.A);return t.As(n).next((function(){return t.Ps(n)}))}));case 7:this.hs.close(),this.Ms();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ss",value:function(e,t){var n=this;return e.filter((function(e){return n.vs(e.updateTimeMs,t)&&!n.Cs(e.clientId)}))}},{key:"Os",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return lP(t).qt().next((function(t){return e.Ss(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.es}},{key:"getMutationQueue",value:function(e,t){return OR.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.ls}},{key:"getRemoteDocumentCache",value:function(){return this.fs}},{key:"getIndexManager",value:function(e){return new SR(e)}},{key:"getDocumentOverlayCache",value:function(e){return uR.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this.ds}},{key:"runTransaction",value:function(e,t,n){var r=this;uE("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=14===(i=this.Zn)?NN:13===i?TN:12===i?IN:11===i?CN:void hE();return this.hs.runTransaction(e,o,s,(function(i){return a=new BN(i,r.ts?r.ts.next():CE.A),"readwrite-primary"===t?r.Ts(a).next((function(e){return!!e||r.Es(a)})).next((function(t){if(!t)throw cE("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Jn.enqueueRetryable((function(){return r.us(!1)})),new mE(vE.FAILED_PRECONDITION,RN);return n(a)})).next((function(e){return r.Rs(a).next((function(){return e}))})):r.Fs(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Fs",value:function(e){var t=this;return cP(e).get("owner").next((function(e){if(null!==e&&t.vs(e.leaseTimestampMs,5e3)&&!t.Cs(e.ownerId)&&!t.bs(e)&&!(t.Xn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new mE(vE.FAILED_PRECONDITION,sP)}))}},{key:"Rs",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cP(e).put("owner",t)}},{key:"As",value:function(e){var t=this,n=cP(e);return n.get("owner").next((function(e){return t.bs(e)?(uE("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):AN.resolve()}))}},{key:"vs",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(cE("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gs",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=function(){e.Jn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ws()}))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ns",value:function(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}},{key:"ys",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=function(){t.xs(),Ra()&&navigator.appVersion.match(/Version\/1[45]/)&&t.Jn.enterRestrictedMode(!0),t.Jn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ns))}},{key:"ks",value:function(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}},{key:"Cs",value:function(e){var t;try{var n=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return uE("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return cE("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xs",value:function(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(iw){cE("Failed to set zombie client id.",iw)}}},{key:"Ms",value:function(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(iw){}}},{key:"Ds",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return DN.vt()}}]),e}();function cP(e){return qN(e,"owner")}function lP(e){return qN(e,"clientMetadata")}function fP(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var hP=function(){function e(t,n,r){oa(this,e),this.fs=t,this.$s=n,this.indexManager=r}return ua(e,[{key:"Bs",value:function(e,t){var n=this;return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Ls(e,t,r)}))}},{key:"Ls",value:function(e,t,n){return this.fs.getEntry(e,t).next((function(e){var t,r=aa(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Us",value:function(e,t){e.forEach((function(e,n){var r,i=aa(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"qs",value:function(e,t){var n=this;return this.fs.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Us(t,e)}))}},{key:"Ks",value:function(e,t,n){return function(e){return tC.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Qs(e,t.path):oI(t)?this.js(e,t,n):this.Ws(e,t,n)}},{key:"Qs",value:function(e,t){return this.Bs(e,new tC(t)).next((function(e){var t=lT();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"js",value:function(e,t,n){var r=this,i=t.collectionGroup,a=lT();return this.indexManager.getCollectionParents(e,i).next((function(o){return AN.forEach(o,(function(o){var s=function(e,t){return new ZC(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Ws(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Ws",value:function(e,t,n){var r,i=this;return this.fs.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.$s.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=aa(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=aa(a.mutations);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=s.key,c=r.get(u);null==c&&(c=xC.newInvalidDocument(u),r=r.insert(u,c)),jI(s,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(u))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){dI(t,n)||(r=r.remove(e))})),r}))}}]),e}(),dP=function(){function e(t,n,r,i){oa(this,e),this.targetId=t,this.fromCache=n,this.zs=r,this.Hs=i}return ua(e,null,[{key:"Js",value:function(t,n){var r,i=pT(),a=pT(),o=aa(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),pP=function(){function e(){oa(this,e)}return ua(e,[{key:"Ys",value:function(e){this.Xs=e}},{key:"Ks",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(OE.min())?this.Zs(e,t):this.Xs.qs(e,r).next((function(a){var o=i.ti(t,a);return(nI(t)||rI(t))&&i.ei(t.limitType,o,r,n)?i.Zs(e,t):(sE()<=vo.DEBUG&&uE("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),hI(t)),i.Xs.Ks(e,t,NC(n,-1)).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ti",value:function(e,t){var n=new iT(vI(e));return t.forEach((function(t,r){dI(e,r)&&(n=n.add(r))})),n}},{key:"ei",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Zs",value:function(e,t){return sE()<=vo.DEBUG&&uE("QueryEngine","Using full collection scan to execute query:",hI(t)),this.Xs.Ks(e,t,PC.min())}}]),e}(),vP=function(){function e(t,n,r,i){oa(this,e),this.persistence=t,this.ni=n,this.M=i,this.si=new tT(NE),this.ii=new eT((function(e){return MC(e)}),LC),this.ri=new Map,this.oi=t.getRemoteDocumentCache(),this.ls=t.getTargetCache(),this.ds=t.getBundleCache(),this.ui(r)}return ua(e,[{key:"ui",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new hP(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.si)}))}}]),e}();function mP(e,t,n,r){return new vP(e,t,n,r)}function yP(e,t){return gP.apply(this,arguments)}function gP(){return gP=o(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pE(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.$s.getAllMutationBatches(e).next((function(i){return t=i,r.ui(n),r.$s.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=pT(),u=aa(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=aa(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){u.e(b)}finally{u.f()}var d,p=aa(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=aa(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){p.e(b)}finally{p.f()}return r.ai.qs(e,s).next((function(e){return{ci:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),gP.apply(this,arguments)}function bP(e,t){var n=pE(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.oi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=AN.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);dE(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.$s.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.$s.performConsistencyCheck(e)})).next((function(){return n.ai.qs(e,r)}))}))}function kP(e){var t=pE(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.ls.getLastRemoteSnapshotVersion(e)}))}function wP(e,t){var n=pE(e),r=t.snapshotVersion,i=n.si;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.oi.newChangeBuffer({trackRemovals:!0});i=n.si;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.ls.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.ls.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(BE.EMPTY_BYTE_STRING,OE.min()).withLastLimboFreeSnapshotVersion(OE.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.ls.updateTargetData(e,c))}}));var s=uT();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(_P(e,a,t.documentUpdates).next((function(e){s=e}))),!r.isEqual(OE.min())){var u=n.ls.getLastRemoteSnapshotVersion(e).next((function(t){return n.ls.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return AN.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ai.Gs(e,s)})).next((function(){return s}))})).then((function(e){return n.si=i,e}))}function _P(e,t,n){var r=pT();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=uT();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(OE.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):uE("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function xP(e,t){var n=pE(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.$s.getNextMutationBatchAfterBatchId(e,t)}))}function SP(e,t){var n=pE(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.ls.getTargetData(e,t).next((function(i){return i?(r=i,AN.resolve(r)):n.ls.allocateTargetId(e).next((function(i){return r=new GN(t,i,0,e.currentSequenceNumber),n.ls.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.si.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.si=n.si.insert(e.targetId,e),n.ii.set(t,e.targetId)),e}))}function EP(e,t,n){return CP.apply(this,arguments)}function CP(){return CP=o(f().mark((function e(t,n,r){var i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=pE(t),a=i.si.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),FN(e.t1)){e.next=12;break}throw e.t1;case 12:uE("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.si=i.si.remove(n),i.ii.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),CP.apply(this,arguments)}function IP(e,t,n){var r=pE(e),i=OE.min(),a=pT();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=pE(e),i=r.ii.get(n);return void 0!==i?AN.resolve(r.si.get(i)):r.ls.getTargetData(t,n)}(r,e,uI(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ni.Ks(e,t,n?i:OE.min(),n?a:pT())})).next((function(e){return RP(r,pI(t),e),{documents:e,hi:a}}))}))}function TP(e,t){var n=pE(e),r=pE(n.ls),i=n.si.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function NP(e,t){var n=pE(e),r=n.ri.get(t)||OE.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.oi.getAllFromCollectionGroup(e,t,NC(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return RP(n,t,e),e}))}function RP(e,t,n){var r=OE.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ri.set(t,r)}function PP(e,t,n,r){return AP.apply(this,arguments)}function AP(){return AP=o(f().mark((function e(t,n,r,i){var a,o,s,u,c,l,h,d,p,v;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=pE(t),o=pT(),s=uT(),u=aa(r);try{for(u.s();!(c=u.n()).done;)l=c.value,h=n.li(l.metadata.name),l.document&&(o=o.add(h)),(d=n.fi(l)).setReadTime(n.di(l.metadata.readTime)),s=s.insert(h,d)}catch(f){u.e(f)}finally{u.f()}return p=a.oi.newChangeBuffer({trackRemovals:!0}),e.next=7,SP(a,function(e){return uI(tI(jE.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return v=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return _P(e,p,s).next((function(t){return p.apply(e),t})).next((function(t){return a.ls.removeMatchingKeysForTargetId(e,v.targetId).next((function(){return a.ls.addMatchingKeys(e,o,v.targetId)})).next((function(){return a.ai.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),AP.apply(this,arguments)}function OP(e,t){return DP.apply(this,arguments)}function DP(){return DP=o(f().mark((function e(t,n){var r,i,a,o=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:pT(),e.next=3,SP(t,uI(nR(n.bundledQuery)));case 3:return i=e.sent,a=pE(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=AT(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.ds.saveNamedQuery(e,n);var o=i.withResumeToken(BE.EMPTY_BYTE_STRING,t);return a.si=a.si.insert(o.targetId,o),a.ls.updateTargetData(e,o).next((function(){return a.ls.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.ls.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),DP.apply(this,arguments)}var MP=function(){function e(t){oa(this,e),this.M=t,this._i=new Map,this.wi=new Map}return ua(e,[{key:"getBundleMetadata",value:function(e,t){return AN.resolve(this._i.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this._i.set(t.id,{id:(n=t).id,version:n.version,createTime:AT(n.createTime)}),AN.resolve()}},{key:"getNamedQuery",value:function(e,t){return AN.resolve(this.wi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.wi.set(t.name,function(e){return{name:e.name,query:nR(e.bundledQuery),readTime:AT(e.readTime)}}(t)),AN.resolve()}}]),e}(),LP=function(){function e(){oa(this,e),this.overlays=new tT(tC.comparator),this.mi=new Map}return ua(e,[{key:"getOverlay",value:function(e,t){return AN.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),AN.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.mi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.mi.delete(n)),AN.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=fT(),i=t.length+1,a=new tC(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return AN.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new tT((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=fT(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=fT(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return AN.resolve(u)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.mi.get(r.largestBatchId).delete(n.key);this.mi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new HN(t,n));var a=this.mi.get(t);void 0===a&&(a=pT(),this.mi.set(t,a)),this.mi.set(t,a.add(n.key))}}}]),e}(),FP=function(){function e(){oa(this,e),this.gi=new iT(jP.yi),this.pi=new iT(jP.Ii)}return ua(e,[{key:"isEmpty",value:function(){return this.gi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new jP(e,t);this.gi=this.gi.add(n),this.pi=this.pi.add(n)}},{key:"Ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ei(new jP(e,t))}},{key:"Ai",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Ri",value:function(e){var t=this,n=new tC(new jE([])),r=new jP(n,e),i=new jP(n,e+1),a=[];return this.pi.forEachInRange([r,i],(function(e){t.Ei(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.gi.forEach((function(t){return e.Ei(t)}))}},{key:"Ei",value:function(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}},{key:"Pi",value:function(e){var t=new tC(new jE([])),n=new jP(t,e),r=new jP(t,e+1),i=pT();return this.pi.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new jP(e,0),n=this.gi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),jP=function(){function e(t,n){oa(this,e),this.key=t,this.Vi=n}return ua(e,null,[{key:"yi",value:function(e,t){return tC.comparator(e.key,t.key)||NE(e.Vi,t.Vi)}},{key:"Ii",value:function(e,t){return NE(e.Vi,t.Vi)||tC.comparator(e.key,t.key)}}]),e}(),VP=function(){function e(t,n){oa(this,e),this.indexManager=t,this.referenceDelegate=n,this.$s=[],this.vi=1,this.Si=new iT(jP.yi)}return ua(e,[{key:"checkEmpty",value:function(e){return AN.resolve(0===this.$s.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vi;this.vi++,this.$s.length>0&&this.$s[this.$s.length-1];var a=new WN(i,t,n,r);this.$s.push(a);var o,s=aa(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Si=this.Si.add(new jP(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return AN.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return AN.resolve(this.Di(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ci(n),i=r<0?0:r;return AN.resolve(this.$s.length>i?this.$s[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return AN.resolve(0===this.$s.length?-1:this.vi-1)}},{key:"getAllMutationBatches",value:function(e){return AN.resolve(this.$s.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new jP(t,0),i=new jP(t,Number.POSITIVE_INFINITY),a=[];return this.Si.forEachInRange([r,i],(function(e){var t=n.Di(e.Vi);a.push(t)})),AN.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new iT(NE);return t.forEach((function(e){var t=new jP(e,0),i=new jP(e,Number.POSITIVE_INFINITY);n.Si.forEachInRange([t,i],(function(e){r=r.add(e.Vi)}))})),AN.resolve(this.xi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;tC.isDocumentKey(i)||(i=i.child(""));var a=new jP(new tC(i),0),o=new iT(NE);return this.Si.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Vi)),!0)}),a),AN.resolve(this.xi(o))}},{key:"xi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Di(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;dE(0===this.Ni(t.batchId,"removed")),this.$s.shift();var r=this.Si;return AN.forEach(t.mutations,(function(i){var a=new jP(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Si=r}))}},{key:"dn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new jP(t,0),r=this.Si.firstAfterOrEqual(n);return AN.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.$s.length,AN.resolve()}},{key:"Ni",value:function(e,t){return this.Ci(e)}},{key:"Ci",value:function(e){return 0===this.$s.length?0:e-this.$s[0].batchId}},{key:"Di",value:function(e){var t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}]),e}(),zP=function(){function e(t){oa(this,e),this.ki=t,this.docs=new tT(tC.comparator),this.size=0}return ua(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ki(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return AN.resolve(n?n.document.mutableCopy():xC.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=uT();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():xC.newInvalidDocument(e))})),AN.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=uT(),i=new tC(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||AC(RC(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return AN.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){hE()}},{key:"Mi",value:function(e,t){return AN.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new UP(this)}},{key:"getSize",value:function(e){return AN.resolve(this.size)}}]),e}(),UP=function(e){ea(n,e);var t=ia(n);function n(e){var r;return oa(this,n),(r=t.call(this)).qn=e,r}return ua(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.qn.addEntry(e,i)):t.qn.removeEntry(r)})),AN.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.qn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.qn.getEntries(e,t)}}]),n}(XR),BP=function(){function e(t){oa(this,e),this.persistence=t,this.Oi=new eT((function(e){return MC(e)}),LC),this.lastRemoteSnapshotVersion=OE.min(),this.highestTargetId=0,this.Fi=0,this.$i=new FP,this.targetCount=0,this.Bi=jR.mn()}return ua(e,[{key:"forEachTarget",value:function(e,t){return this.Oi.forEach((function(e,n){return t(n)})),AN.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return AN.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return AN.resolve(this.Fi)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Bi.next(),AN.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Fi&&(this.Fi=t),AN.resolve()}},{key:"In",value:function(e){this.Oi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Bi=new jR(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.In(t),this.targetCount+=1,AN.resolve()}},{key:"updateTargetData",value:function(e,t){return this.In(t),AN.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,AN.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Oi.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Oi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),AN.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return AN.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Oi.get(t)||null;return AN.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.$i.Ti(t,n),AN.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.$i.Ai(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),AN.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.$i.Ri(t),AN.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.$i.Pi(t);return AN.resolve(n)}},{key:"containsKey",value:function(e,t){return AN.resolve(this.$i.containsKey(t))}}]),e}(),qP=function(){function e(t,n){var r=this;oa(this,e),this.Li={},this.overlays={},this.ts=new CE(0),this.es=!1,this.es=!0,this.referenceDelegate=t(this),this.ls=new BP(this),this.indexManager=new wR,this.fs=new zP((function(e){return r.referenceDelegate.Ui(e)})),this.M=new QN(n),this.ds=new MP(this.M)}return ua(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.es=!1,Promise.resolve()}},{key:"started",get:function(){return this.es}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new LP,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Li[e.toKey()];return n||(n=new VP(t,this.referenceDelegate),this.Li[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.ls}},{key:"getRemoteDocumentCache",value:function(){return this.fs}},{key:"getBundleCache",value:function(){return this.ds}},{key:"runTransaction",value:function(e,t,n){var r=this;uE("MemoryPersistence","Starting transaction:",e);var i=new WP(this.ts.next());return this.referenceDelegate.qi(),n(i).next((function(e){return r.referenceDelegate.Gi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ki",value:function(e,t){return AN.or(Object.values(this.Li).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),WP=function(e){ea(n,e);var t=ia(n);function n(e){var r;return oa(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return ua(n)}(PN),KP=function(){function e(t){oa(this,e),this.persistence=t,this.Qi=new FP,this.ji=null}return ua(e,[{key:"zi",get:function(){if(this.ji)return this.ji;throw hE()}},{key:"addReference",value:function(e,t,n){return this.Qi.addReference(n,t),this.zi.delete(n.toString()),AN.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qi.removeReference(n,t),this.zi.add(n.toString()),AN.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.zi.add(t.toString()),AN.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qi.Ri(t.targetId).forEach((function(e){return n.zi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.zi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"qi",value:function(){this.ji=new Set}},{key:"Gi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return AN.forEach(this.zi,(function(r){var i=tC.fromPath(r);return t.Hi(e,i).next((function(e){e||n.removeEntry(i,OE.min())}))})).next((function(){return t.ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hi(e,t).next((function(e){e?n.zi.delete(t.toString()):n.zi.add(t.toString())}))}},{key:"Ui",value:function(e){return 0}},{key:"Hi",value:function(e,t){var n=this;return AN.or([function(){return AN.resolve(n.Qi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ki(e,t)}])}}],[{key:"Wi",value:function(t){return new e(t)}}]),e}();function HP(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function GP(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function QP(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var $P=function(){function e(t,n,r,i){oa(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return ua(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new mE(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(cE("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),YP=function(){function e(t,n,r){oa(this,e),this.targetId=t,this.state=n,this.error=r}return ua(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new mE(i.error.code,i.error.message))),a?new e(t,i.state,r):(cE("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),XP=function(){function e(t,n){oa(this,e),this.clientId=t,this.activeTargetIds=n}return ua(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=mT(),o=0;i&&o<r.activeTargetIds.length;++o)i=eC(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(cE("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),JP=function(){function e(t,n){oa(this,e),this.clientId=t,this.onlineState=n}return ua(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(cE("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),ZP=function(){function e(){oa(this,e),this.activeTargetIds=mT()}return ua(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),eA=function(){function e(t,n,r,i,a){oa(this,e),this.window=t,this.Jn=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new tT(NE),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=HP(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new ZP),this.ar=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.cr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return ua(e,[{key:"start",value:function(){var e=o(f().mark((function e(){var t,n,r,i,a,o,s,u,c,l,h,d=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Os();case 2:t=e.sent,n=aa(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(HP(this.persistenceKey,i)))&&(o=XP.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(s=this.storage.getItem(this.lr))&&(u=this.wr(s))&&this.mr(u),c=aa(this.ir);try{for(c.s();!(l=c.n()).done;)h=l.value,this.nr(h)}catch(f){c.e(f)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(QP(this.persistenceKey,e));if(n){var r=YP.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(QP(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return uE("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){uE("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){uE("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(uE("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void cE("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable(o(f().mark((function e(){var r,i,a,o,s,u,c;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.ar.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.cr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(s));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}u=function(e){var t=CE.A;if(null!=e)try{var n=JSON.parse(e);dE("number"==typeof n),t=n}catch(e){cE("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==CE.A&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new $P(this.currentUser,e,t,n),i=GP(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=GP(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=QP(this.persistenceKey,e),i=new YP(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.ar.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return XP.Ji(n,t)}},{key:"Vr",value:function(e,t){var n=this.cr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return $P.Ji(new iE(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return YP.Ji(r,t)}},{key:"wr",value:function(e){return JP.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"vr",value:function(){var e=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:uE("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Or(o,s).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=mT();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),tA=function(){function e(){oa(this,e),this.Fr=new ZP,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return ua(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new ZP,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),nA=function(){function e(){oa(this,e)}return ua(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),rA=function(){function e(){var t=this;oa(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Gr()},this.Kr=[],this.Qr()}return ua(e,[{key:"Br",value:function(e){this.Kr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){uE("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=aa(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Gr",value:function(){uE("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=aa(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),iA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},aA=function(){function e(t){oa(this,e),this.jr=t.jr,this.Wr=t.Wr}return ua(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),oA=function(e){ea(n,e);var t=ia(n);function n(e){var r;return oa(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return ua(n,[{key:"ao",value:function(e,t,n,r){return new Promise((function(i,a){var o=new nE;o.listenOnce(XS.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case YS.NO_ERROR:var t=o.getResponseJson();uE("Connection","XHR received:",JSON.stringify(t)),i(t);break;case YS.TIMEOUT:uE("Connection",'RPC "'+e+'" timed out'),a(new mE(vE.DEADLINE_EXCEEDED,"Request time out"));break;case YS.HTTP_ERROR:var n=o.getStatus();if(uE("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(vE).indexOf(t)>=0?t:vE.UNKNOWN}(r.status);a(new mE(s,r.message))}else a(new mE(vE.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new mE(vE.UNAVAILABLE,"Connection failed."));break;default:hE()}}finally{uE("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=QS(),a=$S(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new eE({})),this.uo(o.initMessageHeaders,t,n),Ea()||Ia()||Sa().indexOf("Electron/")>=0||Ta()||Sa().indexOf("MSAppHost/")>=0||Ca()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");uE("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new aA({jr:function(e){l?uE("Connection","Not sending because WebChannel is closed:",e):(c||(uE("Connection","Opening WebChannel transport."),u.open(),c=!0),uE("Connection","WebChannel sending:",e),u.send(e))},Wr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,tE.EventType.OPEN,(function(){l||uE("Connection","WebChannel transport opened.")})),h(u,tE.EventType.CLOSE,(function(){l||(l=!0,uE("Connection","WebChannel transport closed"),f.eo())})),h(u,tE.EventType.ERROR,(function(e){l||(l=!0,lE("Connection","WebChannel transport errored:",e),f.eo(new mE(vE.UNAVAILABLE,"The operation could not be completed")))})),h(u,tE.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];dE(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){uE("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=GI[e];if(void 0!==t)return ZI(t)}(a),s=i.message;void 0===o&&(o=vE.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new mE(o,s)),u.close()}else uE("Connection","WebChannel received:",n),f.no(n)}})),h(a,JS.STAT_EVENT,(function(e){e.stat===ZS.PROXY?uE("Connection","Detected buffering proxy"):e.stat===ZS.NOPROXY&&uE("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){oa(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return ua(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);uE("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.ao(e,a,o,n).then((function(e){return uE("RestConnection","Received: ",e),e}),(function(t){throw lE("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"co",value:function(e,t,n,r,i){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+aE,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=iA[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function sA(){return"undefined"!=typeof window?window:null}function uA(){return"undefined"!=typeof document?document:null}function cA(e){return new TT(e,!0)}var lA=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;oa(this,e),this.Jn=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return ua(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&uE("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.Jn.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),fA=function(){function e(t,n,r,i,a,o,s,u){oa(this,e),this.Jn=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new lA(t,n)}return ua(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Mo()})))}},{key:"Oo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"$o",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"close",value:function(){var e=o(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===vE.RESOURCE_EXHAUSTED?(cE(n.toString()),cE("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===vE.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new mE(vE.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.vo=n.Jn.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(o(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return uE("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.Jn.enqueueAndForget((function(){return t.Po===e?n():(uE("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),hA=function(e){ea(n,e);var t=ia(n);function n(e,r,i,a,o,s){var u;return oa(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).M=o,u}return ua(n,[{key:"Go",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:hE()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(dE(void 0===t||"string"==typeof t),BE.fromBase64String(t||"")):(dE(void 0===t||t instanceof Uint8Array),BE.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?vE.UNKNOWN:ZI(e.code);return new mE(t,e.message||"")}(o);n=new wT(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=LT(e,u.document.name),l=AT(u.document.updateTime),f=new wC({mapValue:{fields:u.document.fields}}),h=xC.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new bT(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=LT(e,v.document),y=v.readTime?AT(v.readTime):OE.min(),g=xC.newNoDocument(m,y),b=v.removedTargetIds||[];n=new bT([],b,g.key,g)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var w=LT(e,k.document),_=k.removedTargetIds||[];n=new bT([],_,w,null)}else{if(!("filter"in t))return hE();t.filter;var x=t.filter;x.targetId;var S=x.count||0,E=new XI(S),C=x.targetId;n=new kT(C,E)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return OE.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?OE.min():t.readTime?AT(t.readTime):OE.min()}(e);return this.listener.Ko(t,n)}},{key:"Qo",value:function(e){var t={};t.database=VT(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=FC(r)?{documents:HT(e,r)}:{query:GT(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=RT(e,t.resumeToken):t.snapshotVersion.compareTo(OE.min())>0&&(n.readTime=NT(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return hE()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Oo(t)}},{key:"jo",value:function(e){var t={};t.database=VT(this.M),t.removeTarget=e,this.Oo(t)}}]),n}(fA),dA=function(e){ea(n,e);var t=ia(n);function n(e,r,i,a,o,s){var u;return oa(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).M=o,u.Wo=!1,u}return ua(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,Zi(Xi(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Go",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(dE(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(dE(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?AT(e.updateTime):AT(t);return n.isEqual(OE.min())&&(n=AT(t)),new OI(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=AT(e.commitTime);return this.listener.Jo(n,t)}return dE(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=VT(this.M),this.Oo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return WT(t.M,e)}))};this.Oo(n)}}]),n}(fA),pA=function(e){ea(n,e);var t=ia(n);function n(e,r,i,a){var o;return oa(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.M=a,o.Zo=!1,o}return ua(n,[{key:"tu",value:function(){if(this.Zo)throw new mE(vE.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],s=a[1];return r.bo.ro(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===vE.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new mE(vE.UNKNOWN,e.toString())}))}},{key:"co",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],s=a[1];return r.bo.co(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===vE.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new mE(vE.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return ua((function e(){oa(this,e)}))}()),vA=function(){function e(t,n){oa(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return ua(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(cE(t),this.su=!1):uE("OnlineStateTracker",t)}},{key:"au",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),mA=ua((function e(t,n,r,i,a){var s=this;oa(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=IA(s),!e.t0){e.next=5;break}return uE("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=o(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=pE(t)).lu.add(4),e.next=4,bA(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,yA(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(s);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new vA(r,i)}));function yA(e){return gA.apply(this,arguments)}function gA(){return gA=o(f().mark((function e(t){var n,r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!IA(t)){e.next=18;break}n=aa(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),gA.apply(this,arguments)}function bA(e){return kA.apply(this,arguments)}function kA(){return kA=o(f().mark((function e(t){var n,r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=aa(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),kA.apply(this,arguments)}function wA(e,t){var n=pE(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),CA(n)?EA(n):nO(n).Co()&&xA(n,t))}function _A(e,t){var n=pE(e),r=nO(n);n.hu.delete(t),r.Co()&&SA(n,t),0===n.hu.size&&(r.Co()?r.ko():IA(n)&&n._u.set("Unknown"))}function xA(e,t){e.wu.Z(t.targetId),nO(e).Qo(t)}function SA(e,t){e.wu.Z(t),nO(e).jo(t)}function EA(e){e.wu=new xT({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.hu.get(t)||null}}),nO(e).start(),e._u.iu()}function CA(e){return IA(e)&&!nO(e).Do()&&e.hu.size>0}function IA(e){return 0===pE(e).lu.size}function TA(e){e.wu=void 0}function NA(e){return RA.apply(this,arguments)}function RA(){return RA=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){xA(t,e)}));case 1:case"end":return e.stop()}}),e)}))),RA.apply(this,arguments)}function PA(e,t){return AA.apply(this,arguments)}function AA(){return AA=o(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:TA(t),CA(t)?(t._u.uu(n),EA(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),AA.apply(this,arguments)}function OA(e,t,n){return DA.apply(this,arguments)}function DA(){return DA=o(f().mark((function e(t,n,r){var i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof wT&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=o(f().mark((function e(t,n){var r,i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=aa(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),uE("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,MA(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof bT?t.wu.ut(n):n instanceof kT?t.wu._t(n):t.wu.ht(n),r.isEqual(OE.min())){e.next=29;break}return e.prev=14,e.next=17,kP(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(BE.EMPTY_BYTE_STRING,n.snapshotVersion)),SA(e,t);var r=new GN(n.target,t,1,n.sequenceNumber);xA(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),uE("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,MA(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),DA.apply(this,arguments)}function MA(e,t,n){return LA.apply(this,arguments)}function LA(){return LA=o(f().mark((function e(t,n,r){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(FN(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,bA(t);case 5:t._u.set("Offline"),r||(r=function(){return kP(t.localStore)}),t.asyncQueue.enqueueRetryable(o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uE("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,yA(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),LA.apply(this,arguments)}function FA(e,t){return t().catch((function(n){return MA(e,n,t)}))}function jA(e){return VA.apply(this,arguments)}function VA(){return VA=o(f().mark((function e(t){var n,r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=pE(t),r=rO(n),i=n.cu.length>0?n.cu[n.cu.length-1].batchId:-1;case 2:if(!zA(n)){e.next=19;break}return e.prev=3,e.next=6,xP(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.cu.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,UA(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,MA(n,e.t0);case 17:e.next=2;break;case 19:BA(n)&&qA(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),VA.apply(this,arguments)}function zA(e){return IA(e)&&e.cu.length<10}function UA(e,t){e.cu.push(t);var n=rO(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function BA(e){return IA(e)&&!rO(e).Do()&&e.cu.length>0}function qA(e){rO(e).start()}function WA(e){return KA.apply(this,arguments)}function KA(){return KA=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:rO(t).Xo();case 1:case"end":return e.stop()}}),e)}))),KA.apply(this,arguments)}function HA(e){return GA.apply(this,arguments)}function GA(){return GA=o(f().mark((function e(t){var n,r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=rO(t),r=aa(t.cu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),GA.apply(this,arguments)}function QA(e,t,n){return $A.apply(this,arguments)}function $A(){return $A=o(f().mark((function e(t,n,r){var i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.cu.shift(),a=KN.from(i,n,r),e.next=3,FA(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,jA(t);case 5:case"end":return e.stop()}}),e)}))),$A.apply(this,arguments)}function YA(e,t){return XA.apply(this,arguments)}function XA(){return XA=o(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&rO(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=o(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!JI(i=n.code)||i===vE.ABORTED){e.next=7;break}return r=t.cu.shift(),rO(t).No(),e.next=5,FA(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,jA(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:BA(t)&&qA(t);case 5:case"end":return e.stop()}}),e)}))),XA.apply(this,arguments)}function JA(e,t){return ZA.apply(this,arguments)}function ZA(){return ZA=o(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=pE(t)).asyncQueue.verifyOperationInProgress(),uE("RemoteStore","RemoteStore received new credentials"),i=IA(r),r.lu.add(3),e.next=6,bA(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,yA(r);case 12:case"end":return e.stop()}}),e)}))),ZA.apply(this,arguments)}function eO(e,t){return tO.apply(this,arguments)}function tO(){return tO=o(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=pE(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,yA(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,bA(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),tO.apply(this,arguments)}function nO(e){return e.mu||(e.mu=function(e,t,n){var r=pE(e);return r.tu(),new hA(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{zr:NA.bind(null,e),Jr:PA.bind(null,e),Ko:OA.bind(null,e)}),e.fu.push(function(){var t=o(f().mark((function t(n){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),CA(e)?EA(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:TA(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function rO(e){return e.gu||(e.gu=function(e,t,n){var r=pE(e);return r.tu(),new dA(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{zr:WA.bind(null,e),Jr:YA.bind(null,e),Yo:HA.bind(null,e),Jo:QA.bind(null,e)}),e.fu.push(function(){var t=o(f().mark((function t(n){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,jA(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.cu.length>0&&(uE("RemoteStore","Stopping write stream with ".concat(e.cu.length," pending writes")),e.cu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var iO=function(){function e(t,n,r,i,a){oa(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new yE,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return ua(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new mE(vE.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function aO(e,t){if(cE("AsyncQueue","".concat(t,": ").concat(e)),FN(e))return new mE(vE.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var oO=function(){function e(t){oa(this,e),this.comparator=t?function(e,n){return t(e,n)||tC.comparator(e.key,n.key)}:function(e,t){return tC.comparator(e.key,t.key)},this.keyedMap=lT(),this.sortedSet=new tT(this.comparator)}return ua(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),sO=function(){function e(){oa(this,e),this.yu=new tT(tC.comparator)}return ua(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):hE():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),uO=function(){function e(t,n,r,i,a,o,s,u){oa(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return ua(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lI(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,oO.emptySet(n),a,r,i,!0,!1)}}]),e}(),cO=ua((function e(){oa(this,e),this.Iu=void 0,this.listeners=[]})),lO=ua((function e(){oa(this,e),this.queries=new eT((function(e){return fI(e)}),lI),this.onlineState="Unknown",this.Tu=new Set}));function fO(e,t){return hO.apply(this,arguments)}function hO(){return hO=o(f().mark((function e(t,n){var r,i,a,o,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=pE(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new cO),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=aO(e.t0,"Initialization of query '".concat(hI(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&yO(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),hO.apply(this,arguments)}function dO(e,t){return pO.apply(this,arguments)}function pO(){return pO=o(f().mark((function e(t,n){var r,i,a,o,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=pE(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),pO.apply(this,arguments)}function vO(e,t){var n,r=pE(e),i=!1,a=aa(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=aa(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&yO(r)}function mO(e,t,n){var r=pE(e),i=r.queries.get(t);if(i){var a,o=aa(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function yO(e){e.Tu.forEach((function(e){e.next()}))}var gO=function(){function e(t,n,r){oa(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return ua(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=aa(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new uO(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),a=!0):this.vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=uO.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),bO=function(){function e(t,n){oa(this,e),this.payload=t,this.byteLength=n}return ua(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),kO=function(){function e(t){oa(this,e),this.M=t}return ua(e,[{key:"li",value:function(e){return LT(this.M,e)}},{key:"fi",value:function(e){return e.metadata.exists?BT(this.M,e.document,!1):xC.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}},{key:"di",value:function(e){return AT(e)}}]),e}(),wO=function(){function e(t,n,r){oa(this,e),this.xu=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=_O(t)}return ua(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=jE.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new kO(this.M),i=aa(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.li(a.metadata.name),u=aa(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||pT()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=o(f().mark((function e(){var t,n,r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,PP(this.localStore,new kO(this.M),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=aa(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,OP(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Mu:this.collectionGroups,Ou:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function _O(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var xO=ua((function e(t){oa(this,e),this.key=t})),SO=ua((function e(t){oa(this,e),this.key=t})),EO=function(){function e(t,n){oa(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=pT(),this.mutatedKeys=pT(),this.Lu=vI(t),this.Uu=new oO(this.Lu)}return ua(e,[{key:"qu",get:function(){return this.Fu}},{key:"Gu",value:function(e,t){var n=this,r=t?t.Ku:new sO,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=nI(this.query)&&i.size===this.query.limit?i.last():null,c=rI(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=dI(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Lu(f,u)>0||c&&n.Lu(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),nI(this.query)||rI(this.query))for(;o.size>this.query.limit;){var l=nI(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Ku:r,ei:s,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Ku.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return hE()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],s=0===this.Bu.size&&this.current?1:0,u=s!==this.$u;return this.$u=s,0!==a.length||u?{snapshot:new uO(this.query,e.Uu,i,a,e.mutatedKeys,0===s,u,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new sO,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=pT(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new SO(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new xO(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.hi,this.Bu=pT();var t=this.Gu(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return uO.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),CO=ua((function e(t,n,r){oa(this,e),this.query=t,this.targetId=n,this.view=r})),IO=ua((function e(t){oa(this,e),this.key=t,this.Xu=!1})),TO=function(){function e(t,n,r,i,a,o){oa(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.ta=new eT((function(e){return fI(e)}),lI),this.ea=new Map,this.na=new Set,this.sa=new tT(tC.comparator),this.ia=new Map,this.ra=new FP,this.oa={},this.ua=new Map,this.aa=jR.gn(),this.onlineState="Unknown",this.ca=void 0}return ua(e,[{key:"isPrimaryClient",get:function(){return!0===this.ca}}]),e}();function NO(e,t){return RO.apply(this,arguments)}function RO(){return RO=o(f().mark((function e(t,n){var r,i,a,o,s,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=_D(t),!(o=r.ta.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,SP(r.localStore,uI(n));case 8:return s=e.sent,r.isPrimaryClient&&wA(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,PO(r,n,i,"current"===u);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),RO.apply(this,arguments)}function PO(e,t,n,r){return AO.apply(this,arguments)}function AO(){return AO=o(f().mark((function e(t,n,r,i){var a,s,u,c,l,h;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.ha=function(e,n,r){return function(){var e=o(f().mark((function e(t,n,r,i){var a,o,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Gu(r),e.t0=a.ei,!e.t0){e.next=6;break}return e.next=5,IP(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Gu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(JO(t,n.targetId,s.zu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,IP(t.localStore,n,!0);case 3:return a=e.sent,s=new EO(n,a.hi),u=s.Gu(a.documents),c=gT.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),l=s.applyChanges(u,t.isPrimaryClient,c),JO(t,r,l.zu),h=new CO(n,r,s),e.abrupt("return",(t.ta.set(n,h),t.ea.has(r)?t.ea.get(r).push(n):t.ea.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),AO.apply(this,arguments)}function OO(e,t){return DO.apply(this,arguments)}function DO(){return DO=o(f().mark((function e(t,n){var r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=pE(t),i=r.ta.get(n),!((a=r.ea.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ea.set(i.targetId,a.filter((function(e){return!lI(e,n)}))),void r.ta.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,EP(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),_A(r.remoteStore,i.targetId),YO(r,i.targetId)})).catch(qR);case 9:e.next=14;break;case 11:return YO(r,i.targetId),e.next=14,EP(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),DO.apply(this,arguments)}function MO(e,t,n){return LO.apply(this,arguments)}function LO(){return LO=o(f().mark((function e(t,n,r){var i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xD(t),e.prev=1,e.next=4,function(e,t){var n,r=pE(e),i=AE.now(),a=t.reduce((function(e,t){return e.add(t.key)}),pT());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ai.qs(e,a).next((function(a){n=a;var o,s=[],u=aa(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=VI(c,n.get(c.key));null!=l&&s.push(new qI(c.key,l,_C(l.value.mapValue),DI.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return r.$s.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oa[e.currentUser.toKey()];r||(r=new tT(NE)),r=r.insert(t,n),e.oa[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,tD(i,a.changes);case 9:return e.next=11,jA(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=aO(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),LO.apply(this,arguments)}function FO(e,t){return jO.apply(this,arguments)}function jO(){return jO=o(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pE(t),e.prev=1,e.next=4,wP(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ia.get(t);n&&(dE(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?dE(n.Xu):e.removedDocuments.size>0&&(dE(n.Xu),n.Xu=!1))})),e.next=8,tD(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,qR(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),jO.apply(this,arguments)}function VO(e,t,n){var r=pE(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ta.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=pE(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=aa(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&yO(n)}(r.eventManager,t),i.length&&r.Zu.Ko(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function zO(e,t,n){return UO.apply(this,arguments)}function UO(){return UO=o(f().mark((function e(t,n,r){var i,a,o,s,u,c;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=pE(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ia.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new tT(tC.comparator)).insert(o,xC.newNoDocument(o,OE.min())),u=pT().add(o),c=new yT(OE.min(),new Map,new iT(NE),s,u),e.next=9,FO(i,c);case 9:i.sa=i.sa.remove(o),i.ia.delete(n),eD(i),e.next=16;break;case 14:return e.next=16,EP(i.localStore,n,!1).then((function(){return YO(i,n,r)})).catch(qR);case 16:case"end":return e.stop()}}),e)}))),UO.apply(this,arguments)}function BO(e,t){return qO.apply(this,arguments)}function qO(){return qO=o(f().mark((function e(t,n){var r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pE(t),i=n.batch.batchId,e.prev=1,e.next=4,bP(r.localStore,n);case 4:return a=e.sent,$O(r,i,null),QO(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,tD(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,qR(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),qO.apply(this,arguments)}function WO(e,t,n){return KO.apply(this,arguments)}function KO(){return KO=o(f().mark((function e(t,n,r){var i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pE(t),e.prev=1,e.next=4,function(e,t){var n=pE(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.$s.lookupMutationBatch(e,t).next((function(t){return dE(null!==t),r=t.keys(),n.$s.removeMutationBatch(e,t)})).next((function(){return n.$s.performConsistencyCheck(e)})).next((function(){return n.ai.qs(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,$O(i,n,r),QO(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,tD(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,qR(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),KO.apply(this,arguments)}function HO(e,t){return GO.apply(this,arguments)}function GO(){return GO=o(f().mark((function e(t,n){var r,i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return IA((r=pE(t)).remoteStore)||uE("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=pE(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.$s.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.ua.get(i)||[]).push(n),r.ua.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=aO(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),GO.apply(this,arguments)}function QO(e,t){(e.ua.get(t)||[]).forEach((function(e){e.resolve()})),e.ua.delete(t)}function $O(e,t,n){var r=pE(e),i=r.oa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oa[r.currentUser.toKey()]=i}}function YO(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=aa(e.ea.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ta.delete(a),n&&e.Zu.la(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ea.delete(t),e.isPrimaryClient&&e.ra.Ri(t).forEach((function(t){e.ra.containsKey(t)||XO(e,t)}))}function XO(e,t){e.na.delete(t.path.canonicalString());var n=e.sa.get(t);null!==n&&(_A(e.remoteStore,n),e.sa=e.sa.remove(t),e.ia.delete(n),eD(e))}function JO(e,t,n){var r,i=aa(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof xO?(e.ra.addReference(a.key,t),ZO(e,a)):a instanceof SO?(uE("SyncEngine","Document no longer in limbo: "+a.key),e.ra.removeReference(a.key,t),e.ra.containsKey(a.key)||XO(e,a.key)):hE()}}catch(o){i.e(o)}finally{i.f()}}function ZO(e,t){var n=t.key,r=n.path.canonicalString();e.sa.get(n)||e.na.has(r)||(uE("SyncEngine","New document in limbo: "+n),e.na.add(r),eD(e))}function eD(e){for(;e.na.size>0&&e.sa.size<e.maxConcurrentLimboResolutions;){var t=e.na.values().next().value;e.na.delete(t);var n=new tC(jE.fromString(t)),r=e.aa.next();e.ia.set(r,new IO(n)),e.sa=e.sa.insert(n,r),wA(e.remoteStore,new GN(uI(tI(n.path)),r,2,CE.A))}}function tD(e,t,n){return nD.apply(this,arguments)}function nD(){return nD=o(f().mark((function e(t,n,r){var i,a,s,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=pE(t),a=[],s=[],u=[],e.t0=i.ta.isEmpty(),e.t0){e.next=9;break}return i.ta.forEach((function(e,t){u.push(i.ha(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=dP.Js(t.targetId,e);s.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Zu.Ko(a),e.next=9,function(){var e=o(f().mark((function e(t,n){var r,i,a,o,s,u,c,l;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pE(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return AN.forEach(n,(function(t){return AN.forEach(t.zs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return AN.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),FN(e.t0)){e.next=10;break}throw e.t0;case 10:uE("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=aa(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.si.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.si=r.si.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,s);case 9:case"end":return e.stop()}}),e)}))),nD.apply(this,arguments)}function rD(e,t){return iD.apply(this,arguments)}function iD(){return iD=o(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=pE(t)).currentUser.isEqual(n)){e.next=11;break}return uE("SyncEngine","User change. New user:",n.toKey()),e.next=5,yP(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.ua.forEach((function(e){e.forEach((function(e){e.reject(new mE(vE.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ua.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,tD(r,i.ci);case 11:case"end":return e.stop()}}),e)}))),iD.apply(this,arguments)}function aD(e,t){var n=pE(e),r=n.ia.get(t);if(r&&r.Xu)return pT().add(r.key);var i=pT(),a=n.ea.get(t);if(!a)return i;var o,s=aa(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.ta.get(u);i=i.unionWith(c.view.qu)}}catch(l){s.e(l)}finally{s.f()}return i}function oD(e,t){return sD.apply(this,arguments)}function sD(){return sD=o(f().mark((function e(t,n){var r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pE(t),e.next=3,IP(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&JO(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),sD.apply(this,arguments)}function uD(e,t){return cD.apply(this,arguments)}function cD(){return cD=o(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pE(t),e.abrupt("return",NP(r.localStore,n).then((function(e){return tD(r,e)})));case 2:case"end":return e.stop()}}),e)}))),cD.apply(this,arguments)}function lD(e,t,n,r){return fD.apply(this,arguments)}function fD(){return fD=o(f().mark((function e(t,n,r,i){var a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=pE(t),e.next=3,function(e,t){var n=pE(e),r=pE(n.$s);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.ln(e,t).next((function(t){return t?n.ai.qs(e,t):AN.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,jA(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?($O(a,n,i||null),QO(a,n),function(e,t){pE(pE(e).$s).dn(t)}(a.localStore,n)):hE();case 11:return e.next=13,tD(a,o);case 13:e.next=16;break;case 15:uE("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),fD.apply(this,arguments)}function hD(e,t){return dD.apply(this,arguments)}function dD(){return dD=o(f().mark((function e(t,n){var r,i,a,o,s,u,c,l;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_D(r=pE(t)),xD(r),!0!==n||!0===r.ca){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,pD(r,i.toArray());case 5:return a=e.sent,r.ca=!0,e.next=9,eO(r.remoteStore,!0);case 9:o=aa(a);try{for(o.s();!(s=o.n()).done;)u=s.value,wA(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ca){e.next=25;break}return c=[],l=Promise.resolve(),r.ea.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return YO(r,t),EP(r.localStore,t,!0)})),_A(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,pD(r,c);case 21:return function(e){var t=pE(e);t.ia.forEach((function(e,n){_A(t.remoteStore,n)})),t.ra.bi(),t.ia=new Map,t.sa=new tT(tC.comparator)}(r),r.ca=!1,e.next=25,eO(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),dD.apply(this,arguments)}function pD(e,t,n){return vD.apply(this,arguments)}function vD(){return vD=o(f().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,d,p,v,m,y,g;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=pE(t),a=[],o=[],s=aa(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(h=i.ea.get(c))||0===h.length){e.next=34;break}return e.next=11,SP(i.localStore,uI(h[0]));case 11:l=e.sent,d=aa(h),e.prev=13,d.s();case 15:if((p=d.n()).done){e.next=24;break}return v=p.value,m=i.ta.get(v),e.next=20,oD(i,m);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,TP(i.localStore,c);case 36:return g=e.sent,e.next=39,SP(i.localStore,g);case 39:return l=e.sent,e.next=42,PO(i,mD(g),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Ko(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),vD.apply(this,arguments)}function mD(e){return eI(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function yD(e){var t=pE(e);return pE(pE(t.localStore).persistence).Os()}function gD(e,t,n,r){return bD.apply(this,arguments)}function bD(){return bD=o(f().mark((function e(t,n,r,i){var a,o,s,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=pE(t)).ca){e.next=3;break}return e.abrupt("return",void uE("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ea.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,NP(a.localStore,pI(o[0]));case 10:return s=e.sent,u=yT.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,tD(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,EP(a.localStore,n,!0);case 17:return YO(a,n,i),e.abrupt("break",20);case 19:hE();case 20:case"end":return e.stop()}}),e)}))),bD.apply(this,arguments)}function kD(e,t,n){return wD.apply(this,arguments)}function wD(){return wD=o(f().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,d;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=_D(t)).ca){e.next=45;break}a=aa(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.ea.has(s)){e.next=10;break}return uE("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,TP(i.localStore,s);case 12:return u=e.sent,e.next=15,SP(i.localStore,u);case 15:return c=e.sent,e.next=18,PO(i,mD(u),c.targetId,!1);case 18:wA(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=aa(r),e.prev=30,d=f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.value,e.t0=i.ea.has(t),!e.t0){e.next=5;break}return e.next=5,EP(i.localStore,t,!1).then((function(){_A(i.remoteStore,t),YO(i,t)})).catch(qR);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((h=l.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),wD.apply(this,arguments)}function _D(e){var t=pE(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=FO.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=aD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=zO.bind(null,t),t.Zu.Ko=vO.bind(null,t.eventManager),t.Zu.la=mO.bind(null,t.eventManager),t}function xD(e){var t=pE(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=BO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=WO.bind(null,t),t}function SD(e,t,n){var r=pE(e);(function(){var e=o(f().mark((function e(t,n,r){var i,a,o,s,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=pE(e),r=AT(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(_O(i)),a=new wO(i,t.localStore,n.M),e.next=15,n.fa();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.fa();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,tD(t,u.Ou,void 0);case 31:return e.next=33,function(e,t){var n=pE(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Mu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(lE("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var ED=function(){function e(){oa(this,e),this.synchronizeTabs=!1}return ua(e,[{key:"initialize",value:function(){var e=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=cA(t.databaseInfo.databaseId),this.sharedClientState=this.da(t),this.persistence=this._a(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.wa(t),this.localStore=this.ma(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wa",value:function(e){return null}},{key:"ma",value:function(e){return mP(this.persistence,new pP,e.initialUser,this.M)}},{key:"_a",value:function(e){return new qP(KP.Wi,this.M)}},{key:"da",value:function(e){return new tA}},{key:"terminate",value:function(){var e=o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),CD=function(e){ea(n,e);var t=ia(n);function n(e,r,i){var a;return oa(this,n),(a=t.call(this)).ga=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return ua(n,[{key:"initialize",value:function(){var e=o(f().mark((function e(t){var r=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zi(Xi(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.ga.initialize(this,t);case 4:return e.next=6,xD(this.ga.syncEngine);case 6:return e.next=8,jA(this.ga.remoteStore);case 8:return e.next=10,this.persistence.Is((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ma",value:function(e){return mP(this.persistence,new pP,e.initialUser,this.M)}},{key:"wa",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new GR(t,e.asyncQueue)}},{key:"_a",value:function(e){var t=fP(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?RR.withCacheSize(this.cacheSizeBytes):RR.DEFAULT;return new uP(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,sA(),uA(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"da",value:function(e){return new tA}}]),n}(ED),ID=function(e){ea(n,e);var t=ia(n);function n(e,r){var i;return oa(this,n),(i=t.call(this,e,r,!1)).ga=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return ua(n,[{key:"initialize",value:function(){var e=o(f().mark((function e(t){var r,i=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zi(Xi(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ga.syncEngine,e.t0=this.sharedClientState instanceof eA,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:lD.bind(null,r),Mr:gD.bind(null,r),Or:kD.bind(null,r),Os:yD.bind(null,r),Nr:uD.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Is(function(){var e=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hD(i.ga.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"da",value:function(e){var t=sA();if(!eA.vt(t))throw new mE(vE.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=fP(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new eA(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(CD),TD=function(){function e(){oa(this,e)}return ua(e,[{key:"initialize",value:function(){var e=o(f().mark((function e(t,n){var r=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return VO(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=rD.bind(null,this.syncEngine),e.next=12,eO(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new lO}},{key:"createDatastore",value:function(e){var t,n=cA(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new oA(t));return function(e,t,n,r){return new pA(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return VO(o.syncEngine,e,0)},a=rA.vt()?new rA:new nA,new mA(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new TO(e,t,n,r,i,a);return o&&(s.ca=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=o(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=pE(t),uE("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,bA(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function ND(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return o(f().mark((function r(){var i;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var RD=function(){function e(t){oa(this,e),this.observer=t,this.muted=!1}return ua(e,[{key:"next",value:function(e){this.observer.next&&this.ya(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"pa",value:function(){this.muted=!0}},{key:"ya",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),PD=function(){function e(t,n){var r=this;oa(this,e),this.Ia=t,this.M=n,this.metadata=new yE,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return ua(e,[{key:"close",value:function(){return this.Ia.cancel()}},{key:"getMetadata",value:function(){var e=o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fa",value:function(){var e=o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Ea());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ea",value:function(){var e=o(f().mark((function e(){var t,n,r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Aa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ta.decode(t),r=Number(n),isNaN(r)&&this.Ra("length string (".concat(n,") is not valid number")),e.next=9,this.ba(r);case 9:return i=e.sent,e.abrupt("return",new bO(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pa",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Aa",value:function(){var e=o(f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Pa()<0)){e.next=7;break}return e.next=3,this.Va();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Pa())<0&&this.Ra("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(){var e=o(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Va();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Ra("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ta.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ra",value:function(e){throw this.Ia.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Va",value:function(){var e=o(f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ia.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),AD=function(){function e(t){oa(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return ua(e,[{key:"lookup",value:function(){var e=o(f().mark((function e(t){var n,r=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new mE(vE.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=o(f().mark((function e(t,n){var r,i,a,o,s,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pE(t),i=VT(r.M)+"/documents",a={documents:n.map((function(e){return MT(r.M,e)}))},e.next=5,r.co("BatchGetDocuments",i,a);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=qT(r.M,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());dE(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new $I(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=o(f().mark((function e(){var t,n=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=tC.fromPath(t);n.mutations.push(new YI(r,n.precondition(r)))})),e.next=7,function(){var e=o(f().mark((function e(t,n){var r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pE(t),i=VT(r.M)+"/documents",a={writes:n.map((function(e){return WT(r.M,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw hE();t=OE.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new mE(vE.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?DI.updateTime(t):DI.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(OE.min()))throw new mE(vE.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return DI.updateTime(t)}return DI.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),OD=function(){function e(t,n,r,i){oa(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.va=5,this.So=new lA(this.asyncQueue,"transaction_retry")}return ua(e,[{key:"run",value:function(){this.va-=1,this.Sa()}},{key:"Sa",value:function(){var e=this;this.So.Io(o(f().mark((function t(){var n,r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new AD(e.datastore),(r=e.Da(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ca(t)}))}))})).catch((function(t){e.Ca(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Da",value:function(e){try{var t=this.updateFunction(e);return!JE(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ca",value:function(e){var t=this;this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget((function(){return t.Sa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"xa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!JI(t)}return!1}}]),e}(),DD=function(){function e(t,n,r,i){var a=this;oa(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=iE.UNAUTHENTICATED,this.clientId=TE.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uE("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return uE("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return ua(e,[{key:"getConfiguration",value:function(){var e=o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new mE(vE.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new yE;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(o(f().mark((function n(){var r;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=aO(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function MD(e,t){return LD.apply(this,arguments)}function LD(){return LD=o(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),uE("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,yP(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),LD.apply(this,arguments)}function FD(e,t){return jD.apply(this,arguments)}function jD(){return jD=o(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,VD(t);case 3:return r=e.sent,uE("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return JA(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return JA(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),jD.apply(this,arguments)}function VD(e){return zD.apply(this,arguments)}function zD(){return zD=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return uE("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,MD(t,new ED);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),zD.apply(this,arguments)}function UD(e){return BD.apply(this,arguments)}function BD(){return BD=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return uE("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,FD(t,new TD);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),BD.apply(this,arguments)}function qD(e){return VD(e).then((function(e){return e.persistence}))}function WD(e){return VD(e).then((function(e){return e.localStore}))}function KD(e){return UD(e).then((function(e){return e.remoteStore}))}function HD(e){return UD(e).then((function(e){return e.syncEngine}))}function GD(e){return QD.apply(this,arguments)}function QD(){return QD=o(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,UD(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=NO.bind(null,n.syncEngine),r.onUnlisten=OO.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),QD.apply(this,arguments)}function $D(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new yE;return e.asyncQueue.enqueueAndForget(o(f().mark((function i(){return f().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new RD({next:function(a){t.enqueueAndForget((function(){return dO(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new mE(vE.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new mE(vE.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new gO(tI(n.path),a,{includeMetadataChanges:!0,Du:!0});return fO(e,o)},i.next=3,GD(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function YD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new yE;return e.asyncQueue.enqueueAndForget(o(f().mark((function i(){return f().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new RD({next:function(n){t.enqueueAndForget((function(){return dO(e,o)})),n.fromCache&&"server"===r.source?i.reject(new mE(vE.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new gO(n,a,{includeMetadataChanges:!0,Du:!0});return fO(e,o)},i.next=3,GD(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var XD=new Map;function JD(e,t,n){if(!n)throw new mE(vE.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function ZD(e,t,n,r){if(!0===t&&!0===r)throw new mE(vE.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function eM(e){if(!tC.isDocumentKey(e))throw new mE(vE.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function tM(e){if(tC.isDocumentKey(e))throw new mE(vE.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function nM(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":hE()}function rM(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new mE(vE.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=nM(e);throw new mE(vE.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function iM(e,t){if(t<=0)throw new mE(vE.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var aM=function(){function e(t){var n;if(oa(this,e),void 0===t.host){if(void 0!==t.ssl)throw new mE(vE.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new mE(vE.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,ZD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return ua(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),oM=function(){function e(t,n,r){oa(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aM({}),this._settingsFrozen=!1,t instanceof XE?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new mE(vE.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new XE(e.options.projectId)}(t))}return ua(e,[{key:"app",get:function(){if(!this._app)throw new mE(vE.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new mE(vE.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aM(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new bE;switch(e.type){case"gapi":var t=e.client;return dE(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new xE(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new mE(vE.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=XD.get(e);t&&(uE("ComponentProvider","Removing Datastore"),XD.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function sM(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=rM(e,oM))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&lE("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=iE.MOCK_USER;else{o=xa(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new mE(vE.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new iE(u)}e._authCredentials=new kE(new gE(o,s))}}var uM=function(){function e(t,n,r){oa(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return ua(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new lM(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),cM=function(){function e(t,n,r){oa(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return ua(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),lM=function(e){ea(n,e);var t=ia(n);function n(e,r,i){var a;return oa(this,n),(a=t.call(this,e,r,tI(i)))._path=i,a.type="collection",a}return ua(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new uM(this.firestore,null,new tC(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(cM);function fM(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ro(e),JD("collection","path",t),e instanceof oM){var a=jE.fromString.apply(jE,[t].concat(r));return tM(a),new lM(e,null,a)}if(!(e instanceof uM||e instanceof lM))throw new mE(vE.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(jE.fromString.apply(jE,[t].concat(r)));return tM(o),new lM(e.firestore,null,o)}function hM(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ro(e),1===arguments.length&&(t=TE.R()),JD("doc","path",t),e instanceof oM){var a=jE.fromString.apply(jE,[t].concat(r));return eM(a),new uM(e,null,new tC(a))}if(!(e instanceof uM||e instanceof lM))throw new mE(vE.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(jE.fromString.apply(jE,[t].concat(r)));return eM(o),new uM(e.firestore,e instanceof lM?e.converter:null,new tC(o))}function dM(e,t){return e=ro(e),t=ro(t),(e instanceof uM||e instanceof lM)&&(t instanceof uM||t instanceof lM)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function pM(e,t){return e=ro(e),t=ro(t),e instanceof cM&&t instanceof cM&&e.firestore===t.firestore&&lI(e._query,t._query)&&e.converter===t.converter}var vM=function(){function e(){var t=this;oa(this,e),this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new lA(this,"async_queue_retry"),this.Ua=function(){var e=uA();e&&uE("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=uA();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ua)}return ua(e,[{key:"isShuttingDown",get:function(){return this.Ma}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.qa(),this.Ga(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;var t=uA();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}},{key:"enqueue",value:function(e){var t=this;if(this.qa(),this.Ma)return new Promise((function(){}));var n=new yE;return this.Ga((function(){return t.Ma&&t.Ba?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ka.push(e),t.Ka()}))}},{key:"Ka",value:function(){var e=o(f().mark((function e(){var t=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ka.length){e.next=14;break}return e.prev=1,e.next=4,this.ka[0]();case 4:this.ka.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),FN(e.t0)){e.next=12;break}throw e.t0;case 12:uE("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ka.length>0&&this.So.Io((function(){return t.Ka()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Ga",value:function(e){var t=this,n=this.Na.then((function(){return t.$a=!0,e().catch((function(e){t.Fa=e,t.$a=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw cE("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.$a=!1,e}))}));return this.Na=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.qa(),this.La.indexOf(e)>-1&&(t=0);var i=iO.createAndSchedule(this,e,t,n,(function(e){return r.Qa(e)}));return this.Oa.push(i),i}},{key:"qa",value:function(){this.Fa&&hE()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ja",value:function(){var e=o(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Na,e.next=3,t;case 3:if(t!==this.Na){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(e){var t,n=aa(this.Oa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"za",value:function(e){var t=this;return this.ja().then((function(){t.Oa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=aa(t.Oa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ja()}))}},{key:"Ha",value:function(e){this.La.push(e)}},{key:"Qa",value:function(e){var t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}]),e}();function mM(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=aa(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var yM=function(){function e(){oa(this,e),this._progressObserver={},this._taskCompletionResolver=new yE,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return ua(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),gM=function(e){ea(n,e);var t=ia(n);function n(e,r,i){var a;return oa(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new vM,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return ua(n,[{key:"_terminate",value:function(){return this._firestoreClient||kM(this),this._firestoreClient.terminate()}}]),n}(oM);function bM(e){return e._firestoreClient||kM(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function kM(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new YE(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new DD(e._authCredentials,e._appCheckCredentials,e._queue,r)}function wM(e,t,n){var r=new yE;return e.asyncQueue.enqueue(o(f().mark((function i(){return f().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,MD(e,n);case 3:return i.next=5,FD(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===vE.FAILED_PRECONDITION||e.code===vE.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function _M(e){return function(e){return e.asyncQueue.enqueue(o(f().mark((function t(){var n,r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,qD(e);case 2:return n=t.sent,t.next=5,KD(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=pE(e);return t.lu.delete(0),yA(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(bM(e=rM(e,gM)))}function xM(e){return function(e){return e.asyncQueue.enqueue(o(f().mark((function t(){var n,r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,qD(e);case 2:return n=t.sent,t.next=5,KD(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=o(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=pE(t)).lu.add(0),e.next=4,bA(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(bM(e=rM(e,gM)))}function SM(e,t){var n=bM(e=rM(e,gM)),r=new yM;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new PD(e,t)}(function(e,t){if(e instanceof Uint8Array)return ND(e,t);if(e instanceof ArrayBuffer)return ND(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,cA(t));e.asyncQueue.enqueueAndForget(o(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=SD,t.next=3,HD(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function EM(e,t){return function(e,t){return e.asyncQueue.enqueue(o(f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=pE(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.ds.getNamedQuery(e,t)}))},n.next=3,WD(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(bM(e=rM(e,gM)),t).then((function(t){return t?new cM(e,null,t.query):null}))}function CM(e){if(e._initialized||e._terminated)throw new mE(vE.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var IM=function(){function e(){oa(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new mE(vE.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zE(n)}return ua(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var TM=function(){function e(t){oa(this,e),this._byteString=t}return ua(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(BE.fromBase64String(t))}catch(t){throw new mE(vE.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(BE.fromUint8Array(t))}}]),e}(),NM=ua((function e(t){oa(this,e),this._methodName=t})),RM=function(){function e(t,n){if(oa(this,e),!isFinite(t)||t<-90||t>90)throw new mE(vE.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new mE(vE.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return ua(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return NE(this._lat,e._lat)||NE(this._long,e._long)}}]),e}(),PM=/^__.*__$/,AM=function(){function e(t,n,r){oa(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ua(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new qI(e,this.data,this.fieldMask,t,this.fieldTransforms):new BI(e,this.data,t,this.fieldTransforms)}}]),e}(),OM=function(){function e(t,n,r){oa(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ua(e,[{key:"toMutation",value:function(e,t){return new qI(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function DM(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw hE()}}var MM=function(){function e(t,n,r,i,a,o){oa(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ja(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return ua(e,[{key:"path",get:function(){return this.settings.path}},{key:"Ya",get:function(){return this.settings.Ya}},{key:"Xa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Za",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:n,tc:!1});return r.ec(e),r}},{key:"nc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:n,tc:!1});return r.Ja(),r}},{key:"sc",value:function(e){return this.Xa({path:void 0,tc:!0})}},{key:"ic",value:function(e){return tL(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Ja",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ec(this.path.get(e))}},{key:"ec",value:function(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(DM(this.Ya)&&PM.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}]),e}(),LM=function(){function e(t,n,r){oa(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||cA(t)}return ua(e,[{key:"uc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new MM({Ya:e,methodName:t,oc:n,path:zE.emptyPath(),tc:!1,rc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function FM(e){var t=e._freezeSettings(),n=cA(e._databaseId);return new LM(e._databaseId,!!t.ignoreUndefinedProperties,n)}function jM(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.uc(a.merge||a.mergeFields?2:0,t,n,i);XM("Data must be an object, but it was:",o,r);var s,u,c=$M(r,o);if(a.merge)s=new UE(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=aa(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=JM(t,d,n);if(!o.contains(p))throw new mE(vE.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));nL(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new UE(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new AM(new wC(c),s,u)}var VM=function(e){ea(n,e);var t=ia(n);function n(){return oa(this,n),t.apply(this,arguments)}return ua(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Ya)throw 1===e.Ya?e.ic("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ic("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(NM);function zM(e,t,n){return new MM({Ya:3,oc:t.settings.oc,methodName:e._methodName,tc:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var UM=function(e){ea(n,e);var t=ia(n);function n(){return oa(this,n),t.apply(this,arguments)}return ua(n,[{key:"_toFieldTransform",value:function(e){return new AI(e.path,new SI)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(NM),BM=function(e){ea(n,e);var t=ia(n);function n(e,r){var i;return oa(this,n),(i=t.call(this,e)).ac=r,i}return ua(n,[{key:"_toFieldTransform",value:function(e){var t=zM(this,e,!0),n=this.ac.map((function(e){return QM(e,t)})),r=new EI(n);return new AI(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(NM),qM=function(e){ea(n,e);var t=ia(n);function n(e,r){var i;return oa(this,n),(i=t.call(this,e)).ac=r,i}return ua(n,[{key:"_toFieldTransform",value:function(e){var t=zM(this,e,!0),n=this.ac.map((function(e){return QM(e,t)})),r=new II(n);return new AI(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(NM),WM=function(e){ea(n,e);var t=ia(n);function n(e,r){var i;return oa(this,n),(i=t.call(this,e)).cc=r,i}return ua(n,[{key:"_toFieldTransform",value:function(e){var t=new NI(e.M,bI(e.M,this.cc));return new AI(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(NM);function KM(e,t,n,r){var i=e.uc(1,t,n);XM("Data must be an object, but it was:",i,r);var a=[],o=wC.empty();ME(r,(function(e,r){var s=eL(t,e,n);r=ro(r);var u=i.nc(s);if(r instanceof VM)a.push(s);else{var c=QM(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new UE(a);return new OM(o,s,i.fieldTransforms)}function HM(e,t,n,r,i,a){var o=e.uc(1,t,n),s=[JM(t,r,n)],u=[i];if(a.length%2!=0)throw new mE(vE.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(JM(t,a[c])),u.push(a[c+1]);for(var l=[],f=wC.empty(),h=s.length-1;h>=0;--h)if(!nL(l,s[h])){var d=s[h],p=u[h];p=ro(p);var v=o.nc(d);if(p instanceof VM)l.push(d);else{var m=QM(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new UE(l);return new OM(f,y,o.fieldTransforms)}function GM(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return QM(n,e.uc(r?4:3,t))}function QM(e,t){if(YM(e=ro(e)))return XM("Unsupported field value:",t,e),$M(e,t);if(e instanceof NM)return function(e,t){if(!DM(t.Ya))throw t.ic("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ic("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.tc&&4!==t.Ya)throw t.ic("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=aa(e);try{for(a.s();!(n=a.n()).done;){var o=QM(n.value,t.sc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=ro(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return bI(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=AE.fromDate(e);return{timestampValue:NT(t.M,n)}}if(e instanceof AE){var r=new AE(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:NT(t.M,r)}}if(e instanceof RM)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof TM)return{bytesValue:RT(t.M,e._byteString)};if(e instanceof uM){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ic("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:OT(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ic("Unsupported field value: ".concat(nM(e)))}(e,t)}function $M(e,t){var n={};return LE(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ME(e,(function(e,r){var i=QM(r,t.Za(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function YM(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof AE||e instanceof RM||e instanceof TM||e instanceof uM||e instanceof NM)}function XM(e,t,n){if(!YM(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=nM(n);throw"an object"===r?t.ic(e+" a custom object"):t.ic(e+" "+r)}}function JM(e,t,n){if((t=ro(t))instanceof IM)return t._internalPath;if("string"==typeof t)return eL(e,t);throw tL("Field path arguments must be of type string or ",e,!1,void 0,n)}var ZM=new RegExp("[~\\*/\\[\\]]");function eL(e,t,n){if(t.search(ZM)>=0)throw tL("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return ca(IM,g(t.split(".")))._internalPath}catch(r){throw tL("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function tL(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new mE(vE.INVALID_ARGUMENT,s+e+u)}function nL(e,t){return e.some((function(e){return e.isEqual(t)}))}var rL=function(){function e(t,n,r,i,a){oa(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return ua(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new uM(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new iL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(aL("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),iL=function(e){ea(n,e);var t=ia(n);function n(){return oa(this,n),t.apply(this,arguments)}return ua(n,[{key:"data",value:function(){return Zi(Xi(n.prototype),"data",this).call(this)}}]),n}(rL);function aL(e,t){return"string"==typeof t?eL(e,t):t instanceof IM?t._internalPath:t._delegate._internalPath}var oL=function(){function e(t,n){oa(this,e),this.hasPendingWrites=t,this.fromCache=n}return ua(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),sL=function(e){ea(n,e);var t=ia(n);function n(e,r,i,a,o,s){var u;return oa(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return ua(n,[{key:"exists",value:function(){return Zi(Xi(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new uL(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(aL("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(rL),uL=function(e){ea(n,e);var t=ia(n);function n(){return oa(this,n),t.apply(this,arguments)}return ua(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Zi(Xi(n.prototype),"data",this).call(this,e)}}]),n}(sL),cL=function(){function e(t,n,r,i){oa(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new oL(i.hasPendingWrites,i.fromCache),this.query=r}return ua(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new uL(n._firestore,n._userDataWriter,r.key,r,new oL(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new mE(vE.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new uL(e._firestore,e._userDataWriter,t.doc.key,t.doc,new oL(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new uL(e._firestore,e._userDataWriter,t.doc.key,t.doc,new oL(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:lL(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function lL(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return hE()}}function fL(e,t){return e instanceof sL&&t instanceof sL?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof cL&&t instanceof cL&&e._firestore===t._firestore&&pM(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function hL(e){if(rI(e)&&0===e.explicitOrderBy.length)throw new mE(vE.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var dL=ua((function e(){oa(this,e)}));function pL(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var vL=function(e){ea(n,e);var t=ia(n);function n(e,r,i){var a;return oa(this,n),(a=t.call(this)).hc=e,a.lc=r,a.fc=i,a.type="where",a}return ua(n,[{key:"_apply",value:function(e){var t=FM(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new mE(vE.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){CL(o,a);var u,c=[],l=aa(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(EL(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=EL(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||CL(o,a),s=GM(n,"where",o,"in"===a||"not-in"===a);var h=VC.create(i,a,s);return function(e,t){if(t.S()){var n=aI(e);if(null!==n&&!n.isEqual(t.field))throw new mE(vE.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=iI(e);null!==r&&IL(e,t.field,r)}var i=function(e,t){var n,r=aa(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new mE(vE.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new mE(vE.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new cM(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new ZC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(dL);var mL=function(e){ea(n,e);var t=ia(n);function n(e,r){var i;return oa(this,n),(i=t.call(this)).hc=e,i.dc=r,i.type="orderBy",i}return ua(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new mE(vE.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new mE(vE.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new $C(t,n);return function(e,t){if(null===iI(e)){var n=aI(e);null!==n&&IL(e,n,t.field)}}(e,r),r}(e._query,this.hc,this.dc);return new cM(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new ZC(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(dL);var yL=function(e){ea(n,e);var t=ia(n);function n(e,r,i){var a;return oa(this,n),(a=t.call(this)).type=e,a._c=r,a.wc=i,a}return ua(n,[{key:"_apply",value:function(e){return new cM(e.firestore,e.converter,cI(e._query,this._c,this.wc))}}]),n}(dL);var gL=function(e){ea(n,e);var t=ia(n);function n(e,r,i){var a;return oa(this,n),(a=t.call(this)).type=e,a.mc=r,a.gc=i,a}return ua(n,[{key:"_apply",value:function(e){var t=SL(e,this.type,this.mc,this.gc);return new cM(e.firestore,e.converter,function(e,t){return new ZC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(dL);function bL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new gL("startAt",t,!0)}function kL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new gL("startAfter",t,!1)}var wL=function(e){ea(n,e);var t=ia(n);function n(e,r,i){var a;return oa(this,n),(a=t.call(this)).type=e,a.mc=r,a.gc=i,a}return ua(n,[{key:"_apply",value:function(e){var t=SL(e,this.type,this.mc,this.gc);return new cM(e.firestore,e.converter,function(e,t){return new ZC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(dL);function _L(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new wL("endBefore",t,!1)}function xL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new wL("endAt",t,!0)}function SL(e,t,n,r){if(n[0]=ro(n[0]),n[0]instanceof rL)return function(e,t,n,r,i){if(!r)throw new mE(vE.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=aa(sI(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(fC(t,r.key));else{var c=r.data.field(u.field);if(GE(c))throw new mE(vE.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new mE(vE.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new QC(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=FM(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new mE(vE.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new mE(vE.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!oI(e)&&-1!==c.indexOf("/"))throw new mE(vE.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(jE.fromString(c));if(!tC.isDocumentKey(l))throw new mE(vE.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new tC(l);s.push(fC(t,f))}else{var h=GM(n,r,c);s.push(h)}}return new QC(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function EL(e,t,n){if("string"==typeof(n=ro(n))){if(""===n)throw new mE(vE.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oI(t)&&-1!==n.indexOf("/"))throw new mE(vE.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(jE.fromString(n));if(!tC.isDocumentKey(r))throw new mE(vE.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return fC(e,new tC(r))}if(n instanceof uM)return fC(e,n._key);throw new mE(vE.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(nM(n),"."))}function CL(e,t){if(!Array.isArray(e)||0===e.length)throw new mE(vE.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new mE(vE.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function IL(e,t,n){if(!n.isEqual(t))throw new mE(vE.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var TL=function(){function e(){oa(this,e)}return ua(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(iC(e)){case 0:return null;case 1:return e.booleanValue;case 2:return KE(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(HE(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw hE()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return ME(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new RM(KE(e.latitude),KE(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=QE(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp($E(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=WE(e);return new AE(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=jE.fromString(e);dE(rN(n));var r=new XE(n.get(1),n.get(3)),i=new tC(n.popFirst(5));return r.isEqual(t)||cE("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function NL(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var RL=function(e){ea(n,e);var t=ia(n);function n(e){var r;return oa(this,n),(r=t.call(this)).firestore=e,r}return ua(n,[{key:"convertBytes",value:function(e){return new TM(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new uM(this.firestore,null,t)}}]),n}(TL),PL=function(){function e(t,n){oa(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=FM(t)}return ua(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=AL(e,this._firestore),i=NL(r.converter,t,n),a=jM(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,DI.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=AL(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=ro(t))||t instanceof IM?HM(this._dataReader,"WriteBatch.update",i._key,t,n,o):KM(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,DI.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=AL(e,this._firestore);return this._mutations=this._mutations.concat(new $I(t._key,DI.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new mE(vE.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function AL(e,t){if((e=ro(e)).firestore!==t)throw new mE(vE.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var OL=function(e){ea(n,e);var t=ia(n);function n(e){var r;return oa(this,n),(r=t.call(this)).firestore=e,r}return ua(n,[{key:"convertBytes",value:function(e){return new TM(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new uM(this.firestore,null,t)}}]),n}(TL);function DL(e){e=rM(e,uM);var t=rM(e.firestore,gM),n=bM(t),r=new OL(t);return function(e,t){var n=new yE;return e.asyncQueue.enqueueAndForget(o(f().mark((function r(){return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=o(f().mark((function e(t,n,r){var i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=pE(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.ai.Bs(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new mE(vE.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=aO(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,WD(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new sL(t,r,e._key,n,new oL(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function ML(e){e=rM(e,cM);var t=rM(e.firestore,gM),n=bM(t),r=new OL(t);return function(e,t){var n=new yE;return e.asyncQueue.enqueueAndForget(o(f().mark((function r(){return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=o(f().mark((function e(t,n,r){var i,a,o,s,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,IP(t,n,!0);case 3:i=e.sent,a=new EO(n,i.hi),o=a.Gu(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=aO(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,WD(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new cL(t,r,e,n)}))}function LL(e,t,n){e=rM(e,uM);var r=rM(e.firestore,gM),i=NL(e.converter,t,n);return zL(r,[jM(FM(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,DI.none())])}function FL(e,t,n){e=rM(e,uM);for(var r=rM(e.firestore,gM),i=FM(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return zL(r,[("string"==typeof(t=ro(t))||t instanceof IM?HM(i,"updateDoc",e._key,t,n,o):KM(i,"updateDoc",e._key,t)).toMutation(e._key,DI.exists(!0))])}function jL(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,s;e=ro(e);var u={includeMetadataChanges:!1},c=0;"object"!=typeof n[c]||mM(n[c])||(u=n[c],c++);var l,h,d,p={includeMetadataChanges:u.includeMetadataChanges};if(mM(n[c])){var v=n[c];n[c]=null===(i=v.next)||void 0===i?void 0:i.bind(v),n[c+1]=null===(a=v.error)||void 0===a?void 0:a.bind(v),n[c+2]=null===(s=v.complete)||void 0===s?void 0:s.bind(v)}if(e instanceof uM)h=rM(e.firestore,gM),d=tI(e._key.path),l={next:function(t){n[c]&&n[c](UL(h,e,t))},error:n[c+1],complete:n[c+2]};else{var m=rM(e,cM);h=rM(m.firestore,gM),d=m._query;var y=new OL(h);l={next:function(e){n[c]&&n[c](new cL(h,y,m,e))},error:n[c+1],complete:n[c+2]},hL(e._query)}return function(e,t,n,r){var i=new RD(r),a=new gO(t,i,n);return e.asyncQueue.enqueueAndForget(o(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=fO,t.next=3,GD(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.pa(),e.asyncQueue.enqueueAndForget(o(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=dO,t.next=3,GD(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(bM(h),d,p,l)}function VL(e,t){return function(e,t){var n=new RD(t);return e.asyncQueue.enqueueAndForget(o(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){pE(e).Tu.add(t),t.next()},t.next=3,GD(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.pa(),e.asyncQueue.enqueueAndForget(o(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){pE(e).Tu.delete(t)},t.next=3,GD(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(bM(e=rM(e,gM)),mM(t)?t:{next:t})}function zL(e,t){return function(e,t){var n=new yE;return e.asyncQueue.enqueueAndForget(o(f().mark((function r(){return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=MO,r.next=3,HD(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(bM(e),t)}function UL(e,t,n){var r=n.docs.get(t._key),i=new OL(e);return new sL(e,i,t._key,r,new oL(n.hasPendingWrites,n.fromCache),t.converter)}var BL=function(e){ea(n,e);var t=ia(n);function n(e,r){var i;return oa(this,n),(i=t.call(this,e,r))._firestore=e,i}return ua(n,[{key:"get",value:function(e){var t=this,r=AL(e,this._firestore),i=new OL(this._firestore);return Zi(Xi(n.prototype),"get",this).call(this,e).then((function(e){return new sL(t._firestore,i,r._key,e._document,new oL(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){oa(this,e),this._firestore=t,this._transaction=n,this._dataReader=FM(t)}return ua(e,[{key:"get",value:function(e){var t=this,n=AL(e,this._firestore),r=new RL(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return hE();var i=e[0];if(i.isFoundDocument())return new rL(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new rL(t._firestore,r,n._key,null,n.converter);throw hE()}))}},{key:"set",value:function(e,t,n){var r=AL(e,this._firestore),i=NL(r.converter,t,n),a=jM(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=AL(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=ro(t))||t instanceof IM?HM(this._dataReader,"Transaction.update",i._key,t,n,o):KM(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=AL(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function qL(e,t){return function(e,t){var n=new yE;return e.asyncQueue.enqueueAndForget(o(f().mark((function r(){var i;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return UD(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new OD(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(bM(e=rM(e,gM)),(function(n){return t(new BL(e,n))}))}function WL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new BM("arrayUnion",t)}function KL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new qM("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){aE=e}(Bo),Mo(new co("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new gM(i,new wE(e.getProvider("auth-internal")),new EE(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Qo(rE,"3.4.7",e),Qo(rE,"3.4.7","esm2017")}();function HL(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new mE("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function GL(){if("undefined"===typeof Uint8Array)throw new mE("unimplemented","Uint8Arrays are not available in this environment.")}function QL(){if("undefined"==typeof atob)throw new mE("unimplemented","Blobs are unavailable in Firestore in this environment.")}var $L=function(){function e(t){oa(this,e),this._delegate=t}return ua(e,[{key:"toBase64",value:function(){return QL(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return GL(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return QL(),new e(TM.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return GL(),new e(TM.fromUint8Array(t))}}]),e}();function YL(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=aa(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var XL=function(){function e(){oa(this,e)}return ua(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){CM(e=rM(e,gM));var n=bM(e),r=e._freezeSettings(),i=new TD;return wM(n,i,new CD(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){CM(e=rM(e,gM));var t=bM(e),n=e._freezeSettings(),r=new TD;return wM(t,r,new ID(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new mE(vE.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new yE;return e._queue.enqueueAndForgetEvenWhileRestricted(o(f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=o(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(DN.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,DN.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(fP(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),JL=function(){function e(t,n,r){var i=this;oa(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof XE||(this._appCompat=t)}return ua(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||lE("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};sM(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return _M(this._delegate)}},{key:"disableNetwork",value:function(){return xM(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&ZD("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new yE;return e.asyncQueue.enqueueAndForget(o(f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=HO,n.next=3,HD(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(bM(e=rM(e,gM)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return VL(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new mE("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new hF(this,fM(this._delegate,e))}catch(eK){throw iF(eK,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new rF(this,hM(this._delegate,e))}catch(eK){throw iF(eK,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new cF(this,function(e,t){if(e=rM(e,oM),JD("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new mE(vE.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new cM(e,null,function(e){return new ZC(jE.emptyPath(),e)}(t))}(this._delegate,e))}catch(eK){throw iF(eK,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return qL(this._delegate,(function(n){return e(new eF(t,n))}))}},{key:"batch",value:function(){var e=this;return bM(this._delegate),new tF(new PL(this._delegate,(function(t){return zL(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return SM(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return EM(this._delegate,e).then((function(e){return e?new cF(t,e):null}))}}]),e}(),ZL=function(e){ea(n,e);var t=ia(n);function n(e){var r;return oa(this,n),(r=t.call(this)).firestore=e,r}return ua(n,[{key:"convertBytes",value:function(e){return new $L(new TM(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return rF.forKey(t,this.firestore,null)}}]),n}(TL);var eF=function(){function e(t,n){oa(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new ZL(t)}return ua(e,[{key:"get",value:function(e){var t=this,n=dF(e);return this._delegate.get(n).then((function(e){return new sF(t._firestore,new sL(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=dF(e);return n?(HL("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=dF(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=dF(e);return this._delegate.delete(t),this}}]),e}(),tF=function(){function e(t){oa(this,e),this._delegate=t}return ua(e,[{key:"set",value:function(e,t,n){var r=dF(e);return n?(HL("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=dF(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=dF(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),nF=function(){function e(t,n,r){oa(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return ua(e,[{key:"fromFirestore",value:function(e,t){var n=new uL(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new uF(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new ZL(t),n),i.set(n,a)),a}}]),e}();nF.INSTANCES=new WeakMap;var rF=function(){function e(t,n){oa(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new ZL(t)}return ua(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new hF(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new hF(this.firestore,fM(this._delegate,e))}catch(eK){throw iF(eK,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=ro(e))instanceof uM&&dM(this._delegate,e)}},{key:"set",value:function(e,t){t=HL("DocumentReference.set",t);try{return t?LL(this._delegate,e,t):LL(this._delegate,e)}catch(eK){throw iF(eK,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?FL(this._delegate,e):FL.apply(void 0,[this._delegate,e,t].concat(r))}catch(eK){throw iF(eK,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return zL(rM(e.firestore,gM),[new $I(e._key,DI.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=aF(n),a=oF(n,(function(t){return new sF(e.firestore,new sL(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return jL(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?DL(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=rM(e,uM);var t=rM(e.firestore,gM);return $D(bM(t),e._key,{source:"server"}).then((function(n){return UL(t,e,n)}))}(this._delegate):function(e){e=rM(e,uM);var t=rM(e.firestore,gM);return $D(bM(t),e._key).then((function(n){return UL(t,e,n)}))}(this._delegate),t.then((function(e){return new sF(n.firestore,new sL(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(nF.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new mE("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new uM(n._delegate,r,new tC(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new uM(n._delegate,r,t))}}]),e}();function iF(e,t,n){return e.message=e.message.replace(t,n),e}function aF(e){var t,n=aa(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!YL(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function oF(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=YL(e[0])?e[0]:YL(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var sF=function(){function e(t,n){oa(this,e),this._firestore=t,this._delegate=n}return ua(e,[{key:"ref",get:function(){return new rF(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return fL(this._delegate,e._delegate)}}]),e}(),uF=function(e){ea(n,e);var t=ia(n);function n(){return oa(this,n),t.apply(this,arguments)}return ua(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||hE()}(void 0!==t),t}}]),n}(sF),cF=function(){function e(t,n){oa(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new ZL(t)}return ua(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,pL(this._delegate,function(e,t,n){var r=t,i=aL("where",e);return new vL(i,r,n)}(t,n,r)))}catch(eK){throw iF(eK,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,pL(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=aL("orderBy",e);return new mL(n,t)}(t,n)))}catch(eK){throw iF(eK,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,pL(this._delegate,function(e){return iM("limit",e),new yL("limit",e,"F")}(t)))}catch(eK){throw iF(eK,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,pL(this._delegate,function(e){return iM("limitToLast",e),new yL("limitToLast",e,"L")}(t)))}catch(eK){throw iF(eK,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,pL(this._delegate,bL.apply(void 0,arguments)))}catch(eK){throw iF(eK,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,pL(this._delegate,kL.apply(void 0,arguments)))}catch(eK){throw iF(eK,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,pL(this._delegate,_L.apply(void 0,arguments)))}catch(eK){throw iF(eK,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,pL(this._delegate,xL.apply(void 0,arguments)))}catch(eK){throw iF(eK,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return pM(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?ML(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=rM(e,cM);var t=rM(e.firestore,gM),n=bM(t),r=new OL(t);return YD(n,e._query,{source:"server"}).then((function(n){return new cL(t,r,e,n)}))}(this._delegate):function(e){e=rM(e,cM);var t=rM(e.firestore,gM),n=bM(t),r=new OL(t);return hL(e._query),YD(n,e._query).then((function(n){return new cL(t,r,e,n)}))}(this._delegate),t.then((function(e){return new fF(n.firestore,new cL(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=aF(n),a=oF(n,(function(t){return new fF(e.firestore,new cL(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return jL(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(nF.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),lF=function(){function e(t,n){oa(this,e),this._firestore=t,this._delegate=n}return ua(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new uF(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),fF=function(){function e(t,n){oa(this,e),this._firestore=t,this._delegate=n}return ua(e,[{key:"query",get:function(){return new cF(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new uF(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new lF(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new uF(n._firestore,r))}))}},{key:"isEqual",value:function(e){return fL(this._delegate,e._delegate)}}]),e}(),hF=function(e){ea(n,e);var t=ia(n);function n(e,r){var i;return oa(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return ua(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new rF(this.firestore,e):null}},{key:"doc",value:function(e){try{return new rF(this.firestore,void 0===e?hM(this._delegate):hM(this._delegate,e))}catch(eK){throw iF(eK,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=rM(e.firestore,gM),r=hM(e),i=NL(e.converter,t);return zL(n,[jM(FM(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,DI.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new rF(t.firestore,e)}))}},{key:"isEqual",value:function(e){return dM(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(nF.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(cF);function dF(e){return rM(e,uM)}var pF,vF=function(){function e(){oa(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=ca(IM,n)}return ua(e,[{key:"isEqual",value:function(e){return(e=ro(e))instanceof IM&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(zE.keyField().canonicalString())}}]),e}(),mF=function(){function e(t){oa(this,e),this._delegate=t}return ua(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new UM("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new VM("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=WL.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=KL.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new WM("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),yF={Firestore:JL,GeoPoint:RM,Timestamp:AE,Blob:$L,Transaction:eF,WriteBatch:tF,DocumentReference:rF,DocumentSnapshot:sF,Query:cF,QueryDocumentSnapshot:uF,QuerySnapshot:fF,CollectionReference:hF,FieldPath:vF,FieldValue:mF,setLogLevel:function(e){!function(e){oE.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new co("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},yF)))})(pF=qk,(function(e,t){return new JL(e,t,new XL)})),pF.registerVersion("@firebase/firestore-compat","0.1.16");var gF="@firebase/database",bF="0.12.7",kF="";function wF(e){kF=e}var _F=function(){function e(t){oa(this,e),this.domStorage_=t,this.prefix_="firebase:"}return ua(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Fa(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:La(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),xF=function(){function e(){oa(this,e),this.cache_={},this.isInMemoryStorage=!0}return ua(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Va(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),SF=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new _F(t)}}catch(eK){}return new xF},EF=SF("localStorage"),CF=SF("sessionStorage"),IF=new So("@firebase/database"),TF=function(){var e=1;return function(){return e++}}(),NF=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,pa(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Qa;n.update(t);var r=n.digest();return ya.encodeByteArray(r)},RF=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Fa(r):r,t+=" "}return t},PF=null,AF=!0,OF=function(e,t){pa(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(IF.logLevel=vo.VERBOSE,PF=IF.log.bind(IF),t&&CF.set("logging_enabled",!0)):"function"===typeof e?PF=e:(PF=null,CF.remove("logging_enabled"))},DF=function(){if(!0===AF&&(AF=!1,null===PF&&!0===CF.get("logging_enabled")&&OF(!0)),PF){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=RF.apply(null,t);PF(r)}},MF=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];DF.apply(void 0,[e].concat(n))}},LF=function(){var e="FIREBASE INTERNAL ERROR: "+RF.apply(void 0,arguments);IF.error(e)},FF=function(){var e="FIREBASE FATAL ERROR: ".concat(RF.apply(void 0,arguments));throw IF.error(e),new Error(e)},jF=function(){var e="FIREBASE WARNING: "+RF.apply(void 0,arguments);IF.warn(e)},VF=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},zF="[MIN_NAME]",UF="[MAX_NAME]",BF=function(e,t){if(e===t)return 0;if(e===zF||t===UF)return-1;if(t===zF||e===UF)return 1;var n=JF(e),r=JF(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},qF=function(e,t){return e===t?0:e<t?-1:1},WF=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Fa(t))},KF=function e(t){if("object"!==typeof t||null===t)return Fa(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Fa(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},HF=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function GF(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var QF=function(e){pa(!VF(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var $F=new RegExp("^-?(0*)\\d{1,10}$"),YF=-2147483648,XF=2147483647,JF=function(e){if($F.test(e)){var t=Number(e);if(t>=YF&&t<=XF)return t}return null},ZF=function(e){try{e()}catch(eK){setTimeout((function(){var t=eK.stack||"";throw jF("Exception was thrown by user callback.",t),eK}),Math.floor(0))}},ej=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},tj=function(){function e(t,n){var r=this;oa(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return ua(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){jF('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),nj=function(){function e(t,n,r){var i=this;oa(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return ua(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(DF("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',jF(e)}}]),e}(),rj=function(){function e(t){oa(this,e),this.accessToken=t}return ua(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();rj.OWNER="owner";var ij="5",aj=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,oj="websocket",sj="long_polling",uj=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];oa(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=EF.get("host:"+t)||this._host}return ua(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&EF.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function cj(e,t,n){var r;if(pa("string"===typeof t,"typeof type must == string"),pa("object"===typeof n,"typeof params must == object"),t===oj)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==sj)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return GF(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var lj=function(){function e(){oa(this,e),this.counters_={}}return ua(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Va(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return wa(void 0,this.counters_)}}]),e}(),fj={},hj={};function dj(e){var t=e.toString();return fj[t]||(fj[t]=new lj),fj[t]}var pj=function(){function e(t){oa(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return ua(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&ZF((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),vj="start",mj="close",yj=function(){function e(t,n,r,i,a,o,s){var u=this;oa(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=MF(t),this.stats_=dj(n),this.urlFn=function(e){return u.appCheckToken&&(e.ac=u.appCheckToken),cj(n,sj,e)}}return ua(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new pj(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Na()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new gj((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===vj)n.id=a,n.password=o;else{if(i!==mj)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=ij,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&aj.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Fa(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=ga(t),r=HF(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Na()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Fa(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Na()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),gj=function(){function e(t,n,r,i){if(oa(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Na())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=TF(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(eK){DF("frame writing exception"),eK.stack&&DF(eK.stack),DF(eK)}}}return ua(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Na()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){DF("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(eK){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||DF("No IE domain setting required")}catch(eK){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),bj=null;"undefined"!==typeof MozWebSocket?bj=MozWebSocket:"undefined"!==typeof WebSocket&&(bj=WebSocket);var kj=function(){function e(t,n,r,i,a,o,s){oa(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=MF(this.connId),this.stats_=dj(n),this.connURL=e.connectionURL_(n,o,s,i),this.nodeAdmin=n.nodeAdmin}return ua(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,EF.set("previous_websocket_failure",!0);try{if(Na()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/".concat(ij,"/").concat(kF,"/").concat(process.platform,"/").concat(r),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(i.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/memento",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(i.proxy={origin:o}),this.mySock=new bj(this.connURL,[],i)}else{var s={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new bj(this.connURL,[],s)}}catch(eK){this.log_("Error instantiating WebSocket.");var u=eK.message||eK.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){EF.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=La(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(pa(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Fa(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=HF(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(eK){this.log_("Exception thrown from WebSocket.send():",eK.message||eK.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r){var i={};return i.v=ij,!Na()&&"undefined"!==typeof location&&location.hostname&&aj.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),cj(e,oj,i)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==bj&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return EF.isInMemoryStorage||!0===EF.get("previous_websocket_failure")}}]),e}();kj.responsesRequiredToBeHealthy=2,kj.healthyTimeout=3e4;var wj=function(){function e(t){oa(this,e),this.initTransports_(t)}return ua(e,[{key:"initTransports_",value:function(t){var n=kj&&kj.isAvailable(),r=n&&!kj.previouslyFailed();if(t.webSocketOnly&&(n||jF("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[kj];else{var i,a=this.transports_=[],o=aa(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[yj,kj]}}]),e}(),_j=function(){function e(t,n,r,i,a,o,s,u,c,l){oa(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=MF("c:"+this.id+":"),this.transportManager_=new wj(n),this.log_("Connection created"),this.start_()}return ua(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=ej((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=WF("t",e),n=WF("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=WF("t",e),n=WF("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=WF("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?LF("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):LF("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),ij!==n&&jF("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ej((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ej((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(EF.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),xj=function(){function e(){oa(this,e)}return ua(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),Sj=function(){function e(t){oa(this,e),this.allowedEvents_=t,this.listeners_={},pa(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return ua(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=g(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){pa(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),Ej=function(e){ea(n,e);var t=ia(n);function n(){var e;return oa(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Ea()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return ua(n,[{key:"getInitialEvent",value:function(e){return pa("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(Sj),Cj=function(){function e(t,n){if(oa(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return ua(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function Ij(){return new Cj("")}function Tj(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Nj(e){return e.pieces_.length-e.pieceNum_}function Rj(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Cj(e.pieces_,t)}function Pj(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Aj(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Oj(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Cj(t,0)}function Dj(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Cj)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new Cj(n,0)}function Mj(e){return e.pieceNum_>=e.pieces_.length}function Lj(e,t){var n=Tj(e),r=Tj(t);if(null===n)return t;if(n===r)return Lj(Rj(e),Rj(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Fj(e,t){for(var n=Aj(e,0),r=Aj(t,0),i=0;i<n.length&&i<r.length;i++){var a=BF(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function jj(e,t){if(Nj(e)!==Nj(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Vj(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Nj(e)>Nj(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var zj=ua((function e(t,n){oa(this,e),this.errorPrefix_=n,this.parts_=Aj(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=no(this.parts_[r]);Uj(this)}));function Uj(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Bj(e))}function Bj(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var qj=function(e){ea(n,e);var t=ia(n);function n(){var e,r,i;return oa(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return ua(n,[{key:"getInitialEvent",value:function(e){return pa("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(Sj),Wj=1e3,Kj=function(e){ea(n,e);var t=ia(n);function n(e,r,i,a,o,s,u,c){var l;if(oa(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=o,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=MF("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=Wj,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Na())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return qj.getInstance().on("visible",l.onVisible_,Zr(l)),-1===e.host.indexOf("fblocal")&&Ej.getInstance().on("online",l.onOnline_,Zr(l)),l}return ua(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Fa(i)),pa(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){var t=this;this.initConnection_();var n=new _a,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),pa(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),pa(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=ja(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=ja(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),pa(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Fa(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):LF("Unrecognized action received from server: "+Fa(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;pa(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Wj,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Wj,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Wj),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=o(f().mark((function e(){var t,r,i,a,o,s,u,l,h,d,p,v,m,y,g=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,u=null,l=function(){u?u.close():(s=!0,i())},h=function(e){pa(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:l,sendRequest:h},d=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);case 19:p=e.sent,v=c(p,2),m=v[0],y=v[1],s?DF("getToken() completed but was canceled"):(DF("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=y&&y.token,u=new _j(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){jF(e+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&jF(e.t0),l());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){DF("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){DF("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Ua(this.interruptReasons_)&&(this.reconnectDelay_=Wj,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return KF(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new Cj(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){DF("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){DF("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=aa(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=aa(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Na()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+kF.replace(/\./g,"-")]=1,Ea()?e["framework.cordova"]=1:Ia()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=Ej.getInstance().currentlyOnline();return Ua(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Va(e,"w")){var n=za(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();jF("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(xj);Kj.nextPersistentConnectionId_=0,Kj.nextConnectionId_=0;var Hj,Gj=function(){function e(t,n){oa(this,e),this.name=t,this.node=n}return ua(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),Qj=function(){function e(){oa(this,e)}return ua(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new Gj(zF,e),r=new Gj(zF,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return Gj.MIN}}]),e}(),$j=function(e){ea(n,e);var t=ia(n);function n(){return oa(this,n),t.apply(this,arguments)}return ua(n,[{key:"compare",value:function(e,t){return BF(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw va("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return Gj.MIN}},{key:"maxPost",value:function(){return new Gj(UF,Hj)}},{key:"makePost",value:function(e,t){return pa("string"===typeof e,"KeyIndex indexValue must always be a string."),new Gj(e,Hj)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return Hj},set:function(e){Hj=e}}]),n}(Qj),Yj=new $j,Xj=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;oa(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return ua(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),Jj=function(){function e(t,n,r,i,a){oa(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:tV.EMPTY_NODE,this.right=null!=a?a:tV.EMPTY_NODE}return ua(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return tV.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return tV.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();Jj.RED=!0,Jj.BLACK=!1;var Zj,eV=function(){function e(){oa(this,e)}return ua(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Jj(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),tV=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;oa(this,e),this.comparator_=t,this.root_=n}return ua(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Jj.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Jj.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new Xj(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new Xj(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new Xj(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new Xj(this.root_,null,this.comparator_,!0,e)}}]),e}();function nV(e,t){return BF(e.name,t.name)}function rV(e,t){return BF(e,t)}tV.EMPTY_NODE=new eV;var iV,aV,oV,sV=function(e){return"number"===typeof e?"number:"+QF(e):"string:"+e},uV=function(e){if(e.isLeafNode()){var t=e.val();pa("string"===typeof t||"number"===typeof t||"object"===typeof t&&Va(t,".sv"),"Priority must be a string or number.")}else pa(e===Zj||e.isEmpty(),"priority of unexpected type.");pa(e===Zj||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},cV=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;oa(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,pa(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),uV(this.priorityNode_)}return ua(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return Mj(t)?this:".priority"===Tj(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=Tj(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(pa(".priority"!==r||1===Nj(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Rj(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+sV(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?QF(this.value_):this.value_,this.lazyHash_=NF(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(pa(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return pa(i>=0,"Unknown leaf type: "+n),pa(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return iV},set:function(e){iV=e}}]),e}();cV.VALUE_TYPE_ORDER=["object","boolean","number","string"];var lV,fV,hV=function(e){ea(n,e);var t=ia(n);function n(){return oa(this,n),t.apply(this,arguments)}return ua(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?BF(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return Gj.MIN}},{key:"maxPost",value:function(){return new Gj(UF,new cV("[PRIORITY-POST]",oV))}},{key:"makePost",value:function(e,t){var n=aV(e);return new Gj(t,new cV("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(Qj),dV=new hV,pV=Math.log(2),vV=function(){function e(t){oa(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/pV,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return ua(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),mV=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new Jj(o,a.node,Jj.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return a=e[u],o=n?n(a):a,new Jj(o,a.node,Jj.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var c=i(a+1,s),l=e[a],f=n?n(l):l;u(new Jj(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,Jj.BLACK):(s(f,Jj.BLACK),s(f,Jj.RED))}return a}(new vV(e.length));return new tV(r||t,a)},yV={},gV=function(){function e(t,n){oa(this,e),this.indexes_=t,this.indexSet_=n}return ua(e,[{key:"get",value:function(e){var t=za(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof tV?t:null}},{key:"hasIndex",value:function(e){return Va(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){pa(t!==Yj,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(Gj.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?mV(i,t.getCompare()):yV;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this,i=Ba(this.indexes_,(function(e,i){var a=za(r.indexSet_,i);if(pa(a,"Missing index implementation for "+i),e===yV){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(Gj.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),mV(o,a.getCompare())}return yV}var c=n.get(t.name),l=e;return c&&(l=l.remove(new Gj(t.name,c))),l.insert(t,t.node)}));return new e(i,this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Ba(this.indexes_,(function(e){if(e===yV)return e;var r=n.get(t.name);return r?e.remove(new Gj(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return pa(yV&&dV,"ChildrenNode.ts has not been loaded"),lV=lV||new e({".priority":yV},{".priority":dV})}}]),e}(),bV=function(){function e(t,n,r){oa(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&uV(this.priorityNode_),this.children_.isEmpty()&&pa(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return ua(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||fV}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?fV:t}},{key:"getChild",value:function(e){var t=Tj(e);return null===t?this:this.getImmediateChild(t).getChild(Rj(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(pa(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new Gj(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?fV:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=Tj(e);if(null===n)return t;pa(".priority"!==Tj(e)||1===Nj(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Rj(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(dV,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+sV(this.getPriority().val())+":"),this.forEachChild(dV,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":NF(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Gj(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new Gj(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new Gj(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Gj.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Gj.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===kV?-1:0}},{key:"withIndex",value:function(t){if(t===Yj||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===Yj||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(dV),r=t.getIterator(dV),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===Yj?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return fV||(fV=new e(new tV(rV),null,gV.Default))}}]),e}();bV.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var kV=new(function(e){ea(n,e);var t=ia(n);function n(){return oa(this,n),t.call(this,new tV(rV),bV.EMPTY_NODE,gV.Default)}return ua(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return bV.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(bV));Object.defineProperties(Gj,{MIN:{value:new Gj(zF,bV.EMPTY_NODE)},MAX:{value:new Gj(UF,kV)}}),$j.__EMPTY_NODE=bV.EMPTY_NODE,cV.__childrenNodeConstructor=bV,Zj=kV,function(e){oV=e}(kV);function wV(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return bV.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),pa(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new cV(n,wV(t))}if(e instanceof Array){var r=bV.EMPTY_NODE;return GF(e,(function(t,n){if(Va(e,t)&&"."!==t.substring(0,1)){var i=wV(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(wV(t))}var i=[],a=!1,o=e;if(GF(o,(function(e,t){if("."!==e.substring(0,1)){var n=wV(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new Gj(e,n)))}})),0===i.length)return bV.EMPTY_NODE;var s=mV(i,nV,(function(e){return e.name}),rV);if(a){var u=mV(i,dV.getCompare());return new bV(s,wV(t),new gV({".priority":u},{".priority":dV}))}return new bV(s,wV(t),gV.Default)}!function(e){aV=e}(wV);var _V=function(e){ea(n,e);var t=ia(n);function n(e){var r;return oa(this,n),(r=t.call(this)).indexPath_=e,pa(!Mj(e)&&".priority"!==Tj(e),"Can't create PathIndex with empty path or .priority key"),r}return ua(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?BF(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=wV(e),r=bV.EMPTY_NODE.updateChild(this.indexPath_,n);return new Gj(t,r)}},{key:"maxPost",value:function(){var e=bV.EMPTY_NODE.updateChild(this.indexPath_,kV);return new Gj(UF,e)}},{key:"toString",value:function(){return Aj(this.indexPath_,0).join("/")}}]),n}(Qj),xV=function(e){ea(n,e);var t=ia(n);function n(){return oa(this,n),t.apply(this,arguments)}return ua(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?BF(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return Gj.MIN}},{key:"maxPost",value:function(){return Gj.MAX}},{key:"makePost",value:function(e,t){var n=wV(e);return new Gj(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(Qj),SV=new xV,EV="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",CV=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=EV.charAt(n%64),n=Math.floor(n/64);pa(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=EV.charAt(t[r]);return pa(20===o.length,"nextPushId: Length should be 20."),o}}(),IV=function(e){if("2147483647"===e)return"-";var t=JF(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return UF;var a=n[i],o=EV.charAt(EV.indexOf(a)+1);return n[i]=o,n.slice(0,i+1).join("")},TV=function(e){if("-2147483648"===e)return zF;var t=JF(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=EV.charAt(EV.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function NV(e){return{type:"value",snapshotNode:e}}function RV(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function PV(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function AV(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var OV=function(){function e(t){oa(this,e),this.index_=t}return ua(e,[{key:"updateChild",value:function(e,t,n,r,i,a){pa(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(PV(t,o)):pa(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(RV(t,n)):a.trackChildChange(AV(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(dV,(function(e,r){t.hasChild(e)||n.trackChildChange(PV(e,r))})),t.isLeafNode()||t.forEachChild(dV,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(AV(t,r,i))}else n.trackChildChange(RV(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?bV.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),DV=function(){function e(t){oa(this,e),this.indexedFilter_=new OV(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return ua(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new Gj(t,n))||(n=bV.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=bV.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(bV.EMPTY_NODE);var i=this;return t.forEachChild(dV,(function(e,t){i.matches(new Gj(e,t))||(r=r.updateImmediateChild(e,bV.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),MV=function(){function e(t){oa(this,e),this.rangedFilter_=new DV(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return ua(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new Gj(t,n))||(n=bV.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=bV.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=bV.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0:this.index_.compare(o,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(o.name,o.node),a++}}else{var s,u,c,l;if(r=(r=t.withIndex(this.index_)).updatePriority(bV.EMPTY_NODE),this.reverse_){l=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var f=this.index_.getCompare();c=function(e,t){return f(t,e)}}else l=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();for(var h=0,d=!1;l.hasNext();){var p=l.getNext();!d&&c(s,p)<=0&&(d=!0),d&&h<this.limit_&&c(p,u)<=0?h++:r=r.updateImmediateChild(p.name,bV.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;pa(s.numChildren()===this.limit_,"");var u=new Gj(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var f=s.getImmediateChild(t),h=r.getChildAfterChild(this.index_,c,this.reverse_);null!=h&&(h.name===t||s.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var d=null==h?1:a(h,u);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(AV(t,n,f)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(PV(t,f));var p=s.updateImmediateChild(t,bV.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(RV(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}return n.isEmpty()?e:l&&a(c,u)>=0?(null!=i&&(i.trackChildChange(PV(c.name,c.node)),i.trackChildChange(RV(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,bV.EMPTY_NODE)):e}}]),e}(),LV=function(){function e(){oa(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=dV}return ua(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return pa(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return pa(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:zF}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return pa(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return pa(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:UF}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return pa(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===dV}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function FV(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function jV(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function VV(e,t){var n=e.copy();return n.index_=t,n}function zV(e){var t,n={};return e.isDefault()||(e.index_===dV?t="$priority":e.index_===SV?t="$value":e.index_===Yj?t="$key":(pa(e.index_ instanceof _V,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Fa(t),e.startSet_&&(n.startAt=Fa(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Fa(e.indexStartName_))),e.endSet_&&(n.endAt=Fa(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Fa(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function UV(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==dV&&(t.i=e.index_.toString()),t}var BV=function(e){ea(n,e);var t=ia(n);function n(e,r,i,a){var o;return oa(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=MF("p:rest:"),o.listens_={},o}return ua(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var c=zV(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),za(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=zV(e._queryParams),r=e._path.toString(),i=new _a;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=c(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Ka(n);t.log_("Sending REST request for "+u);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+u+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=La(l.responseText)}catch(eK){jF("Failed to parse JSON response for "+u+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&jF("Got unsuccessful REST response for "+u+" Status: "+l.status),r(l.status);r=null}},l.open("GET",u,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(pa(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(xj),qV=function(){function e(){oa(this,e),this.rootNode_=bV.EMPTY_NODE}return ua(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function WV(){return{value:null,children:new Map}}function KV(e,t,n){if(Mj(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=Tj(t);e.children.has(r)||e.children.set(r,WV()),KV(e.children.get(r),t=Rj(t),n)}}function HV(e,t){if(Mj(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(dV,(function(t,n){KV(e,new Cj(t),n)})),HV(e,t)}if(e.children.size>0){var r=Tj(t);if(t=Rj(t),e.children.has(r))HV(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function GV(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){GV(r,new Cj(t.toString()+"/"+e),n)}))}var QV,$V=function(){function e(t){oa(this,e),this.collection_=t,this.last_=null}return ua(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&GF(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),YV=function(){function e(t,n){oa(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new $V(t);var r=1e4+2e4*Math.random();ej(this.reportStats_.bind(this),Math.floor(r))}return ua(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;GF(t,(function(t,i){i>0&&Va(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),ej(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function XV(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(QV||(QV={}));var JV,ZV=function(){function e(t,n,r){oa(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=QV.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return ua(e,[{key:"operationForChild",value:function(t){if(Mj(this.path)){if(null!=this.affectedTree.value)return pa(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Cj(t));return new e(Ij(),n,this.revert)}return pa(Tj(this.path)===t,"operationForChild called for unrelated child."),new e(Rj(this.path),this.affectedTree,this.revert)}}]),e}(),ez=function(){function e(t,n){oa(this,e),this.source=t,this.path=n,this.type=QV.LISTEN_COMPLETE}return ua(e,[{key:"operationForChild",value:function(t){return Mj(this.path)?new e(this.source,Ij()):new e(this.source,Rj(this.path))}}]),e}(),tz=function(){function e(t,n,r){oa(this,e),this.source=t,this.path=n,this.snap=r,this.type=QV.OVERWRITE}return ua(e,[{key:"operationForChild",value:function(t){return Mj(this.path)?new e(this.source,Ij(),this.snap.getImmediateChild(t)):new e(this.source,Rj(this.path),this.snap)}}]),e}(),nz=function(){function e(t,n,r){oa(this,e),this.source=t,this.path=n,this.children=r,this.type=QV.MERGE}return ua(e,[{key:"operationForChild",value:function(t){if(Mj(this.path)){var n=this.children.subtree(new Cj(t));return n.isEmpty()?null:n.value?new tz(this.source,Ij(),n.value):new e(this.source,Ij(),n)}return pa(Tj(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Rj(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),rz=function(){function e(t,n,r){oa(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return ua(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(Mj(e))return this.isFullyInitialized()&&!this.filtered_;var t=Tj(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),iz=ua((function e(t){oa(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function az(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw va("Should only compare child_ events.");var r=new Gj(t.childName,t.snapshotNode),i=new Gj(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function oz(e,t){return{eventCache:e,serverCache:t}}function sz(e,t,n,r){return oz(new rz(t,n,r),e.serverCache)}function uz(e,t,n,r){return oz(e.eventCache,new rz(t,n,r))}function cz(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function lz(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var fz=function(){return JV||(JV=new tV(qF)),JV},hz=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fz();oa(this,e),this.value=t,this.children=n}return ua(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:Ij(),value:this.value};if(Mj(e))return null;var n=Tj(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Rj(e),t);return null!=i?{path:Dj(new Cj(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(Mj(t))return this;var n=Tj(t),r=this.children.get(n);return null!==r?r.subtree(Rj(t)):new e(null)}},{key:"set",value:function(t,n){if(Mj(t))return new e(n,this.children);var r=Tj(t),i=(this.children.get(r)||new e(null)).set(Rj(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(Mj(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Tj(t),r=this.children.get(n);if(r){var i,a=r.remove(Rj(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(Mj(e))return this.value;var t=Tj(e),n=this.children.get(t);return n?n.get(Rj(e)):null}},{key:"setTree",value:function(t,n){if(Mj(t))return n;var r,i=Tj(t),a=(this.children.get(i)||new e(null)).setTree(Rj(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(Ij(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Dj(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,Ij(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Mj(e))return null;var i=Tj(e),a=this.children.get(i);return a?a.findOnPath_(Rj(e),Dj(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,Ij(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(Mj(t))return this;this.value&&r(n,this.value);var i=Tj(t),a=this.children.get(i);return a?a.foreachOnPath_(Rj(t),Dj(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(Ij(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Dj(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return GF(t,(function(e,t){n=n.set(new Cj(e),t)})),n}}]),e}(),dz=function(){function e(t){oa(this,e),this.writeTree_=t}return ua(e,null,[{key:"empty",value:function(){return new e(new hz(null))}}]),e}();function pz(e,t,n){if(Mj(t))return new dz(new hz(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=Lj(i,t);return a=a.updateChild(o,n),new dz(e.writeTree_.set(i,a))}var s=new hz(n),u=e.writeTree_.setTree(t,s);return new dz(u)}function vz(e,t,n){var r=e;return GF(n,(function(e,n){r=pz(r,Dj(t,e),n)})),r}function mz(e,t){if(Mj(t))return dz.empty();var n=e.writeTree_.setTree(t,new hz(null));return new dz(n)}function yz(e,t){return null!=gz(e,t)}function gz(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Lj(n.path,t)):null}function bz(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(dV,(function(e,n){t.push(new Gj(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Gj(e,n.value))})),t}function kz(e,t){if(Mj(t))return e;var n=gz(e,t);return new dz(null!=n?new hz(n):e.writeTree_.subtree(t))}function wz(e){return e.writeTree_.isEmpty()}function _z(e,t){return xz(Ij(),e.writeTree_,t)}function xz(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(pa(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=xz(Dj(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Dj(e,".priority"),r)),n}function Sz(e,t){return jz(t,e)}function Ez(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function Cz(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));pa(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&Iz(s,r.path)?i=!1:Vj(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=Nz(e.allWrites,Tz,Ij()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=mz(e.visibleWrites,r.path):GF(r.children,(function(t){e.visibleWrites=mz(e.visibleWrites,Dj(r.path,t))}));return!0}return!1}function Iz(e,t){if(e.snap)return Vj(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Vj(Dj(e.path,n),t))return!0;return!1}function Tz(e){return e.visible}function Nz(e,t,n){for(var r=dz.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)Vj(n,o)?r=pz(r,s=Lj(n,o),a.snap):Vj(o,n)&&(s=Lj(o,n),r=pz(r,Ij(),a.snap.getChild(s)));else{if(!a.children)throw va("WriteRecord should have .snap or .children");if(Vj(n,o))r=vz(r,s=Lj(n,o),a.children);else if(Vj(o,n))if(Mj(s=Lj(o,n)))r=vz(r,Ij(),a.children);else{var u=za(a.children,Tj(s));if(u){var c=u.getChild(Rj(s));r=pz(r,Ij(),c)}}}}}return r}function Rz(e,t,n,r,i){if(r||i){var a=kz(e.visibleWrites,t);if(!i&&wz(a))return n;if(i||null!=n||yz(a,Ij())){return _z(Nz(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Vj(e.path,t)||Vj(t,e.path))}),t),n||bV.EMPTY_NODE)}return null}var o=gz(e.visibleWrites,t);if(null!=o)return o;var s=kz(e.visibleWrites,t);return wz(s)?n:null!=n||yz(s,Ij())?_z(s,n||bV.EMPTY_NODE):null}function Pz(e,t,n,r){return Rz(e.writeTree,e.treePath,t,n,r)}function Az(e,t){return function(e,t,n){var r=bV.EMPTY_NODE,i=gz(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(dV,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=kz(e.visibleWrites,t);return n.forEachChild(dV,(function(e,t){var n=_z(kz(a,new Cj(e)),t);r=r.updateImmediateChild(e,n)})),bz(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return bz(kz(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Oz(e,t,n,r){return function(e,t,n,r,i){pa(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Dj(t,n);if(yz(e.visibleWrites,a))return null;var o=kz(e.visibleWrites,a);return wz(o)?i.getChild(n):_z(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Dz(e,t){return function(e,t){return gz(e.visibleWrites,t)}(e.writeTree,Dj(e.treePath,t))}function Mz(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=kz(e.visibleWrites,t),c=gz(u,Ij());if(null!=c)s=c;else{if(null==n)return[];s=_z(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=o.getCompare(),h=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function Lz(e,t,n){return function(e,t,n,r){var i=Dj(t,n),a=gz(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?_z(kz(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Fz(e,t){return jz(Dj(e.treePath,t),e.writeTree)}function jz(e,t){return{treePath:e,writeTree:t}}var Vz=function(){function e(){oa(this,e),this.changeMap=new Map}return ua(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;pa("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),pa(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,AV(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,PV(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,RV(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw va("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,AV(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),zz=new(function(){function e(){oa(this,e)}return ua(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),Uz=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;oa(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return ua(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new rz(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Lz(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:lz(this.viewCache_),i=Mz(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function Bz(e,t,n,r,i){var a,o,s=new Vz;if(n.type===QV.OVERWRITE){var u=n;u.source.fromUser?a=Kz(e,t,u.path,u.snap,r,i,s):(pa(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!Mj(u.path),a=Wz(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===QV.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var c=Dj(n,r);Hz(t,Tj(c))&&(s=Kz(e,s,c,u,i,a,o))})),r.foreach((function(r,u){var c=Dj(n,r);Hz(t,Tj(c))||(s=Kz(e,s,c,u,i,a,o))})),s}(e,t,c.path,c.children,r,i,s):(pa(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=Qz(e,t,c.path,c.children,r,i,o,s))}else if(n.type===QV.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=Dz(r,n))return t;var s,u=new Uz(r,t,i),c=t.eventCache.getNode();if(Mj(n)||".priority"===Tj(n)){var l;if(t.serverCache.isFullyInitialized())l=Pz(r,lz(t));else{var f=t.serverCache.getNode();pa(f instanceof bV,"serverChildren would be complete if leaf node"),l=Az(r,f)}l=l,s=e.filter.updateFullNode(c,l,a)}else{var h=Tj(n),d=Lz(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),(s=null!=d?e.filter.updateChild(c,h,d,Rj(n),u,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(c,h,bV.EMPTY_NODE,Rj(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Pz(r,lz(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=Dz(r,Ij()),sz(t,s,o,e.filter.filtersNodes())}(e,t,l.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=Dz(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Mj(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Wz(e,t,n,u.getNode().getChild(n),i,a,s,o);if(Mj(n)){var c=new hz(null);return u.getNode().forEachChild(Yj,(function(e,t){c=c.set(new Cj(e),t)})),Qz(e,t,n,c,i,a,s,o)}return t}var l=new hz(null);return r.foreach((function(e,t){var r=Dj(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),Qz(e,t,n,l,i,a,s,o)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==QV.LISTEN_COMPLETE)throw va("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=uz(t,a.getNode(),a.isFullyInitialized()||Mj(n),a.isFiltered());return qz(e,o,n,r,zz,i)}(e,t,n.path,r,s)}var f=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=cz(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(NV(cz(t)))}}(t,a,f),{viewCache:a,changes:f}}function qz(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=Dz(r,n))return t;if(Mj(n))if(pa(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=lz(t),l=Az(r,c instanceof bV?c:bV.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var f=Pz(r,lz(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=Tj(n);if(".priority"===h){pa(1===Nj(n),"Can't have a priority with additional path components");var d=u.getNode(),p=Oz(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,m=Rj(n);if(u.isCompleteForChild(h)){s=t.serverCache.getNode();var y=Oz(r,n,u.getNode(),s);v=null!=y?u.getNode().getImmediateChild(h).updateChild(m,y):u.getNode().getImmediateChild(h)}else v=Lz(r,h,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),h,v,m,i,a):u.getNode()}}return sz(t,o,u.isFullyInitialized()||Mj(n),e.filter.filtersNodes())}function Wz(e,t,n,r,i,a,o,s){var u,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(Mj(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var h=Tj(n);if(!c.isCompleteForPath(n)&&Nj(n)>1)return t;var d=Rj(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,zz,null)}var v=uz(t,u,c.isFullyInitialized()||Mj(n),l.filtersNodes());return qz(e,v,n,i,new Uz(i,v,a),s)}function Kz(e,t,n,r,i,a,o){var s,u,c=t.eventCache,l=new Uz(i,t,a);if(Mj(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=sz(t,u,!0,e.filter.filtersNodes());else{var f=Tj(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=sz(t,u,c.isFullyInitialized(),c.isFiltered());else{var h,d=Rj(n),p=c.getNode().getImmediateChild(f);if(Mj(d))h=r;else{var v=l.getCompleteChild(f);h=null!=v?".priority"===Pj(d)&&v.getChild(Oj(d)).isEmpty()?v:v.updateChild(d,r):bV.EMPTY_NODE}if(p.equals(h))s=t;else s=sz(t,e.filter.updateChild(c.getNode(),f,h,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Hz(e,t){return e.eventCache.isCompleteForChild(t)}function Gz(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Qz(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=Mj(n)?r:new hz(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=Gz(0,t.serverCache.getNode().getImmediateChild(n),r);c=Wz(e,c,new Cj(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var f=Gz(0,t.serverCache.getNode().getImmediateChild(n),r);c=Wz(e,c,new Cj(n),f,i,a,o,s)}})),c}var $z,Yz=function(){function e(t,n){oa(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new OV(i.getIndex()),o=(r=i).loadsAllData()?new OV(r.getIndex()):r.hasLimit()?new MV(r):new DV(r);this.processor_=function(e){return{filter:e}}(o);var s=n.serverCache,u=n.eventCache,c=a.updateFullNode(bV.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(bV.EMPTY_NODE,u.getNode(),null),f=new rz(c,s.isFullyInitialized(),a.filtersNodes()),h=new rz(l,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=oz(h,f),this.eventGenerator_=new iz(this.query_)}return ua(e,[{key:"query",get:function(){return this.query_}}]),e}();function Xz(e,t){var n=lz(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Mj(t)&&!n.getImmediateChild(Tj(t)).isEmpty())?n.getChild(t):null}function Jz(e){return 0===e.eventRegistrations_.length}function Zz(e,t,n){var r=[];if(n){pa(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(s)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function eU(e,t,n,r){t.type===QV.MERGE&&null!==t.source.queryId&&(pa(lz(e.viewCache_),"We should always have a full cache before handling merges"),pa(cz(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=Bz(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,pa(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),pa(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),pa(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,tU(e,s.changes,s.viewCache.eventCache.getNode(),null)}function tU(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),az(e,i,"child_removed",t,r,n),az(e,i,"child_added",t,r,n),az(e,i,"child_moved",a,r,n),az(e,i,"child_changed",t,r,n),az(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var nU,rU=ua((function e(){oa(this,e),this.views=new Map}));function iU(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return pa(null!=a,"SyncTree gave us an op for an invalid query."),eU(a,t,n,r)}var o,s=[],u=aa(e.views.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s=s.concat(eU(c,t,n,r))}}catch(l){u.e(l)}finally{u.f()}return s}function aU(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var s=Pz(n,i?r:null),u=!1;s?u=!0:r instanceof bV?(s=Az(n,r),u=!1):(s=bV.EMPTY_NODE,u=!1);var c=oz(new rz(s,u,!1),new rz(r,i,!1));return new Yz(t,c)}return o}function oU(e,t,n,r,i,a){var o=aU(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(dV,(function(e,t){r.push(RV(e,t))})),n.isFullyInitialized()&&r.push(NV(n.getNode())),tU(e,r,n.getNode(),t)}(o,n)}function sU(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],s=hU(e);if("default"===i){var u,l=aa(e.views.entries());try{for(l.s();!(u=l.n()).done;){var f=c(u.value,2),h=f[0],d=f[1];o=o.concat(Zz(d,n,r)),Jz(d)&&(e.views.delete(h),d.query._queryParams.loadsAllData()||a.push(d.query))}}catch(v){l.e(v)}finally{l.f()}}else{var p=e.views.get(i);p&&(o=o.concat(Zz(p,n,r)),Jz(p)&&(e.views.delete(i),p.query._queryParams.loadsAllData()||a.push(p.query)))}return s&&!hU(e)&&a.push(new(pa($z,"Reference.ts has not been loaded"),$z)(t._repo,t._path)),{removed:a,events:o}}function uU(e){var t,n=[],r=aa(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function cU(e,t){var n,r=null,i=aa(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||Xz(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function lU(e,t){if(t._queryParams.loadsAllData())return dU(e);var n=t._queryIdentifier;return e.views.get(n)}function fU(e,t){return null!=lU(e,t)}function hU(e){return null!=dU(e)}function dU(e){var t,n=aa(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var pU=1,vU=ua((function e(t){oa(this,e),this.listenProvider_=t,this.syncPointTree_=new hz(null),this.pendingWriteTree_={visibleWrites:dz.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function mU(e,t,n,r,i){return function(e,t,n,r,i){pa(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=pz(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?SU(e,new tz({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function yU(e,t,n,r){!function(e,t,n,r){pa(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=vz(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=hz.fromObject(n);return SU(e,new nz({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function gU(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Ez(e.pendingWriteTree_,t),i=Cz(e.pendingWriteTree_,t);if(i){var a=new hz(null);return null!=r.snap?a=a.set(Ij(),!0):GF(r.children,(function(e){a=a.set(new Cj(e),!0)})),SU(e,new ZV(r.path,a,n))}return[]}function bU(e,t,n){return SU(e,new tz({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function kU(e,t,n,r){var i=t._path,a=e.syncPointTree_.get(i),o=[];if(a&&("default"===t._queryIdentifier||fU(a,t))){var s=sU(a,t,n,r);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;o=s.events;var c=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),l=e.syncPointTree_.findOnPath(i,(function(e,t){return hU(t)}));if(c&&!l){var f=e.syncPointTree_.subtree(i);if(!f.isEmpty())for(var h=function(e){return e.fold((function(e,t,n){if(t&&hU(t))return[dU(t)];var r=[];return t&&(r=uU(t)),GF(n,(function(e,t){r=r.concat(t)})),r}))}(f),d=0;d<h.length;++d){var p=h[d],v=p.query,m=IU(e,p);e.listenProvider_.startListening(OU(v),TU(e,v),m.hashFn,m.onComplete)}}if(!l&&u.length>0&&!r)if(c){e.listenProvider_.stopListening(OU(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(NU(t));e.listenProvider_.stopListening(OU(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=NU(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}(e,u)}return o}function wU(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=Lj(e,r);i=i||cU(t,n),a=a||hU(t)}));var o,s=e.syncPointTree_.get(r);(s?(a=a||hU(s),i=i||cU(s,Ij())):(s=new rU,e.syncPointTree_=e.syncPointTree_.set(r,s)),null!=i)?o=!0:(o=!1,i=bV.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=cU(t,Ij());n&&(i=i.updateImmediateChild(e,n))})));var u=fU(s,t);if(!u&&!t._queryParams.loadsAllData()){var c=NU(t);pa(!e.queryToTagMap.has(c),"View does not exist, but we have a tag");var l=pU++;e.queryToTagMap.set(c,l),e.tagToQueryMap.set(l,c)}var f=oU(s,t,n,Sz(e.pendingWriteTree_,r),i,o);if(!u&&!a){var h=lU(s,t);f=f.concat(function(e,t,n){var r=t._path,i=TU(e,t),a=IU(e,n),o=e.listenProvider_.startListening(OU(t),i,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(i)pa(!hU(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!Mj(e)&&t&&hU(t))return[dU(t).query];var r=[];return t&&(r=r.concat(uU(t).map((function(e){return e.query})))),GF(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var l=u[c];e.listenProvider_.stopListening(OU(l),TU(e,l))}return o}(e,t,h))}return f}function _U(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=cU(n,Lj(e,t));if(r)return r}));return Rz(r,t,i,n,!0)}function xU(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Lj(e,n);r=r||cU(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||cU(i,Ij()):(i=new rU,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new rz(r,!0,!1):null;return function(e){return cz(e.viewCache_)}(aU(i,t,Sz(e.pendingWriteTree_,t._path),a?o.getNode():bV.EMPTY_NODE,a))}function SU(e,t){return EU(t,e.syncPointTree_,null,Sz(e.pendingWriteTree_,Ij()))}function EU(e,t,n,r){if(Mj(e.path))return CU(e,t,n,r);var i=t.get(Ij());null==n&&null!=i&&(n=cU(i,Ij()));var a=[],o=Tj(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var c=n?n.getImmediateChild(o):null,l=Fz(r,o);a=a.concat(EU(s,u,c,l))}return i&&(a=a.concat(iU(i,e,r,n))),a}function CU(e,t,n,r){var i=t.get(Ij());null==n&&null!=i&&(n=cU(i,Ij()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=Fz(r,t),u=e.operationForChild(t);u&&(a=a.concat(CU(u,i,o,s)))})),i&&(a=a.concat(iU(i,e,r,n))),a}function IU(e,t){var n=t.query,r=TU(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||bV.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=RU(e,n);if(r){var i=PU(r),a=i.path,o=i.queryId,s=Lj(a,t);return AU(e,a,new ez(XV(o),s))}return[]}(e,n._path,r):function(e,t){return SU(e,new ez({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return kU(e,n,null,i)}}}function TU(e,t){var n=NU(t);return e.queryToTagMap.get(n)}function NU(e){return e._path.toString()+"$"+e._queryIdentifier}function RU(e,t){return e.tagToQueryMap.get(t)}function PU(e){var t=e.indexOf("$");return pa(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Cj(e.substr(0,t))}}function AU(e,t,n){var r=e.syncPointTree_.get(t);return pa(r,"Missing sync point for query tag that we're tracking"),iU(r,n,Sz(e.pendingWriteTree_,t),null)}function OU(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(pa(nU,"Reference.ts has not been loaded"),nU)(e._repo,e._path):e}var DU=function(){function e(t){oa(this,e),this.node_=t}return ua(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),MU=function(){function e(t,n){oa(this,e),this.syncTree_=t,this.path_=n}return ua(e,[{key:"getImmediateChild",value:function(t){var n=Dj(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return _U(this.syncTree_,this.path_)}}]),e}(),LU=function(e,t,n){return e&&"object"===typeof e?(pa(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?FU(e[".sv"],t,n):"object"===typeof e[".sv"]?jU(e[".sv"],t):void pa(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},FU=function(e,t,n){if("timestamp"===e)return n.timestamp;pa(!1,"Unexpected server value: "+e)},jU=function(e,t,n){e.hasOwnProperty("increment")||pa(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&pa(!1,"Unexpected increment value: "+r);var i=t.node();if(pa(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},VU=function(e,t,n,r){return UU(t,new MU(n,e),r)},zU=function(e,t,n){return UU(e,new DU(t),n)};function UU(e,t,n){var r,i=e.getPriority().val(),a=LU(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=LU(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new cV(s,wV(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new cV(a))),u.forEachChild(dV,(function(e,i){var a=UU(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var BU=ua((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};oa(this,e),this.name=t,this.parent=n,this.node=r}));function qU(e,t){for(var n=t instanceof Cj?t:new Cj(t),r=e,i=Tj(n);null!==i;){var a=za(r.node.children,i)||{children:{},childCount:0};r=new BU(i,r,a),i=Tj(n=Rj(n))}return r}function WU(e){return e.node.value}function KU(e,t){e.node.value=t,YU(e)}function HU(e){return e.node.childCount>0}function GU(e,t){GF(e.node.children,(function(n,r){t(new BU(n,e,r))}))}function QU(e,t,n,r){n&&!r&&t(e),GU(e,(function(e){QU(e,t,!0,r)})),n&&r&&t(e)}function $U(e){return new Cj(null===e.parent?e.name:$U(e.parent)+"/"+e.name)}function YU(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===WU(e)&&!HU(e)}(n),i=Va(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,YU(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,YU(e))}(e.parent,e.name,e)}var XU=/[\[\].#$\/\u0000-\u001F\u007F]/,JU=/[\[\].#$\u0000-\u001F\u007F]/,ZU=10485760,eB=function(e){return"string"===typeof e&&0!==e.length&&!XU.test(e)},tB=function(e){return"string"===typeof e&&0!==e.length&&!JU.test(e)},nB=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!VF(e)||e&&"object"===typeof e&&Va(e,".sv")},rB=function(e,t,n,r){r&&void 0===t||iB(Za(e,"value"),t,n)},iB=function e(t,n,r){var i=r instanceof Cj?new zj(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Bj(i));if("function"===typeof n)throw new Error(t+"contains a function "+Bj(i)+" with contents = "+n.toString());if(VF(n))throw new Error(t+"contains "+n.toString()+" "+Bj(i));if("string"===typeof n&&n.length>ZU/3&&no(n)>ZU)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+Bj(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(GF(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!eB(n)))throw new Error(t+" contains an invalid key ("+n+") "+Bj(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;u=n,(s=i).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(u),s.byteLength_+=no(u),Uj(s),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=no(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+Bj(i)+" in addition to actual children.")}},aB=function(e,t,n,r){if(!r||void 0!==t){var i=Za(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];GF(t,(function(e,t){var r=new Cj(e);if(iB(i,t,Dj(n,r)),".priority"===Pj(r)&&!nB(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=Aj(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!eB(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Fj);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&Vj(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},oB=function(e,t,n){if(!n||void 0!==t){if(VF(t))throw new Error(Za(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!nB(t))throw new Error(Za(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},sB=function(e,t,n,r){if((!r||void 0!==n)&&!eB(n))throw new Error(Za(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},uB=function(e,t,n,r){if((!r||void 0!==n)&&!tB(n))throw new Error(Za(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},cB=function(e,t){if(".info"===Tj(t))throw new Error(e+" failed = Can't modify data under /.info/")},lB=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!eB(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),tB(e)}(n))throw new Error(Za(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},fB=ua((function e(){oa(this,e),this.eventLists_=[],this.recursionDepth_=0}));function hB(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||jj(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function dB(e,t,n){hB(e,n),vB(e,(function(e){return jj(e,t)}))}function pB(e,t,n){hB(e,n),vB(e,(function(e){return Vj(e,t)||Vj(t,e)}))}function vB(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(mB(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function mB(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();PF&&DF("event: "+n.toString()),ZF(r)}}}var yB="repo_interrupt",gB=function(){function e(t,n,r,i){oa(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new fB,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=WV(),this.transactionQueueTree_=new BU,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return ua(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function bB(e,t,n){if(e.stats_=dj(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new BV(e.repoInfo_,(function(t,n,r,i){_B(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return xB(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Fa(n)}catch(eK){throw new Error("Invalid authOverride provided: "+eK)}}e.persistentConnection_=new Kj(e.repoInfo_,t,(function(t,n,r,i){_B(e,t,n,r,i)}),(function(t){xB(e,t)}),(function(t){!function(e,t){GF(t,(function(t,n){SB(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return hj[n]||(hj[n]=t()),hj[n]}(e.repoInfo_,(function(){return new YV(e.stats_,e.server_)})),e.infoData_=new qV,e.infoSyncTree_=new vU({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=bU(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),SB(e,"connected",!1),e.serverSyncTree_=new vU({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);pB(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function kB(e){var t=e.infoData_.getNode(new Cj(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function wB(e){return function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e}({timestamp:kB(e)})}function _B(e,t,n,r,i){e.dataUpdateCount++;var a=new Cj(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=Ba(n,(function(e){return wV(e)}));o=function(e,t,n,r){var i=RU(e,r);if(i){var a=PU(i),o=a.path,s=a.queryId,u=Lj(o,t),c=hz.fromObject(n);return AU(e,o,new nz(XV(s),u,c))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=wV(n);o=function(e,t,n,r){var i=RU(e,r);if(null!=i){var a=PU(i),o=a.path,s=a.queryId,u=Lj(o,t);return AU(e,o,new tz(XV(s),u,n))}return[]}(e.serverSyncTree_,a,u,i)}else if(r){var c=Ba(n,(function(e){return wV(e)}));o=function(e,t,n){var r=hz.fromObject(n);return SU(e,new nz({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=wV(n);o=bU(e.serverSyncTree_,a,l)}var f=a;o.length>0&&(f=LB(e,a)),pB(e.eventQueue_,f,o)}function xB(e,t){SB(e,"connected",t),!1===t&&function(e){PB(e,"onDisconnectEvents");var t=wB(e),n=WV();GV(e.onDisconnect_,Ij(),(function(r,i){var a=VU(r,i,e.serverSyncTree_,t);KV(n,r,a)}));var r=[];GV(n,Ij(),(function(t,n){r=r.concat(bU(e.serverSyncTree_,t,n));var i=UB(e,t);LB(e,i)})),e.onDisconnect_=WV(),pB(e.eventQueue_,Ij(),r)}(e)}function SB(e,t,n){var r=new Cj("/.info/"+t),i=wV(n);e.infoData_.updateSnapshot(r,i);var a=bU(e.infoSyncTree_,r,i);pB(e.eventQueue_,r,a)}function EB(e){return e.nextWriteId_++}function CB(e,t,n,r,i){PB(e,"set",{path:t.toString(),value:n,priority:r});var a=wB(e),o=wV(n,r),s=_U(e.serverSyncTree_,t),u=zU(o,s,a),c=EB(e),l=mU(e.serverSyncTree_,t,u,c,!0);hB(e.eventQueue_,l),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||jF("set at "+t+" failed: "+n);var o=gU(e.serverSyncTree_,c,!a);pB(e.eventQueue_,t,o),AB(e,i,n,r)}));var f=UB(e,t);LB(e,f),pB(e.eventQueue_,f,[])}function IB(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&HV(e.onDisconnect_,t),AB(e,n,r,i)}))}function TB(e,t,n,r){var i=wV(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,a){"ok"===n&&KV(e.onDisconnect_,t,i),AB(e,r,n,a)}))}function NB(e,t,n){var r;r=".info"===Tj(t._path)?kU(e.infoSyncTree_,t,n):kU(e.serverSyncTree_,t,n),dB(e.eventQueue_,t._path,r)}function RB(e){e.persistentConnection_&&e.persistentConnection_.interrupt(yB)}function PB(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];DF.apply(void 0,[t].concat(r))}function AB(e,t,n,r){t&&ZF((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function OB(e,t,n){return _U(e.serverSyncTree_,t,n)||bV.EMPTY_NODE}function DB(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||zB(e,t),WU(t)){var n=jB(e,t);pa(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&MB(e,$U(t),n)}else HU(t)&&GU(t,(function(t){DB(e,t)}))}function MB(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=OB(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];pa(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=Lj(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var l=a.val(!0),f=t;e.server_.put(f.toString(),l,(function(r){PB(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(gU(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);zB(e,qU(e.transactionQueueTree_,t)),DB(e,e.transactionQueueTree_),pB(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)ZF(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{jF("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}LB(e,t)}}),o)}function LB(e,t){var n=FB(e,t),r=$U(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u=t[a],c=Lj(n,u.path),l=!1,f=void 0;if(pa(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,f=u.abortReason,i=i.concat(gU(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)l=!0,f="maxretry",i=i.concat(gU(e.serverSyncTree_,u.currentWriteId,!0));else{var h=OB(e,u.path,o);u.currentInputSnapshot=h;var d=t[a].update(h.val());if(void 0!==d){iB("transaction failed: Data returned ",d,u.path);var p=wV(d);"object"===typeof d&&null!=d&&Va(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=u.currentWriteId,m=wB(e),y=zU(p,h,m);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=y,u.currentWriteId=EB(e),o.splice(o.indexOf(v),1),i=(i=i.concat(mU(e.serverSyncTree_,u.path,y,u.currentWriteId,u.applyLocally))).concat(gU(e.serverSyncTree_,v,!0))}else l=!0,f="nodata",i=i.concat(gU(e.serverSyncTree_,u.currentWriteId,!0))}pB(e.eventQueue_,n,i),i=[],l&&(t[a].status=2,s=t[a].unwatcher,setTimeout(s,Math.floor(0)),t[a].onComplete&&("nodata"===f?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(f),!1,null)}))))},u=0;u<t.length;u++)s(u);zB(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)ZF(r[c]);DB(e,e.transactionQueueTree_)}(e,jB(e,n),r),r}function FB(e,t){var n,r=e.transactionQueueTree_;for(n=Tj(t);null!==n&&void 0===WU(r);)r=qU(r,n),n=Tj(t=Rj(t));return r}function jB(e,t){var n=[];return VB(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function VB(e,t,n){var r=WU(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);GU(t,(function(t){VB(e,t,n)}))}function zB(e,t){var n=WU(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,KU(t,n.length>0?n:void 0)}GU(t,(function(t){zB(e,t)}))}function UB(e,t){var n=$U(FB(e,t)),r=qU(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){BB(e,t)})),BB(e,r),QU(r,(function(t){BB(e,t)})),n}function BB(e,t){var n=WU(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(pa(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(pa(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(gU(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?KU(t,void 0):n.length=a+1,pB(e.eventQueue_,$U(t),i);for(var s=0;s<r.length;s++)ZF(r[s])}}var qB=function(e,t){var n=WB(e),r=n.namespace;"firebase.com"===n.domain&&FF(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||FF("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&jF("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new uj(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new Cj(n.pathString)}},WB=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(l,f)),l<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(eK){}t+="/"+i}return t}(e.substring(l,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=aa(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):jF("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(c=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},KB=function(){function e(t,n,r,i){oa(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return ua(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+Fa(this.snapshot.exportVal())}}]),e}(),HB=function(){function e(t,n,r){oa(this,e),this.eventRegistration=t,this.error=n,this.path=r}return ua(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),GB=function(){function e(t,n){oa(this,e),this.snapshotCallback=t,this.cancelCallback=n}return ua(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return pa(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),QB=function(){function e(t,n){oa(this,e),this._repo=t,this._path=n}return ua(e,[{key:"cancel",value:function(){var e=new _a;return IB(this._repo,this._path,e.wrapCallback((function(){}))),e.promise}},{key:"remove",value:function(){cB("OnDisconnect.remove",this._path);var e=new _a;return TB(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise}},{key:"set",value:function(e){cB("OnDisconnect.set",this._path),rB("OnDisconnect.set",e,this._path,!1);var t=new _a;return TB(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}},{key:"setWithPriority",value:function(e,t){cB("OnDisconnect.setWithPriority",this._path),rB("OnDisconnect.setWithPriority",e,this._path,!1),oB("OnDisconnect.setWithPriority",t,!1);var n=new _a;return function(e,t,n,r,i){var a=wV(n,r);e.server_.onDisconnectPut(t.toString(),a.val(!0),(function(n,r){"ok"===n&&KV(e.onDisconnect_,t,a),AB(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise}},{key:"update",value:function(e){cB("OnDisconnect.update",this._path),aB("OnDisconnect.update",e,this._path,!1);var t=new _a;return function(e,t,n,r){if(Ua(n))return DF("onDisconnect().update() called with empty data.  Don't do anything."),void AB(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,a){"ok"===i&&GF(n,(function(n,r){var i=wV(r);KV(e.onDisconnect_,Dj(t,n),i)})),AB(0,r,i,a)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}}]),e}(),$B=function(){function e(t,n,r,i){oa(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return ua(e,[{key:"key",get:function(){return Mj(this._path)?null:Pj(this._path)}},{key:"ref",get:function(){return new ZB(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=UV(this._queryParams),t=KF(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return UV(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=ro(t))instanceof e))return!1;var n=this._repo===t._repo,r=jj(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();function YB(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function XB(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Yj){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==zF)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==UF)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===dV){if(null!=t&&!nB(t)||null!=n&&!nB(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(pa(e.getIndex()instanceof _V||e.getIndex()===SV,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function JB(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var ZB=function(e){ea(n,e);var t=ia(n);function n(e,r){return oa(this,n),t.call(this,e,r,new LV,!1)}return ua(n,[{key:"parent",get:function(){var e=Oj(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}($B),eq=function(){function e(t,n,r){oa(this,e),this._node=t,this.ref=n,this._index=r}return ua(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new Cj(t),r=rq(this.ref,t);return new e(this._node.getChild(n),r,dV)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,rq(n.ref,r),dV))}))}},{key:"hasChild",value:function(e){var t=new Cj(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function tq(e,t){return(e=ro(e))._checkNotDeleted("ref"),void 0!==t?rq(e._root,t):e._root}function nq(e,t){(e=ro(e))._checkNotDeleted("refFromURL");var n=qB(t,e._repo.repoInfo_.nodeAdmin);lB("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||FF("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),tq(e,n.path.toString())}function rq(e,t){var n,r,i,a;return null===Tj((e=ro(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),uB(n,r,i,a)):uB("child","path",t,!1),new ZB(e._repo,Dj(e._path,t))}function iq(e,t){e=ro(e),cB("push",e._path),rB("push",t,e._path,!0);var n,r=kB(e._repo),i=CV(r),a=rq(e,i),o=rq(e,i);return n=null!=t?oq(o,t).then((function(){return o})):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function aq(e){return cB("remove",e._path),oq(e,null)}function oq(e,t){e=ro(e),cB("set",e._path),rB("set",t,e._path,!1);var n=new _a;return CB(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function sq(e,t){e=ro(e),cB("setPriority",e._path),oB("setPriority",t,!1);var n=new _a;return CB(e._repo,Dj(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function uq(e,t,n){if(cB("setWithPriority",e._path),rB("setWithPriority",t,e._path,!1),oB("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new _a;return CB(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function cq(e,t){aB("update",t,e._path,!1);var n=new _a;return function(e,t,n,r){PB(e,"update",{path:t.toString(),value:n});var i=!0,a=wB(e),o={};if(GF(n,(function(n,r){i=!1,o[n]=VU(Dj(t,n),wV(r),e.serverSyncTree_,a)})),i)DF("update() called with empty data.  Don't do anything."),AB(0,r,"ok",void 0);else{var s=EB(e),u=yU(e.serverSyncTree_,t,o,s);hB(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||jF("update at "+t+" failed: "+n);var o=gU(e.serverSyncTree_,s,!a),u=o.length>0?LB(e,t):t;pB(e.eventQueue_,u,o),AB(0,r,n,i)})),GF(n,(function(n){var r=UB(e,Dj(t,n));LB(e,r)})),pB(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function lq(e){return function(e,t){var n=xU(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=wV(n).withIndex(t._queryParams.getIndex()),i=bU(e.serverSyncTree_,t._path,r);return dB(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return PB(e,"get for query "+Fa(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=ro(e))._repo,e).then((function(t){return new eq(t,new ZB(e._repo,e._path),e._queryParams.getIndex())}))}var fq=function(){function e(t){oa(this,e),this.callbackContext=t}return ua(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new KB("value",this,new eq(e.snapshotNode,new ZB(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new HB(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),hq=function(){function e(t,n){oa(this,e),this.eventType=t,this.callbackContext=n}return ua(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new HB(this,e,t):null}},{key:"createEvent",value:function(e,t){pa(null!=e.childName,"Child events should have a childName.");var n=rq(new ZB(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new KB(e.type,this,new eq(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function dq(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,s=function(t,n){NB(e._repo,e,c),o(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new GB(n,a||void 0),c="value"===t?new fq(u):new hq(t,u);return function(e,t,n){var r;r=".info"===Tj(t._path)?wU(e.infoSyncTree_,t,n):wU(e.serverSyncTree_,t,n),dB(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return NB(e._repo,e,c)}}function pq(e,t,n,r){return dq(e,"value",t,n,r)}function vq(e,t,n,r){return dq(e,"child_added",t,n,r)}function mq(e,t,n,r){return dq(e,"child_changed",t,n,r)}function yq(e,t,n,r){return dq(e,"child_moved",t,n,r)}function gq(e,t,n,r){return dq(e,"child_removed",t,n,r)}function bq(e,t,n){var r=null,i=n?new GB(n):null;"value"===t?r=new fq(i):t&&(r=new hq(t,i)),NB(e._repo,e,r)}var kq=ua((function e(){oa(this,e)})),wq=function(e){ea(n,e);var t=ia(n);function n(e,r){var i;return oa(this,n),(i=t.call(this))._value=e,i._key=r,i}return ua(n,[{key:"_apply",value:function(e){rB("endAt",this._value,e._path,!0);var t=jV(e._queryParams,this._value,this._key);if(JB(t),XB(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new $B(e._repo,e._path,t,e._orderByCalled)}}]),n}(kq);function _q(e,t){return sB("endAt","key",t,!0),new wq(e,t)}var xq=function(e){ea(n,e);var t=ia(n);function n(e,r){var i;return oa(this,n),(i=t.call(this))._value=e,i._key=r,i}return ua(n,[{key:"_apply",value:function(e){rB("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===Yj?("string"===typeof t&&(t=TV(t)),r=jV(e,t,n)):r=jV(e,t,null==n?zF:TV(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(JB(t),XB(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new $B(e._repo,e._path,t,e._orderByCalled)}}]),n}(kq);function Sq(e,t){return sB("endBefore","key",t,!0),new xq(e,t)}var Eq=function(e){ea(n,e);var t=ia(n);function n(e,r){var i;return oa(this,n),(i=t.call(this))._value=e,i._key=r,i}return ua(n,[{key:"_apply",value:function(e){rB("startAt",this._value,e._path,!0);var t=FV(e._queryParams,this._value,this._key);if(JB(t),XB(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new $B(e._repo,e._path,t,e._orderByCalled)}}]),n}(kq);function Cq(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return sB("startAt","key",t,!0),new Eq(e,t)}var Iq=function(e){ea(n,e);var t=ia(n);function n(e,r){var i;return oa(this,n),(i=t.call(this))._value=e,i._key=r,i}return ua(n,[{key:"_apply",value:function(e){rB("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===Yj?("string"===typeof t&&(t=IV(t)),r=FV(e,t,n)):r=FV(e,t,null==n?UF:IV(n)),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(JB(t),XB(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new $B(e._repo,e._path,t,e._orderByCalled)}}]),n}(kq);function Tq(e,t){return sB("startAfter","key",t,!0),new Iq(e,t)}var Nq=function(e){ea(n,e);var t=ia(n);function n(e){var r;return oa(this,n),(r=t.call(this))._limit=e,r}return ua(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new $B(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(kq);function Rq(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Nq(e)}var Pq=function(e){ea(n,e);var t=ia(n);function n(e){var r;return oa(this,n),(r=t.call(this))._limit=e,r}return ua(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new $B(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(kq);function Aq(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Pq(e)}var Oq=function(e){ea(n,e);var t=ia(n);function n(e){var r;return oa(this,n),(r=t.call(this))._path=e,r}return ua(n,[{key:"_apply",value:function(e){YB(e,"orderByChild");var t=new Cj(this._path);if(Mj(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new _V(t),r=VV(e._queryParams,n);return XB(r),new $B(e._repo,e._path,r,!0)}}]),n}(kq);function Dq(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return uB("orderByChild","path",e,!1),new Oq(e)}var Mq=function(e){ea(n,e);var t=ia(n);function n(){return oa(this,n),t.apply(this,arguments)}return ua(n,[{key:"_apply",value:function(e){YB(e,"orderByKey");var t=VV(e._queryParams,Yj);return XB(t),new $B(e._repo,e._path,t,!0)}}]),n}(kq);function Lq(){return new Mq}var Fq=function(e){ea(n,e);var t=ia(n);function n(){return oa(this,n),t.apply(this,arguments)}return ua(n,[{key:"_apply",value:function(e){YB(e,"orderByPriority");var t=VV(e._queryParams,dV);return XB(t),new $B(e._repo,e._path,t,!0)}}]),n}(kq);function jq(){return new Fq}var Vq=function(e){ea(n,e);var t=ia(n);function n(){return oa(this,n),t.apply(this,arguments)}return ua(n,[{key:"_apply",value:function(e){YB(e,"orderByValue");var t=VV(e._queryParams,SV);return XB(t),new $B(e._repo,e._path,t,!0)}}]),n}(kq);function zq(){return new Vq}var Uq=function(e){ea(n,e);var t=ia(n);function n(e,r){var i;return oa(this,n),(i=t.call(this))._value=e,i._key=r,i}return ua(n,[{key:"_apply",value:function(e){if(rB("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new wq(this._value,this._key)._apply(new Eq(this._value,this._key)._apply(e))}}]),n}(kq);function Bq(e,t){return sB("equalTo","key",t,!0),new Uq(e,t)}function qq(e){for(var t=ro(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];t=s._apply(t)}return t}!function(e){pa(!$z,"__referenceConstructor has already been defined"),$z=e}(ZB),function(e){pa(!nU,"__referenceConstructor has already been defined"),nU=e}(ZB);var Wq={},Kq=!1;function Hq(e,t,n,r){e.repoInfo_=new uj("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function Gq(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||FF("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),DF("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=qB(a,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"/memento",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),c?(o=!0,a="http://".concat(c,"?ns=").concat(u.namespace),u=(s=qB(a,i)).repoInfo):o=!s.repoInfo.secure;var l=i&&o?new rj(rj.OWNER):new nj(e.name,e.options,t);lB("Invalid Firebase Database URL",s),Mj(s.path)||FF("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=Wq[t.name];i||(i={},Wq[t.name]=i);var a=i[e.toURLString()];a&&FF("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new gB(e,Kq,n,r),i[e.toURLString()]=a,a}(u,e,l,new tj(e.name,n));return new Qq(f,e)}var Qq=function(){function e(t,n){oa(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return ua(e,[{key:"_repo",get:function(){return this._instanceStarted||(bB(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new ZB(this._repo,Ij())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=Wq[t];n&&n[e.key]===e||FF("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),RB(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&FF("Cannot call "+e+" on a deleted database.")}}]),e}();function $q(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=ro(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&FF("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&FF('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new rj(rj.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:xa(r.mockUserToken,e.app.options.projectId);a=new rj(o)}Hq(i,t,n,a)}function Yq(e){(e=ro(e))._checkNotDeleted("goOffline"),RB(e._repo)}function Xq(e){var t;(e=ro(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(yB)}function Jq(e,t){OF(e,t)}var Zq={".sv":"timestamp"};var eW=function(){function e(t,n){oa(this,e),this.committed=t,this.snapshot=n}return ua(e,[{key:"toJSON",value:function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}();function tW(e,t,n){var r;if(e=ro(e),cB("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new _a,o=pq(e,(function(){}));return function(e,t,n,r,i,a){PB(e,"transaction on "+t);var o={path:t,update:n,onComplete:r,status:null,order:TF(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=OB(e,t,void 0);o.currentInputSnapshot=s;var u=o.update(s.val());if(void 0===u)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{iB("transaction failed: Data returned ",u,o.path),o.status=0;var c,l=qU(e.transactionQueueTree_,t),f=WU(l)||[];f.push(o),KU(l,f),"object"===typeof u&&null!==u&&Va(u,".priority")?(c=za(u,".priority"),pa(nB(c),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):c=(_U(e.serverSyncTree_,t)||bV.EMPTY_NODE).getPriority().val();var h=wB(e),d=wV(u,c),p=zU(d,s,h);o.currentOutputSnapshotRaw=d,o.currentOutputSnapshotResolved=p,o.currentWriteId=EB(e);var v=mU(e.serverSyncTree_,t,p,o.currentWriteId,o.applyLocally);pB(e.eventQueue_,t,v),DB(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new eq(r,new ZB(e._repo,e._path),dV),a.resolve(new eW(n,i)))}),o,i),a.promise}Kj.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Kj.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){wF(Bo),Mo(new co("database",(function(e,t){var n=t.instanceIdentifier;return Gq(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Qo(gF,bF,e),Qo(gF,bF,"esm2017")}();var nW=new So("@firebase/database-compat"),rW=function(e){var t="FIREBASE WARNING: "+e;nW.warn(t)},iW=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(Za(e,t)+"must be a boolean.")},aW=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Za(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},oW=function(){function e(t){oa(this,e),this._delegate=t}return ua(e,[{key:"cancel",value:function(e){Ja("OnDisconnect.cancel",0,1,arguments.length),eo("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"remove",value:function(e){Ja("OnDisconnect.remove",0,1,arguments.length),eo("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"set",value:function(e,t){Ja("OnDisconnect.set",1,2,arguments.length),eo("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"setWithPriority",value:function(e,t,n){Ja("OnDisconnect.setWithPriority",2,3,arguments.length),eo("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"update",value:function(e,t){if(Ja("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,rW("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}eo("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}}]),e}(),sW=function(){function e(t,n){oa(this,e),this.committed=t,this.snapshot=n}return ua(e,[{key:"toJSON",value:function(){return Ja("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}(),uW=function(){function e(t,n){oa(this,e),this._database=t,this._delegate=n}return ua(e,[{key:"val",value:function(){return Ja("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}},{key:"exportVal",value:function(){return Ja("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}},{key:"toJSON",value:function(){return Ja("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"exists",value:function(){return Ja("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}},{key:"child",value:function(t){return Ja("DataSnapshot.child",0,1,arguments.length),t=String(t),uB("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}},{key:"hasChild",value:function(e){return Ja("DataSnapshot.hasChild",1,1,arguments.length),uB("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}},{key:"getPriority",value:function(){return Ja("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}},{key:"forEach",value:function(t){var n=this;return Ja("DataSnapshot.forEach",1,1,arguments.length),eo("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))}},{key:"hasChildren",value:function(){return Ja("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}},{key:"key",get:function(){return this._delegate.key}},{key:"numChildren",value:function(){return Ja("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}},{key:"getRef",value:function(){return Ja("DataSnapshot.ref",0,0,arguments.length),new lW(this._database,this._delegate.ref)}},{key:"ref",get:function(){return this.getRef()}}]),e}(),cW=function(){function e(t,n){oa(this,e),this.database=t,this._delegate=n}return ua(e,[{key:"on",value:function(t,n,r,i){var a,o=this;Ja("Query.on",2,4,arguments.length),eo("Query.on","callback",n,!1);var s=e.getCancelAndContextArgs_("Query.on",r,i),u=function(e,t){n.call(s.context,new uW(o.database,e),t)};u.userCallback=n,u.context=s.context;var c=null===(a=s.cancel)||void 0===a?void 0:a.bind(s.context);switch(t){case"value":return pq(this._delegate,u,c),n;case"child_added":return vq(this._delegate,u,c),n;case"child_removed":return gq(this._delegate,u,c),n;case"child_changed":return mq(this._delegate,u,c),n;case"child_moved":return yq(this._delegate,u,c),n;default:throw new Error(Za("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}},{key:"off",value:function(e,t,n){if(Ja("Query.off",0,3,arguments.length),aW("Query.off",e,!0),eo("Query.off","callback",t,!0),to("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,bq(this._delegate,e,r)}else bq(this._delegate,e)}},{key:"get",value:function(){var e=this;return lq(this._delegate).then((function(t){return new uW(e.database,t)}))}},{key:"once",value:function(t,n,r,i){var a=this;Ja("Query.once",1,4,arguments.length),eo("Query.once","callback",n,!0);var o=e.getCancelAndContextArgs_("Query.once",r,i),s=new _a,u=function(e,t){var r=new uW(a.database,e);n&&n.call(o.context,r,t),s.resolve(r)};u.userCallback=n,u.context=o.context;var c=function(e){o.cancel&&o.cancel.call(o.context,e),s.reject(e)};switch(t){case"value":pq(this._delegate,u,c,{onlyOnce:!0});break;case"child_added":vq(this._delegate,u,c,{onlyOnce:!0});break;case"child_removed":gq(this._delegate,u,c,{onlyOnce:!0});break;case"child_changed":mq(this._delegate,u,c,{onlyOnce:!0});break;case"child_moved":yq(this._delegate,u,c,{onlyOnce:!0});break;default:throw new Error(Za("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}},{key:"limitToFirst",value:function(t){return Ja("Query.limitToFirst",1,1,arguments.length),new e(this.database,qq(this._delegate,Rq(t)))}},{key:"limitToLast",value:function(t){return Ja("Query.limitToLast",1,1,arguments.length),new e(this.database,qq(this._delegate,Aq(t)))}},{key:"orderByChild",value:function(t){return Ja("Query.orderByChild",1,1,arguments.length),new e(this.database,qq(this._delegate,Dq(t)))}},{key:"orderByKey",value:function(){return Ja("Query.orderByKey",0,0,arguments.length),new e(this.database,qq(this._delegate,Lq()))}},{key:"orderByPriority",value:function(){return Ja("Query.orderByPriority",0,0,arguments.length),new e(this.database,qq(this._delegate,jq()))}},{key:"orderByValue",value:function(){return Ja("Query.orderByValue",0,0,arguments.length),new e(this.database,qq(this._delegate,zq()))}},{key:"startAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Ja("Query.startAt",0,2,arguments.length),new e(this.database,qq(this._delegate,Cq(t,n)))}},{key:"startAfter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Ja("Query.startAfter",0,2,arguments.length),new e(this.database,qq(this._delegate,Tq(t,n)))}},{key:"endAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Ja("Query.endAt",0,2,arguments.length),new e(this.database,qq(this._delegate,_q(t,n)))}},{key:"endBefore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Ja("Query.endBefore",0,2,arguments.length),new e(this.database,qq(this._delegate,Sq(t,n)))}},{key:"equalTo",value:function(t,n){return Ja("Query.equalTo",1,2,arguments.length),new e(this.database,qq(this._delegate,Bq(t,n)))}},{key:"toString",value:function(){return Ja("Query.toString",0,0,arguments.length),this._delegate.toString()}},{key:"toJSON",value:function(){return Ja("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"isEqual",value:function(t){if(Ja("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}},{key:"ref",get:function(){return new lW(this.database,new ZB(this._delegate._repo,this._delegate._path))}}],[{key:"getCancelAndContextArgs_",value:function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,eo(e,"cancel",r.cancel,!0),r.context=n,to(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(Za(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}}]),e}(),lW=function(e){ea(n,e);var t=ia(n);function n(e,r){var i;return oa(this,n),(i=t.call(this,e,new $B(r._repo,r._path,new LV,!1))).database=e,i._delegate=r,i}return ua(n,[{key:"getKey",value:function(){return Ja("Reference.key",0,0,arguments.length),this._delegate.key}},{key:"child",value:function(e){return Ja("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new n(this.database,rq(this._delegate,e))}},{key:"getParent",value:function(){Ja("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new n(this.database,e):null}},{key:"getRoot",value:function(){return Ja("Reference.root",0,0,arguments.length),new n(this.database,this._delegate.root)}},{key:"set",value:function(e,t){Ja("Reference.set",1,2,arguments.length),eo("Reference.set","onComplete",t,!0);var n=oq(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"update",value:function(e,t){if(Ja("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,rW("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}cB("Reference.update",this._delegate._path),eo("Reference.update","onComplete",t,!0);var i=cq(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}},{key:"setWithPriority",value:function(e,t,n){Ja("Reference.setWithPriority",2,3,arguments.length),eo("Reference.setWithPriority","onComplete",n,!0);var r=uq(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"remove",value:function(e){Ja("Reference.remove",0,1,arguments.length),eo("Reference.remove","onComplete",e,!0);var t=aq(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"transaction",value:function(e,t,n){var r=this;Ja("Reference.transaction",1,3,arguments.length),eo("Reference.transaction","transactionUpdate",e,!1),eo("Reference.transaction","onComplete",t,!0),iW("Reference.transaction","applyLocally",n,!0);var i=tW(this._delegate,e,{applyLocally:n}).then((function(e){return new sW(e.committed,new uW(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i}},{key:"setPriority",value:function(e,t){Ja("Reference.setPriority",1,2,arguments.length),eo("Reference.setPriority","onComplete",t,!0);var n=sq(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"push",value:function(e,t){var r=this;Ja("Reference.push",0,2,arguments.length),eo("Reference.push","onComplete",t,!0);var i=iq(this._delegate,e),a=i.then((function(e){return new n(r.database,e)}));t&&a.then((function(){return t(null)}),(function(e){return t(e)}));var o=new n(this.database,i);return o.then=a.then.bind(a),o.catch=a.catch.bind(a,void 0),o}},{key:"onDisconnect",value:function(){return cB("Reference.onDisconnect",this._delegate._path),new oW(new QB(this._delegate._repo,this._delegate._path))}},{key:"key",get:function(){return this.getKey()}},{key:"parent",get:function(){return this.getParent()}},{key:"root",get:function(){return this.getRoot()}}]),n}(cW),fW=function(){function e(t,n){var r=this;oa(this,e),this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return ua(e,[{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};$q(this._delegate,e,t,n)}},{key:"ref",value:function(e){if(Ja("database.ref",0,1,arguments.length),e instanceof lW){var t=nq(this._delegate,e.toString());return new lW(this,t)}var n=tq(this._delegate,e);return new lW(this,n)}},{key:"refFromURL",value:function(e){var t="database.refFromURL";Ja(t,1,1,arguments.length);var n=nq(this._delegate,e);return new lW(this,n)}},{key:"goOffline",value:function(){return Ja("database.goOffline",0,0,arguments.length),Yq(this._delegate)}},{key:"goOnline",value:function(){return Ja("database.goOnline",0,0,arguments.length),Xq(this._delegate)}}]),e}();fW.ServerValue={TIMESTAMP:Zq,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}};var hW=Object.freeze({__proto__:null,initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,a=e.namespace,o=e.nodeAdmin,s=void 0!==o&&o;wF(r);var u=new fo("auth-internal",new mo("database-standalone"));return u.setComponent(new co("auth-internal",(function(){return i}),"PRIVATE")),{instance:new fW(Gq(t,u,void 0,n,s),t),namespace:a}}}),dW=fW.ServerValue;!function(e){e.INTERNAL.registerComponent(new co("database-compat",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new fW(i,r)}),"PUBLIC").setServiceProps({Reference:lW,Query:cW,Database:fW,DataSnapshot:uW,enableLogging:Jq,INTERNAL:hW,ServerValue:dW}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","0.1.7")}(qk);var pW=qk.initializeApp({apiKey:"AIzaSyBRkRPB2sbw7Z2G3LzsRtl5ExkQyG1SlbA",authDomain:"memento-c73cc.firebaseapp.com",databaseURL:"https://memento-c73cc-default-rtdb.firebaseio.com",projectId:"memento-c73cc",storageBucket:"memento-c73cc.appspot.com",messagingSenderId:"303380494144",appId:"1:303380494144:web:c19bc4954d6425645e2ca5",measurementId:"G-PVE1S8JEEQ"}),vW=qk.database(),mW=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wo(),t=Lo(e,"auth");return t.isInitialized()?t.getImmediate():Is(e,{popupRedirectResolver:rf,persistence:[nl,Pc,Oc]})}(pW);function yW(e){var n=e.quotes,r=e.setQuotes,i=c((0,t.useState)(),2),a=i[0],o=i[1],s=c((0,t.useState)(),2),u=s[0],l=s[1];return(0,di.jsx)(vg,hf(hf({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:(0,di.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;return Math.random().toString(20).substr(2,e)}();vW.ref("Chris/quotes/"+t).set({quote:a,author:u}).catch(alert),r([].concat(g(n),[{quote:a,author:u}])),o(""),l("")},children:[(0,di.jsx)(vg.Header,{closeButton:!0,children:(0,di.jsx)(vg.Title,{id:"contained-modal-title-vcenter",children:"Write an Idea"})}),(0,di.jsxs)(vg.Body,{children:[(0,di.jsx)(kk,{fullWidth:!0,required:!0,multiline:!0,rows:4,id:"inputQuote",type:"text",placeholder:'"Ill be back"',name:"quoteInput",label:"Quote",value:a,onChange:function(e){return o(e.target.value)}}),(0,di.jsx)(kk,{className:"mt-3",id:"Author",label:"Author",placeholder:"Marcus Aurelius",value:u,onChange:function(e){return l(e.target.value)}})]}),(0,di.jsx)(vg.Footer,{children:(0,di.jsxs)(Ek,{spacing:1,direction:"row",children:[(0,di.jsx)(Lk,{variant:"outlined",onClick:e.onHide,children:"Cancel"}),(0,di.jsx)(Lk,{variant:"contained",onClick:e.onHide,type:"submit",children:"Save"})]})})]})}))}var gW=function(e,t){return p({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&{colorScheme:e.palette.mode})},bW=function(e){return p({color:e.palette.text.primary},e.typography.body1,{backgroundColor:e.palette.background.default,"@media print":{backgroundColor:e.palette.common.white}})};var kW=function(e){var n=Lr({props:e,name:"MuiCssBaseline"}),r=n.children,i=n.enableColorScheme,a=void 0!==i&&i;return(0,di.jsxs)(t.Fragment,{children:[(0,di.jsx)(Tg,{styles:function(e){return function(e){var t,n,r={html:gW(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1]),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:p({margin:0},bW(e),{"&::backdrop":{backgroundColor:e.palette.background.default}})},i=null==(t=e.components)||null==(n=t.MuiCssBaseline)?void 0:n.styleOverrides;return i&&(r=[r,i]),r}(e,a)}}),r]})},wW=Ym((0,di.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function _W(e){return gi("MuiAvatar",e)}bi("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var xW=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],SW=Ir("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme,n=e.ownerState;return p({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===n.variant&&{borderRadius:t.shape.borderRadius},"square"===n.variant&&{borderRadius:0},n.colorDefault&&{color:t.palette.background.default,backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]})})),EW=Ir("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),CW=Ir(wW,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var IW=t.forwardRef((function(e,n){var r=Lr({props:e,name:"MuiAvatar"}),i=r.alt,a=r.children,o=r.className,s=r.component,u=void 0===s?"div":s,l=r.imgProps,f=r.sizes,h=r.src,v=r.srcSet,g=r.variant,b=void 0===g?"circular":g,k=d(r,xW),w=null,_=function(e){var n=e.crossOrigin,r=e.referrerPolicy,i=e.src,a=e.srcSet,o=c(t.useState(!1),2),s=o[0],u=o[1];return t.useEffect((function(){if(i||a){u(!1);var e=!0,t=new Image;return t.onload=function(){e&&u("loaded")},t.onerror=function(){e&&u("error")},t.crossOrigin=n,t.referrerPolicy=r,t.src=i,a&&(t.srcset=a),function(){e=!1}}}),[n,r,i,a]),s}(p({},l,{src:h,srcSet:v})),x=h||v,S=x&&"error"!==_,E=p({},r,{colorDefault:!S,component:u,variant:b}),C=function(e){var t=e.classes;return y({root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]},_W,t)}(E);return w=S?(0,di.jsx)(EW,p({alt:i,src:h,srcSet:v,sizes:f,ownerState:E,className:C.img},l)):null!=a?a:x&&i?i[0]:(0,di.jsx)(CW,{className:C.fallback}),(0,di.jsx)(SW,p({as:u,ownerState:E,className:m(C.root,o),ref:n},k,{children:w}))})),TW=IW;var NW=t.createContext();function RW(e){return gi("MuiGrid",e)}var PW=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],AW=bi("MuiGrid",["root","container","item","zeroMinWidth"].concat(g([0,1,2,3,4,5,6,7,8,9,10].map((function(e){return"spacing-xs-".concat(e)}))),g(["column-reverse","column","row-reverse","row"].map((function(e){return"direction-xs-".concat(e)}))),g(["nowrap","wrap-reverse","wrap"].map((function(e){return"wrap-xs-".concat(e)}))),g(PW.map((function(e){return"grid-xs-".concat(e)}))),g(PW.map((function(e){return"grid-sm-".concat(e)}))),g(PW.map((function(e){return"grid-md-".concat(e)}))),g(PW.map((function(e){return"grid-lg-".concat(e)}))),g(PW.map((function(e){return"grid-xl-".concat(e)}))))),OW=AW,DW=["className","columns","columnSpacing","component","container","direction","item","lg","md","rowSpacing","sm","spacing","wrap","xl","xs","zeroMinWidth"];function MW(e){var t=parseFloat(e);return"".concat(t).concat(String(e).replace(String(t),"")||"px")}function LW(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t||!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n["spacing-xs-".concat(String(e))]||"spacing-xs-".concat(String(e))];var r=e.xs,i=e.sm,a=e.md,o=e.lg,s=e.xl;return[Number(r)>0&&(n["spacing-xs-".concat(String(r))]||"spacing-xs-".concat(String(r))),Number(i)>0&&(n["spacing-sm-".concat(String(i))]||"spacing-sm-".concat(String(i))),Number(a)>0&&(n["spacing-md-".concat(String(a))]||"spacing-md-".concat(String(a))),Number(o)>0&&(n["spacing-lg-".concat(String(o))]||"spacing-lg-".concat(String(o))),Number(s)>0&&(n["spacing-xl-".concat(String(s))]||"spacing-xl-".concat(String(s)))]}var FW=Ir("div",{name:"MuiGrid",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,r=n.container,i=n.direction,a=n.item,o=n.lg,s=n.md,u=n.sm,c=n.spacing,l=n.wrap,f=n.xl,h=n.xs,d=n.zeroMinWidth;return[t.root,r&&t.container,a&&t.item,d&&t.zeroMinWidth].concat(g(LW(c,r,t)),["row"!==i&&t["direction-xs-".concat(String(i))],"wrap"!==l&&t["wrap-xs-".concat(String(l))],!1!==h&&t["grid-xs-".concat(String(h))],!1!==u&&t["grid-sm-".concat(String(u))],!1!==s&&t["grid-md-".concat(String(s))],!1!==o&&t["grid-lg-".concat(String(o))],!1!==f&&t["grid-xl-".concat(String(f))]])}})((function(e){var t=e.ownerState;return p({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){var t=e.theme;return at({theme:t},ut({values:e.ownerState.direction,breakpoints:t.breakpoints.values}),(function(e){var t={flexDirection:e};return 0===e.indexOf("column")&&(t["& > .".concat(OW.item)]={maxWidth:"none"}),t}))}),(function(e){var t=e.theme,n=e.ownerState,r=n.container,i=n.rowSpacing,a={};if(r&&0!==i){var o=ut({values:i,breakpoints:t.breakpoints.values});a=at({theme:t},o,(function(e){var n=t.spacing(e);return"0px"!==n?h({marginTop:"-".concat(MW(n))},"& > .".concat(OW.item),{paddingTop:MW(n)}):{}}))}return a}),(function(e){var t=e.theme,n=e.ownerState,r=n.container,i=n.columnSpacing,a={};if(r&&0!==i){var o=ut({values:i,breakpoints:t.breakpoints.values});a=at({theme:t},o,(function(e){var n=t.spacing(e);return"0px"!==n?h({width:"calc(100% + ".concat(MW(n),")"),marginLeft:"-".concat(MW(n))},"& > .".concat(OW.item),{paddingLeft:MW(n)}):{}}))}return a}),(function(e){var t,n=e.theme,r=e.ownerState;return n.breakpoints.keys.reduce((function(e,i){var a={};if(r[i]&&(t=r[i]),!t)return e;if(!0===t)a={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{var o=ut({values:r.columns,breakpoints:n.breakpoints.values}),s="object"===typeof o?o[i]:o;if(void 0===s||null===s)return e;var u="".concat(Math.round(t/s*1e8)/1e6,"%"),c={};if(r.container&&r.item&&0!==r.columnSpacing){var l=n.spacing(r.columnSpacing);if("0px"!==l){var f="calc(".concat(u," + ").concat(MW(l),")");c={flexBasis:f,maxWidth:f}}}a=p({flexBasis:u,flexGrow:0,maxWidth:u},c)}return 0===n.breakpoints.values[i]?Object.assign(e,a):e[n.breakpoints.up(i)]=a,e}),{})})),jW=t.forwardRef((function(e,n){var r=Vp(Lr({props:e,name:"MuiGrid"})),i=r.className,a=r.columns,o=r.columnSpacing,s=r.component,u=void 0===s?"div":s,c=r.container,l=void 0!==c&&c,f=r.direction,h=void 0===f?"row":f,v=r.item,b=void 0!==v&&v,k=r.lg,w=void 0!==k&&k,_=r.md,x=void 0!==_&&_,S=r.rowSpacing,E=r.sm,C=void 0!==E&&E,I=r.spacing,T=void 0===I?0:I,N=r.wrap,R=void 0===N?"wrap":N,P=r.xl,A=void 0!==P&&P,O=r.xs,D=void 0!==O&&O,M=r.zeroMinWidth,L=void 0!==M&&M,F=d(r,DW),j=S||T,V=o||T,z=t.useContext(NW),U=l?a||12:z,B=p({},r,{columns:U,container:l,direction:h,item:b,lg:w,md:x,sm:C,rowSpacing:j,columnSpacing:V,wrap:R,xl:A,xs:D,zeroMinWidth:L}),q=function(e){var t=e.classes,n=e.container,r=e.direction,i=e.item,a=e.lg,o=e.md,s=e.sm,u=e.spacing,c=e.wrap,l=e.xl,f=e.xs;return y({root:["root",n&&"container",i&&"item",e.zeroMinWidth&&"zeroMinWidth"].concat(g(LW(u,n)),["row"!==r&&"direction-xs-".concat(String(r)),"wrap"!==c&&"wrap-xs-".concat(String(c)),!1!==f&&"grid-xs-".concat(String(f)),!1!==s&&"grid-sm-".concat(String(s)),!1!==o&&"grid-md-".concat(String(o)),!1!==a&&"grid-lg-".concat(String(a)),!1!==l&&"grid-xl-".concat(String(l))])},RW,t)}(B);return(0,di.jsx)(NW.Provider,{value:U,children:(0,di.jsx)(FW,p({ownerState:B,className:m(q.root,i),as:u,ref:n},F))})})),VW=jW;function zW(e){return gi("MuiLink",e)}var UW=bi("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),BW=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],qW={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},WW=Ir(Wm,{name:"MuiLink",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["underline".concat(Wi(n.underline))],"button"===n.component&&t.button]}})((function(e){var t=e.theme,n=e.ownerState,r=ft(t,"palette.".concat(function(e){return qW[e]||e}(n.color)))||n.color;return p({},"none"===n.underline&&{textDecoration:"none"},"hover"===n.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===n.underline&&{textDecoration:"underline",textDecorationColor:"inherit"!==r?Kn(r,.4):void 0,"&:hover":{textDecorationColor:"inherit"}},"button"===n.component&&h({position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(UW.focusVisible),{outline:"auto"}))})),KW=t.forwardRef((function(e,n){var r=xv(),i=Lr({props:e,name:"MuiLink"}),a=i.className,o=i.color,s=void 0===o?"primary":o,u=i.component,l=void 0===u?"a":u,f=i.onBlur,h=i.onFocus,v=i.TypographyClasses,b=i.underline,k=void 0===b?"always":b,w=i.variant,_=void 0===w?"inherit":w,x=i.sx,S=d(i,BW),E=Xr(),C=E.isFocusVisibleRef,I=E.onBlur,T=E.onFocus,N=E.ref,R=c(t.useState(!1),2),P=R[0],A=R[1],O=Vr(n,N),D=p({},i,{color:("function"===typeof x?x(r).color:null==x?void 0:x.color)||s,component:l,focusVisible:P,underline:k,variant:_}),M=function(e){var t=e.classes,n=e.component,r=e.focusVisible,i=e.underline;return y({root:["root","underline".concat(Wi(i)),"button"===n&&"button",r&&"focusVisible"]},zW,t)}(D);return(0,di.jsx)(WW,p({className:m(M.root,a),classes:v,component:l,onBlur:function(e){I(e),!1===C.current&&A(!1),f&&f(e)},onFocus:function(e){T(e),!0===C.current&&A(!0),h&&h(e)},ref:O,ownerState:D,variant:_,sx:[{color:qW[s]||s}].concat(g(Array.isArray(x)?x:[x]))},S))})),HW=KW,GW=Ym((0,di.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}),"LockOutlined");function QW(e){var t=e.login,n=e.setEmail,r=e.setPassword,i=e.user,a=Py(),o=_r();return(0,di.jsxs)(ny,{theme:o,children:[(0,di.jsxs)(wf,{component:"main",maxWidth:"xs",children:[(0,di.jsx)(kW,{}),(0,di.jsxs)(Bp,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,di.jsx)(TW,{sx:{m:1,bgcolor:"secondary.main"},children:(0,di.jsx)(GW,{})}),(0,di.jsx)(Wm,{component:"h1",variant:"h5",children:"Sign in"}),(0,di.jsxs)(Bp,{component:"form",onSubmit:function(e){e.preventDefault(),t(),a("../feed")},noValidate:!0,sx:{mt:1},children:[(0,di.jsx)(kk,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){n(e.target.value)},autoFocus:!0}),(0,di.jsx)(kk,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){r(e.target.value)}}),(0,di.jsx)(Lk,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),(0,di.jsx)(VW,{container:!0,children:(0,di.jsx)(VW,{item:!0,children:(0,di.jsx)(HW,{href:"../register",variant:"body2",children:"Don't have an account? Sign Up"})})})]})]})]}),(0,di.jsx)("h4",{children:null===i||void 0===i?void 0:i.email})]})}var $W=Ym((0,di.jsx)("path",{d:"M13 8c0-2.21-1.79-4-4-4S5 5.79 5 8s1.79 4 4 4 4-1.79 4-4zm-2 0c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zM1 18v2h16v-2c0-2.66-5.33-4-8-4s-8 1.34-8 4zm2 0c.2-.71 3.3-2 6-2 2.69 0 5.78 1.28 6 2H3zm17-3v-3h3v-2h-3V7h-2v3h-3v2h3v3h2z"}),"PersonAddAlt1Outlined");function YW(e){var t=e.register,n=e.setEmail,r=e.setPassword,i=e.user,a=Py(),o=_r();return(0,di.jsxs)(ny,{theme:o,children:[(0,di.jsxs)(wf,{component:"main",maxWidth:"xs",children:[(0,di.jsx)(kW,{}),(0,di.jsxs)(Bp,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,di.jsx)(TW,{sx:{m:1,bgcolor:"secondary.main"},children:(0,di.jsx)($W,{})}),(0,di.jsx)(Wm,{component:"h1",variant:"h5",children:"Register"}),(0,di.jsxs)(Bp,{component:"form",onSubmit:function(e){e.preventDefault(),t(),a("../feed")},noValidate:!0,sx:{mt:1},children:[(0,di.jsx)(kk,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){n(e.target.value)},autoFocus:!0}),(0,di.jsx)(kk,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){r(e.target.value)}}),(0,di.jsx)(Lk,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),(0,di.jsx)(VW,{container:!0,children:(0,di.jsx)(VW,{item:!0,children:(0,di.jsx)(HW,{href:"../login",variant:"body2",children:"Already have an account? Sign In"})})})]})]})]}),(0,di.jsx)("h4",{children:null===i||void 0===i?void 0:i.email})]})}function XW(){var e=_r();return(0,di.jsxs)(ny,{theme:e,children:[(0,di.jsx)(kW,{}),(0,di.jsx)(Bp,{sx:{bgcolor:"background.paper",pt:8,pb:6},children:(0,di.jsxs)(wf,{maxWidth:"sm",children:[(0,di.jsx)(Wm,{component:"h1",variant:"h2",align:"center",color:"text.primary",gutterBottom:!0,children:"Memento"}),(0,di.jsx)(Wm,{variant:"h5",align:"center",color:"text.secondary",paragraph:!0,children:"A place to store your ideas, quotes, and other fundamental concepts you can implement into your daily life."}),(0,di.jsxs)(Ek,{sx:{pt:4},direction:"row",spacing:2,justifyContent:"center",children:[(0,di.jsx)(Lk,{variant:"contained",href:"feed",children:"Go to feed"}),(0,di.jsx)(Lk,{variant:"outlined",children:"Secondary action"})]})]})})]})}var JW=function(){var e=c((0,t.useState)(!1),2),n=e[0],r=e[1],i=c((0,t.useState)(""),2),a=i[0],s=i[1],u=c((0,t.useState)(""),2),l=u[0],h=u[1],d=c((0,t.useState)({}),2),p=d[0],v=d[1],m=c((0,t.useState)([{quote:"The quality of your life depends on the quality of your thoughts.",author:"Marcus Aurelius"},{quote:"Don't just explain your philosophy, embody it",author:"Epictetus"}]),2),y=m[0],g=m[1],b=Ry();!function(e,t,n,r){ro(e).onAuthStateChanged(t,n,r)}(mW,(function(e){v(e)}));var k=function(){var e=o(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xc(mW,a,l);case 3:t=e.sent,console.log(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=o(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ec(mW,a,l);case 3:t=e.sent,console.log(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cc(mW);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,di.jsxs)("div",{className:"App",children:[(0,di.jsx)(Wy,{login:function(){return w()},logout:function(){return _()},register:function(){return k()},user:p,location:b}),(0,di.jsxs)(Ly,{children:[(0,di.jsx)(Dy,{path:"/",element:(0,di.jsx)(XW,{})}),(0,di.jsx)(Dy,{path:"feed",element:(0,di.jsx)(Qf,{quotes:y})}),(0,di.jsx)(Dy,{path:"login",element:(0,di.jsx)(QW,{login:function(){return w()},setEmail:s,setPassword:h,user:p})}),(0,di.jsx)(Dy,{path:"register",element:(0,di.jsx)(YW,{register:function(){return k()},setEmail:s,setPassword:h,user:p})})]}),(0,di.jsx)(Yi,{className:"FixedButton",color:"primary",onClick:function(){return r(!0)},children:(0,di.jsx)(Zy,{style:{height:"1.5rem"}})}),(0,di.jsx)(yW,{show:n,onHide:function(){return r(!1)},quotes:y,setQuotes:g})]})},ZW=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.render((0,di.jsx)(t.StrictMode,{children:(0,di.jsx)(Uy,{children:(0,di.jsx)(JW,{})})}),document.getElementById("root")),ZW()}()}();
//# sourceMappingURL=main.c2fcae4f.js.map