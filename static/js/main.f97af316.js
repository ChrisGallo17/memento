/*! For license information please see main.f97af316.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var u in n)r.call(n,u)&&n[u]&&e.push(u);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||w(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===b||e.$$typeof===k||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,u],l=0;(s=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}return(0,a.default)(r)};var r,i=n(54),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},54:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,a,o){var u=i||"<<anonymous>>",s=o||r;if(null==n[r])return t?new Error("Required "+a+" `"+s+"` was not specified in `"+u+"`."):null;for(var c=arguments.length,l=Array(c>6?c-6:0),f=6;f<c;f++)l[f-6]=arguments[f];return e.apply(void 0,[n,r,u,a,s].concat(l))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),I=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,F=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case E:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Se=null;function Ee(e){if(e=mi(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=gi(t),_e(e.stateNode,e.type,t))}}function Ce(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Ie(){if(xe){var e=xe,t=Se;if(Se=xe=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Te(e,t){return e(t)}function Ne(){}var Re=!1;function Pe(e,t,n){if(Re)return e(t,n);Re=!0;try{return Te(e,t,n)}finally{Re=!1,(null!==xe||null!==Se)&&(Ne(),Ie())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=gi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Oe=!1}function Me(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Fe=null,je=!1,Ve=null,Ue={onError:function(e){Le=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Le=!1,Fe=null,Me.apply(Ue,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(qe(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var gt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,wt,_t,xt,St,Et=!1,Ct=[],It=null,Tt=null,Nt=null,Rt=new Map,Pt=new Map,At=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=mi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=vi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void St(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=mi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function jt(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Et=!1,null!==It&&Ft(It)&&(It=null),null!==Tt&&Ft(Tt)&&(Tt=null),null!==Nt&&Ft(Nt)&&(Nt=null),Rt.forEach(jt),Pt.forEach(jt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Ut(t,e)}if(0<Ct.length){Ut(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Ut(It,e),null!==Tt&&Ut(Tt,e),null!==Nt&&Ut(Nt,e),Rt.forEach(t),Pt.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Lt(n),null===n.blockedOn&&At.shift()}var qt=k.ReactCurrentBatchConfig;function Bt(e,t,n,r){var i=gt,a=qt.transition;qt.transition=null;try{gt=1,Kt(e,t,n,r)}finally{gt=i,qt.transition=a}}function Wt(e,t,n,r){var i=gt,a=qt.transition;qt.transition=null;try{gt=4,Kt(e,t,n,r)}finally{gt=i,qt.transition=a}}function Kt(e,t,n,r){var i=Gt(e,t,n,r);if(null===i)qr(e,t,r,Ht,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Mt(It,e,t,n,r,i),!0;case"dragenter":return Tt=Mt(Tt,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=mi(i);if(null!==a&&kt(a),null===(a=Gt(e,t,n,r))&&qr(e,t,r,Ht,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}var Ht=null;function Gt(e,t,n,r){if(Ht=null,null!==(e=vi(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ht=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Yt=null,Xt=null;function Jt(){if(Xt)return Xt;var e,t,n=Yt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function Zt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?en:tn,this.isPropagationStopped=tn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var rn,an,on,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=nn(un),cn=F({},un,{view:0,detail:0}),ln=nn(cn),fn=F({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(rn=e.screenX-on.screenX,an=e.screenY-on.screenY):an=rn=0,on=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),hn=nn(fn),dn=nn(F({},fn,{dataTransfer:0})),pn=nn(F({},cn,{relatedTarget:0})),vn=nn(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=nn(mn),gn=nn(F({},un,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function xn(){return _n}var Sn=F({},cn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Zt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?Zt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Zt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=nn(Sn),Cn=nn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=nn(F({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),Tn=nn(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=nn(Nn),Pn=[9,13,27,32],An=l&&"CompositionEvent"in window,On=null;l&&"documentMode"in document&&(On=document.documentMode);var Dn=l&&"TextEvent"in window&&!On,Mn=l&&(!An||On&&8<On&&11>=On),Ln=String.fromCharCode(32),Fn=!1;function jn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Bn(e,t,n,r){Ce(r),0<(t=Wr(t,"onChange")).length&&(n=new sn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Hn(e){Lr(e,0)}function Gn(e){if(G(yi(e)))return e}function Qn(e,t){if("change"===e)return t}var $n=!1;if(l){var Yn;if(l){var Xn="oninput"in document;if(!Xn){var Jn=document.createElement("div");Jn.setAttribute("oninput","return;"),Xn="function"===typeof Jn.oninput}Yn=Xn}else Yn=!1;$n=Yn&&(!document.documentMode||9<document.documentMode)}function Zn(){Wn&&(Wn.detachEvent("onpropertychange",er),Kn=Wn=null)}function er(e){if("value"===e.propertyName&&Gn(Kn)){var t=[];Bn(t,Kn,e,we(e)),Pe(Hn,t)}}function tr(e,t,n){"focusin"===e?(Zn(),Kn=n,(Wn=t).attachEvent("onpropertychange",er)):"focusout"===e&&Zn()}function nr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Kn)}function rr(e,t){if("click"===e)return Gn(t)}function ir(e,t){if("input"===e||"change"===e)return Gn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function cr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?cr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function lr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=lr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=sr(n,a);var o=sr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dr=l&&"documentMode"in document&&11>=document.documentMode,pr=null,vr=null,mr=null,yr=!1;function gr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==pr||pr!==Q(r)||("selectionStart"in(r=pr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&or(mr,r)||(mr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new sn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},wr={},_r={};function xr(e){if(wr[e])return wr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return wr[e]=n[t];return e}l&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Sr=xr("animationend"),Er=xr("animationiteration"),Cr=xr("animationstart"),Ir=xr("transitionend"),Tr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Tr.set(e,t),s(t,[e])}for(var Pr=0;Pr<Nr.length;Pr++){var Ar=Nr[Pr];Rr(Ar.toLowerCase(),"on"+(Ar[0].toUpperCase()+Ar.slice(1)))}Rr(Sr,"onAnimationEnd"),Rr(Er,"onAnimationIteration"),Rr(Cr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Fe;Le=!1,Fe=null,je||(je=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function Lr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Mr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Mr(i,u,c),a=s}}}if(je)throw e=Ve,je=!1,Ve=null,e}function Fr(e,t){var n=t[hi];void 0===n&&(n=t[hi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,jr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Qt(t)){case 1:var i=Bt;break;case 4:i=Wt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=vi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Pe((function(){var r=a,i=we(n),o=[];e:{var u=Tr.get(e);if(void 0!==u){var s=sn,c=e;switch(e){case"keypress":if(0===Zt(n))break e;case"keydown":case"keyup":s=En;break;case"focusin":c="focus",s=pn;break;case"focusout":c="blur",s=pn;break;case"beforeblur":case"afterblur":s=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=In;break;case Sr:case Er:case Cr:s=vn;break;case Ir:s=Tn;break;case"scroll":s=ln;break;case"wheel":s=Rn;break;case"copy":case"cut":case"paste":s=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ae(p,h))&&l.push(Br(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[fi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(f=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=hn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:yi(s),d=null==c?u:yi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,vi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Kr(l),h=Kr(h)}l=null}else l=null;null!==s&&Hr(o,u,s,l,!1),null!==c&&null!==f&&Hr(o,f,c,l,!0)}if("select"===(s=(u=r?yi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Qn;else if(qn(u))if($n)m=ir;else{m=nr;var y=tr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=rr);switch(m&&(m=m(e,r))?Bn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?yi(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(pr=y,vr=r,mr=null);break;case"focusout":mr=vr=pr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,gr(o,n,i);break;case"selectionchange":if(dr)break;case"keydown":case"keyup":gr(o,n,i)}var g;if(An)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?jn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(g=Jt()):(Yt="value"in($t=i)?$t.value:$t.textContent,Un=!0)),0<(y=Wr(r,b)).length&&(b=new gn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=Vn(n))&&(b.data=g))),(g=Dn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Ln);case"textInput":return(e=t.data)===Ln&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!An&&jn(e,t)?(e=Jt(),Xt=Yt=$t=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new gn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Lr(o,t)}))}function Br(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ae(e,n))&&r.unshift(Br(e,a,i)),null!=(a=Ae(e,t))&&r.push(Br(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Hr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ae(n,a))&&o.unshift(Br(n,s,u)):i||null!=(s=Ae(n,a))&&o.push(Br(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Gr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Gr,"\n").replace(Qr,"")}function Yr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(a(425))}function Xr(){}var Jr=null;function Zr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ei="function"===typeof setTimeout?setTimeout:void 0,ti="function"===typeof clearTimeout?clearTimeout:void 0,ni="function"===typeof Promise?Promise:void 0,ri="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ni?function(e){return ni.resolve(null).then(e).catch(ii)}:ei;function ii(e){setTimeout((function(){throw e}))}function ai(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function oi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var si=Math.random().toString(36).slice(2),ci="__reactFiber$"+si,li="__reactProps$"+si,fi="__reactContainer$"+si,hi="__reactEvents$"+si,di="__reactListeners$"+si,pi="__reactHandles$"+si;function vi(e){var t=e[ci];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[ci]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[ci])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function mi(e){return!(e=e[ci]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function gi(e){return e[li]||null}var bi=[],ki=-1;function wi(e){return{current:e}}function _i(e){0>ki||(e.current=bi[ki],bi[ki]=null,ki--)}function xi(e,t){ki++,bi[ki]=e.current,e.current=t}var Si={},Ei=wi(Si),Ci=wi(!1),Ii=Si;function Ti(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){_i(Ci),_i(Ei)}function Pi(e,t,n){if(Ei.current!==Si)throw Error(a(168));xi(Ei,t),xi(Ci,n)}function Ai(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,B(e)||"Unknown",i));return F({},n,r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ii=Ei.current,xi(Ei,e),xi(Ci,Ci.current),!0}function Di(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ai(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,_i(Ci),_i(Ei),xi(Ei,e)):_i(Ci),xi(Ci,n)}var Mi=null,Li=!1,Fi=!1;function ji(e){null===Mi?Mi=[e]:Mi.push(e)}function Vi(){if(!Fi&&null!==Mi){Fi=!0;var e=0,t=gt;try{var n=Mi;for(gt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Mi=null,Li=!1}catch(i){throw null!==Mi&&(Mi=Mi.slice(e+1)),Ge(Ze,Vi),i}finally{gt=t,Fi=!1}}return null}var Ui=k.ReactCurrentBatchConfig;function zi(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var qi=wi(null),Bi=null,Wi=null,Ki=null;function Hi(){Ki=Wi=Bi=null}function Gi(e){var t=qi.current;_i(qi),e._currentValue=t}function Qi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $i(e,t){Bi=e,Ki=Wi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yu=!0),e.firstContext=null)}function Yi(e){var t=e._currentValue;if(Ki!==e)if(e={context:e,memoizedValue:t,next:null},null===Wi){if(null===Bi)throw Error(a(308));Wi=e,Bi.dependencies={lanes:0,firstContext:e}}else Wi=Wi.next=e;return t}var Xi=null,Ji=!1;function Zi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ea(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ta(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function na(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==gs&&0!==(1&e.mode)&&0===(2&ys)?(null===(e=n.interleaved)?(t.next=t,null===Xi?Xi=[n]:Xi.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function ia(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function aa(e,t,n,r){var i=e.updateQueue;Ji=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Ji=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Es|=o,e.lanes=o,e.memoizedState=f}}function oa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ua=(new r.Component).refs;function sa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ca={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=qs(),i=Bs(e),a=ta(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Ws(e,i,r))&&ra(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=qs(),i=Bs(e),a=ta(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Ws(e,i,r))&&ra(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qs(),r=Bs(e),i=ta(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),na(e,i),null!==(t=Ws(e,r,n))&&ra(t,e,r)}};function la(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(i,a))}function fa(e,t,n){var r=!1,i=Si,a=t.contextType;return"object"===typeof a&&null!==a?a=Yi(a):(i=Ni(t)?Ii:Ei.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ti(e,i):Si),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ca,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ca.enqueueReplaceState(t,t.state,null)}function da(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ua,Zi(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Yi(a):(a=Ni(t)?Ii:Ei.current,i.context=Ti(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(sa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ca.enqueueReplaceState(i,i.state,null),aa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var pa=[],va=0,ma=null,ya=0,ga=[],ba=0,ka=null,wa=1,_a="";function xa(e,t){pa[va++]=ya,pa[va++]=ma,ma=e,ya=t}function Sa(e,t,n){ga[ba++]=wa,ga[ba++]=_a,ga[ba++]=ka,ka=e;var r=wa;e=_a;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,wa=1<<32-ot(t)+i|n<<i|r,_a=a+e}else wa=1<<a|n<<i|r,_a=e}function Ea(e){null!==e.return&&(xa(e,1),Sa(e,1,0))}function Ca(e){for(;e===ma;)ma=pa[--va],pa[va]=null,ya=pa[--va],pa[va]=null;for(;e===ka;)ka=ga[--ba],ga[ba]=null,_a=ga[--ba],ga[ba]=null,wa=ga[--ba],ga[ba]=null}var Ia=null,Ta=null,Na=!1,Ra=null;function Pa(e,t){var n=kc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Aa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ia=e,Ta=oi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ia=e,Ta=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==ka?{id:wa,overflow:_a}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=kc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ia=e,Ta=null,!0);default:return!1}}function Oa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Da(e){if(Na){var t=Ta;if(t){var n=t;if(!Aa(e,t)){if(Oa(e))throw Error(a(418));t=oi(n.nextSibling);var r=Ia;t&&Aa(e,t)?Pa(r,n):(e.flags=-4097&e.flags|2,Na=!1,Ia=e)}}else{if(Oa(e))throw Error(a(418));e.flags=-4097&e.flags|2,Na=!1,Ia=e}}}function Ma(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ia=e}function La(e){if(e!==Ia)return!1;if(!Na)return Ma(e),Na=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Zr(e.type,e.memoizedProps)),t&&(t=Ta)){if(Oa(e)){for(e=Ta;e;)e=oi(e.nextSibling);throw Error(a(418))}for(;t;)Pa(e,t),t=oi(t.nextSibling)}if(Ma(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ta=oi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ta=null}}else Ta=Ia?oi(e.stateNode.nextSibling):null;return!0}function Fa(){Ta=Ia=null,Na=!1}function ja(e){null===Ra?Ra=[e]:Ra.push(e)}function Va(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ua(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function za(e){return(0,e._init)(e._payload)}function qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=_c(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Cc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===A&&za(a)===t.type)?((r=i(t,n.props)).ref=Va(e,t,n),r.return=e,r):((r=xc(n.type,n.key,n.props,null,e.mode,r)).ref=Va(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ic(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Sc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Cc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=xc(t.type,t.key,t.props,null,e.mode,n)).ref=Va(e,null,t),n.return=e,n;case _:return(t=Ic(t,e.mode,n)).return=e,t;case A:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Sc(t,e.mode,n,null)).return=e,t;Ua(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case A:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:f(e,t,n,r,null);Ua(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,i,null);Ua(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),Na&&xa(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return Na&&xa(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),Na&&xa(i,v),c}function m(i,u,s,c){var l=M(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=d(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),Na&&xa(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return Na&&xa(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),Na&&xa(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&za(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Va(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Sc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=xc(o.type,o.key,o.props,null,r.mode,s)).ref=Va(r,a,o),s.return=r,r=s)}return u(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Ic(o,r.mode,s)).return=r,r=a}return u(r);case A:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(M(o))return m(r,a,o,s);Ua(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Cc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ba=qa(!0),Wa=qa(!1),Ka={},Ha=wi(Ka),Ga=wi(Ka),Qa=wi(Ka);function $a(e){if(e===Ka)throw Error(a(174));return e}function Ya(e,t){switch(xi(Qa,t),xi(Ga,e),xi(Ha,Ka),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(Ha),xi(Ha,t)}function Xa(){_i(Ha),_i(Ga),_i(Qa)}function Ja(e){$a(Qa.current);var t=$a(Ha.current),n=se(t,e.type);t!==n&&(xi(Ga,e),xi(Ha,n))}function Za(e){Ga.current===e&&(_i(Ha),_i(Ga))}var eo=wi(0);function to(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var no=[];function ro(){for(var e=0;e<no.length;e++)no[e]._workInProgressVersionPrimary=null;no.length=0}var io=k.ReactCurrentDispatcher,ao=k.ReactCurrentBatchConfig,oo=0,uo=null,so=null,co=null,lo=!1,fo=!1,ho=0,po=0;function vo(){throw Error(a(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function yo(e,t,n,r,i,o){if(oo=o,uo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=null===e||null===e.memoizedState?Zo:eu,e=n(r,i),fo){o=0;do{if(fo=!1,ho=0,25<=o)throw Error(a(301));o+=1,co=so=null,t.updateQueue=null,io.current=tu,e=n(r,i)}while(fo)}if(io.current=Jo,t=null!==so&&null!==so.next,oo=0,co=so=uo=null,lo=!1,t)throw Error(a(300));return e}function go(){var e=0!==ho;return ho=0,e}function bo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===co?uo.memoizedState=co=e:co=co.next=e,co}function ko(){if(null===so){var e=uo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===co?uo.memoizedState:co.next;if(null!==t)co=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===co?uo.memoizedState=co=e:co=co.next=e}return co}function wo(e,t){return"function"===typeof t?t(e):t}function _o(e){var t=ko(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=so,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((oo&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,uo.lanes|=f,Es|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ar(r,t.memoizedState)||(yu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,uo.lanes|=o,Es|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xo(e){var t=ko(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ar(o,t.memoizedState)||(yu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function So(){}function Eo(e,t){var n=uo,r=ko(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,yu=!0),r=r.queue,Lo(To.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==co&&1&co.memoizedState.tag){if(n.flags|=2048,Po(9,Io.bind(null,n,r,i,t),void 0,null),null===gs)throw Error(a(349));0!==(30&oo)||Co(n,t,i)}return i}function Co(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Io(e,t,n,r){t.value=n,t.getSnapshot=r,No(t)&&Ws(e,1,-1)}function To(e,t,n){return n((function(){No(t)&&Ws(e,1,-1)}))}function No(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Ro(e){var t=bo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Go.bind(null,uo,e),[t.memoizedState,e]}function Po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ao(){return ko().memoizedState}function Oo(e,t,n,r){var i=bo();uo.flags|=e,i.memoizedState=Po(1|t,n,void 0,void 0===r?null:r)}function Do(e,t,n,r){var i=ko();r=void 0===r?null:r;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=Po(t,n,a,r))}uo.flags|=e,i.memoizedState=Po(1|t,n,a,r)}function Mo(e,t){return Oo(8390656,8,e,t)}function Lo(e,t){return Do(2048,8,e,t)}function Fo(e,t){return Do(4,2,e,t)}function jo(e,t){return Do(4,4,e,t)}function Vo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Uo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4,4,Vo.bind(null,t,e),n)}function zo(){}function qo(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Bo(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wo(e,t){var n=gt;gt=0!==n&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{gt=n,ao.transition=r}}function Ko(){return ko().memoizedState}function Ho(e,t,n){var r=Bs(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qo(e)?$o(t,n):(Yo(e,t,n),null!==(e=Ws(e,r,n=qs()))&&Xo(e,t,r))}function Go(e,t,n){var r=Bs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))$o(t,i);else{Yo(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ar(u,o))return}catch(s){}null!==(e=Ws(e,r,n=qs()))&&Xo(e,t,r)}}function Qo(e){var t=e.alternate;return e===uo||null!==t&&t===uo}function $o(e,t){fo=lo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yo(e,t,n){null!==gs&&0!==(1&e.mode)&&0===(2&ys)?(null===(e=t.interleaved)?(n.next=n,null===Xi?Xi=[t]:Xi.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function Xo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Jo={readContext:Yi,useCallback:vo,useContext:vo,useEffect:vo,useImperativeHandle:vo,useInsertionEffect:vo,useLayoutEffect:vo,useMemo:vo,useReducer:vo,useRef:vo,useState:vo,useDebugValue:vo,useDeferredValue:vo,useTransition:vo,useMutableSource:vo,useSyncExternalStore:vo,useId:vo,unstable_isNewReconciler:!1},Zo={readContext:Yi,useCallback:function(e,t){return bo().memoizedState=[e,void 0===t?null:t],e},useContext:Yi,useEffect:Mo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oo(4194308,4,Vo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oo(4,2,e,t)},useMemo:function(e,t){var n=bo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ho.bind(null,uo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bo().memoizedState=e},useState:Ro,useDebugValue:zo,useDeferredValue:function(e){var t=Ro(e),n=t[0],r=t[1];return Mo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){var e=Ro(!1),t=e[0];return e=Wo.bind(null,e[1]),bo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=uo,i=bo();if(Na){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===gs)throw Error(a(349));0!==(30&oo)||Co(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Mo(To.bind(null,r,o,e),[e]),r.flags|=2048,Po(9,Io.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=bo(),t=gs.identifierPrefix;if(Na){var n=_a;t=":"+t+"R"+(n=(wa&~(1<<32-ot(wa)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eu={readContext:Yi,useCallback:qo,useContext:Yi,useEffect:Lo,useImperativeHandle:Uo,useInsertionEffect:Fo,useLayoutEffect:jo,useMemo:Bo,useReducer:_o,useRef:Ao,useState:function(){return _o(wo)},useDebugValue:zo,useDeferredValue:function(e){var t=_o(wo),n=t[0],r=t[1];return Lo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[_o(wo)[0],ko().memoizedState]},useMutableSource:So,useSyncExternalStore:Eo,useId:Ko,unstable_isNewReconciler:!1},tu={readContext:Yi,useCallback:qo,useContext:Yi,useEffect:Lo,useImperativeHandle:Uo,useInsertionEffect:Fo,useLayoutEffect:jo,useMemo:Bo,useReducer:xo,useRef:Ao,useState:function(){return xo(wo)},useDebugValue:zo,useDeferredValue:function(e){var t=xo(wo),n=t[0],r=t[1];return Lo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[xo(wo)[0],ko().memoizedState]},useMutableSource:So,useSyncExternalStore:Eo,useId:Ko,unstable_isNewReconciler:!1};function nu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ru(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var iu,au,ou,uu="function"===typeof WeakMap?WeakMap:Map;function su(e,t,n){(n=ta(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){As||(As=!0,Os=r),ru(0,t)},n}function cu(e,t,n){(n=ta(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ru(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ru(0,t),"function"!==typeof r&&(null===Ds?Ds=new Set([this]):Ds.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function lu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new uu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=pc.bind(null,e,t,n),t.then(e,e))}function fu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function hu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ta(-1,1)).tag=2,na(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function du(e,t){if(!Na)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function vu(e,t,n){var r=t.pendingProps;switch(Ca(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pu(t),null;case 1:case 17:return Ni(t.type)&&Ri(),pu(t),null;case 3:return r=t.stateNode,Xa(),_i(Ci),_i(Ei),ro(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(La(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Ra&&($s(Ra),Ra=null))),pu(t),null;case 5:Za(t);var i=$a(Qa.current);if(n=t.type,null!==e&&null!=t.stateNode)au(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return pu(t),null}if(e=$a(Ha.current),La(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ci]=t,r[li]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Fr(Or[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Y(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(Yr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(Yr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Fr("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[ci]=t,e[li]=r,iu(e,t),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Fr(Or[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Fr("scroll",e):null!=l&&b(e,o,l,s))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return pu(t),null;case 6:if(e&&null!=t.stateNode)ou(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=$a(Qa.current),$a(Ha.current),La(t)){if(r=t.stateNode,n=t.memoizedProps,r[ci]=t,(o=r.nodeValue!==n)&&null!==(e=Ia))switch(s=0!==(1&e.mode),e.tag){case 3:Yr(r.nodeValue,n,s);break;case 5:!0!==e.memoizedProps[void 0]&&Yr(r.nodeValue,n,s)}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ci]=t,t.stateNode=r}return pu(t),null;case 13:if(_i(eo),r=t.memoizedState,Na&&null!==Ta&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Ta;r;)r=oi(r.nextSibling);return Fa(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=La(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[ci]=t}else Fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return pu(t),null}return null!==Ra&&($s(Ra),Ra=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?La(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&eo.current)?0===xs&&(xs=3):ic())),null!==t.updateQueue&&(t.flags|=4),pu(t),null);case 4:return Xa(),null===e&&Ur(t.stateNode.containerInfo),pu(t),null;case 10:return Gi(t.type._context),pu(t),null;case 19:if(_i(eo),null===(o=t.memoizedState))return pu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)du(o,!1);else{if(0!==xs||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=to(e))){for(t.flags|=128,du(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xi(eo,1&eo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Ps&&(t.flags|=128,r=!0,du(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=to(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),du(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Na)return pu(t),null}else 2*Xe()-o.renderingStartTime>Ps&&1073741824!==n&&(t.flags|=128,r=!0,du(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=eo.current,xi(eo,r?1&n|2:1&n),t):(pu(t),null);case 22:case 23:return ec(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&ws)&&(pu(t),6&t.subtreeFlags&&(t.flags|=8192)):pu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}iu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},au=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,$a(Ha.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Fr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},ou=function(e,t,n,r){n!==r&&(t.flags|=4)};var mu=k.ReactCurrentOwner,yu=!1;function gu(e,t,n,r){t.child=null===e?Wa(t,null,n,r):Ba(t,e.child,n,r)}function bu(e,t,n,r,i){n=n.render;var a=t.ref;return $i(t,i),r=yo(e,t,n,r,a,i),n=go(),null===e||yu?(Na&&n&&Ea(t),t.flags|=1,gu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vu(e,t,i))}function ku(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||wc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=xc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,wu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:or)(o,r)&&e.ref===t.ref)return Vu(e,t,i)}return t.flags|=1,(e=_c(a,r)).ref=t.ref,e.return=t,t.child=e}function wu(e,t,n,r,i){if(null!==e&&or(e.memoizedProps,r)&&e.ref===t.ref){if(yu=!1,0===(e.lanes&i))return t.lanes=e.lanes,Vu(e,t,i);0!==(131072&e.flags)&&(yu=!0)}return Su(e,t,n,r,i)}function _u(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},xi(_s,ws),ws|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,xi(_s,ws),ws|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,xi(_s,ws),ws|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xi(_s,ws),ws|=r;return gu(e,t,i,n),t.child}function xu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Su(e,t,n,r,i){var a=Ni(n)?Ii:Ei.current;return a=Ti(t,a),$i(t,i),n=yo(e,t,n,r,a,i),r=go(),null===e||yu?(Na&&r&&Ea(t),t.flags|=1,gu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vu(e,t,i))}function Eu(e,t,n,r,i){if(Ni(n)){var a=!0;Oi(t)}else a=!1;if($i(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),fa(t,n,r),da(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Yi(c):c=Ti(t,c=Ni(n)?Ii:Ei.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ha(t,o,r,c),Ji=!1;var h=t.memoizedState;o.state=h,aa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ci.current||Ji?("function"===typeof l&&(sa(t,n,l,r),s=t.memoizedState),(u=Ji||la(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ea(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:zi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Yi(s):s=Ti(t,s=Ni(n)?Ii:Ei.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ha(t,o,r,s),Ji=!1,h=t.memoizedState,o.state=h,aa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ci.current||Ji?("function"===typeof d&&(sa(t,n,d,r),p=t.memoizedState),(c=Ji||la(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Cu(e,t,n,r,a,i)}function Cu(e,t,n,r,i,a){xu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Di(t,n,!1),Vu(e,t,a);r=t.stateNode,mu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ba(t,e.child,null,a),t.child=Ba(t,null,u,a)):gu(e,t,u,a),t.memoizedState=r.state,i&&Di(t,n,!0),t.child}function Iu(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),Ya(e,t.containerInfo)}function Tu(e,t,n,r,i){return Fa(),ja(i),t.flags|=256,gu(e,t,n,r),t.child}var Nu={dehydrated:null,treeContext:null,retryLane:0};function Ru(e){return{baseLanes:e,cachePool:null}}function Pu(e,t,n){var r,i=t.pendingProps,o=eo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),xi(eo,1&o),null===e)return Da(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,u?(i=t.mode,u=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=o):u=Ec(o,i,0,null),e=Sc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Ru(n),t.memoizedState=Nu,e):Au(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,Mu(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=Ec({mode:"visible",children:i.children},o,0,null),(u=Sc(u,o,n,null)).flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,0!==(1&t.mode)&&Ba(t,e.child,null,n),t.child.memoizedState=Ru(n),t.memoizedState=Nu,u);if(0===(1&t.mode))t=Mu(e,t,n,null);else if("$!"===r.data)t=Mu(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),yu||i){if(null!==(i=gs)){switch(n&-n){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(i=0!==(u&(i.suspendedLanes|n))?0:u)&&i!==o.retryLane&&(o.retryLane=i,Ws(e,i,-1))}ic(),t=Mu(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=mc.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Ta=oi(r.nextSibling),Ia=t,Na=!0,Ra=null,null!==n&&(ga[ba++]=wa,ga[ba++]=_a,ga[ba++]=ka,wa=n.id,_a=n.overflow,ka=t),(t=Au(t,t.pendingProps.children)).flags|=4096);return t}return u?(i=Du(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Ru(n):{baseLanes:o.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Nu,i):(n=Ou(e,t,i.children,n),t.memoizedState=null,n)}return u?(i=Du(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Ru(n):{baseLanes:o.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Nu,i):(n=Ou(e,t,i.children,n),t.memoizedState=null,n)}function Au(e,t){return(t=Ec({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ou(e,t,n,r){var i=e.child;return e=i.sibling,n=_c(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Du(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,u={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=u,t.deletions=null):(n=_c(e,u)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=_c(o,r):(r=Sc(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Mu(e,t,n,r){return null!==r&&ja(r),Ba(t,e.child,null,n),(e=Au(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Lu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Qi(e.return,t,n)}function Fu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function ju(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(gu(e,t,r.children,n),0!==(2&(r=eo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Lu(e,n,t);else if(19===e.tag)Lu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xi(eo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===to(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Fu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===to(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Fu(t,!0,n,null,a);break;case"together":Fu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Es|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=_c(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=_c(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Uu(e,t){switch(Ca(t),t.tag){case 1:return Ni(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xa(),_i(Ci),_i(Ei),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(_i(eo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(eo),null;case 4:return Xa(),null;case 10:return Gi(t.type._context),null;case 22:case 23:return ec(),null;default:return null}}var zu=!1,qu=!1,Bu="function"===typeof WeakSet?WeakSet:Set,Wu=null;function Ku(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){dc(e,t,r)}else n.current=null}function Hu(e,t,n){try{n()}catch(r){dc(e,t,r)}}var Gu=!1;function Qu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Hu(t,n,a)}i=i.next}while(i!==r)}}function $u(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Yu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function Xu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&Hu(t,n,a),r=r.next}while(r!==e)}break;case 1:if(Ku(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){dc(t,n,o)}break;case 5:Ku(t,n);break;case 4:is(e,t,n)}}function Ju(e){var t=e.alternate;null!==t&&(e.alternate=null,Ju(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ci],delete t[li],delete t[hi],delete t[di],delete t[pi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zu(e){return 5===e.tag||3===e.tag||4===e.tag}function es(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Zu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ts(e){e:{for(var t=e.return;null!==t;){if(Zu(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(he(t,""),n.flags&=-33),rs(e,n=es(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,ns(e,n=es(e),t);break;default:throw Error(a(161))}}function ns(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(ns(e,t,n),e=e.sibling;null!==e;)ns(e,t,n),e=e.sibling}function rs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(rs(e,t,n),e=e.sibling;null!==e;)rs(e,t,n),e=e.sibling}function is(e,t,n){for(var r,i,o=t,u=!1;;){if(!u){u=o.return;e:for(;;){if(null===u)throw Error(a(160));switch(r=u.stateNode,u.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}u=u.return}u=!0}if(5===o.tag||6===o.tag){e:for(var s=e,c=o,l=n,f=c;;)if(Xu(s,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(s=r,c=o.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):r.removeChild(o.stateNode)}else if(18===o.tag)i?(s=r,c=o.stateNode,8===s.nodeType?ai(s.parentNode,c):1===s.nodeType&&ai(s,c),zt(s)):ai(r,o.stateNode);else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(Xu(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(u=!1)}o.sibling.return=o.return,o=o.sibling}}function as(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return Qu(3,t,t.return),$u(3,t),void Qu(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for("input"===e&&"radio"===r.type&&null!=r.name&&X(n,r),be(e,i),t=be(e,r),i=0;i<o.length;i+=2){var u=o[i],s=o[i+1];"style"===u?me(n,s):"dangerouslySetInnerHTML"===u?fe(n,s):"children"===u?he(n,s):b(n,u,s,t)}switch(e){case"input":J(n,r);break;case"textarea":ae(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ne(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ne(n,!!r.multiple,r.defaultValue,!0):ne(n,!!r.multiple,r.multiple?[]:"",!1))}n[li]=r}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void(null!==e&&e.memoizedState.isDehydrated&&zt(t.stateNode.containerInfo));case 13:case 19:return void os(t)}throw Error(a(163))}function os(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Bu),t.forEach((function(t){var r=yc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function us(e,t,n){Wu=e,ss(e,t,n)}function ss(e,t,n){for(var r=0!==(1&e.mode);null!==Wu;){var i=Wu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||zu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||qu;u=zu;var c=qu;if(zu=o,(qu=s)&&!c)for(Wu=i;null!==Wu;)s=(o=Wu).child,22===o.tag&&null!==o.memoizedState?fs(i):null!==s?(s.return=o,Wu=s):fs(i);for(;null!==a;)Wu=a,ss(a,t,n),a=a.sibling;Wu=i,zu=u,qu=c}cs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Wu=a):cs(e)}}function cs(e){for(;null!==Wu;){var t=Wu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:qu||$u(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!qu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:zi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&oa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}oa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}qu||512&t.flags&&Yu(t)}catch(d){dc(t,t.return,d)}}if(t===e){Wu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Wu=n;break}Wu=t.return}}function ls(e){for(;null!==Wu;){var t=Wu;if(t===e){Wu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Wu=n;break}Wu=t.return}}function fs(e){for(;null!==Wu;){var t=Wu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{$u(4,t)}catch(s){dc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){dc(t,i,s)}}var a=t.return;try{Yu(t)}catch(s){dc(t,a,s)}break;case 5:var o=t.return;try{Yu(t)}catch(s){dc(t,o,s)}}}catch(s){dc(t,t.return,s)}if(t===e){Wu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Wu=u;break}Wu=t.return}}var hs,ds=Math.ceil,ps=k.ReactCurrentDispatcher,vs=k.ReactCurrentOwner,ms=k.ReactCurrentBatchConfig,ys=0,gs=null,bs=null,ks=0,ws=0,_s=wi(0),xs=0,Ss=null,Es=0,Cs=0,Is=0,Ts=null,Ns=null,Rs=0,Ps=1/0,As=!1,Os=null,Ds=null,Ms=!1,Ls=null,Fs=0,js=0,Vs=null,Us=-1,zs=0;function qs(){return 0!==(6&ys)?Xe():-1!==Us?Us:Us=Xe()}function Bs(e){return 0===(1&e.mode)?1:0!==(2&ys)&&0!==ks?ks&-ks:null!==Ui.transition?(0===zs&&(e=ct,0===(4194240&(ct<<=1))&&(ct=64),zs=e),zs):0!==(e=gt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function Ws(e,t,n){if(50<js)throw js=0,Vs=null,Error(a(185));var r=Ks(e,t);return null===r?null:(mt(r,t,n),0!==(2&ys)&&r===gs||(r===gs&&(0===(2&ys)&&(Cs|=t),4===xs&&Ys(r,ks)),Hs(r,n),1===t&&0===ys&&0===(1&e.mode)&&(Ps=Xe()+500,Li&&Vi())),r)}function Ks(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Hs(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===gs?ks:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Li=!0,ji(e)}(Xs.bind(null,e)):ji(Xs.bind(null,e)),ri((function(){0===ys&&Vi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=gc(n,Gs.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Gs(e,t){if(Us=-1,zs=0,0!==(6&ys))throw Error(a(327));var n=e.callbackNode;if(fc()&&e.callbackNode!==n)return null;var r=ht(e,e===gs?ks:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ac(e,r);else{t=r;var i=ys;ys|=2;var o=rc();for(gs===e&&ks===t||(Ps=Xe()+500,tc(e,t));;)try{uc();break}catch(s){nc(e,s)}Hi(),ps.current=o,ys=i,null!==bs?t=0:(gs=null,ks=0,t=xs)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=Qs(e,i))),1===t)throw n=Ss,tc(e,0),Ys(e,r),Hs(e,Xe()),n;if(6===t)Ys(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ar(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ac(e,r))&&(0!==(o=pt(e))&&(r=o,t=Qs(e,o))),1===t))throw n=Ss,tc(e,0),Ys(e,r),Hs(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:lc(e,Ns);break;case 3:if(Ys(e,r),(130023424&r)===r&&10<(t=Rs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){qs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ei(lc.bind(null,e,Ns),t);break}lc(e,Ns);break;case 4:if(Ys(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ds(r/1960))-r)){e.timeoutHandle=ei(lc.bind(null,e,Ns),r);break}lc(e,Ns);break;default:throw Error(a(329))}}}return Hs(e,Xe()),e.callbackNode===n?Gs.bind(null,e):null}function Qs(e,t){var n=Ts;return e.current.memoizedState.isDehydrated&&(tc(e,t).flags|=256),2!==(e=ac(e,t))&&(t=Ns,Ns=n,null!==t&&$s(t)),e}function $s(e){null===Ns?Ns=e:Ns.push.apply(Ns,e)}function Ys(e,t){for(t&=~Is,t&=~Cs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function Xs(e){if(0!==(6&ys))throw Error(a(327));fc();var t=ht(e,0);if(0===(1&t))return Hs(e,Xe()),null;var n=ac(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=Qs(e,r))}if(1===n)throw n=Ss,tc(e,0),Ys(e,t),Hs(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lc(e,Ns),Hs(e,Xe()),null}function Js(e,t){var n=ys;ys|=1;try{return e(t)}finally{0===(ys=n)&&(Ps=Xe()+500,Li&&Vi())}}function Zs(e){null!==Ls&&0===Ls.tag&&0===(6&ys)&&fc();var t=ys;ys|=1;var n=ms.transition,r=gt;try{if(ms.transition=null,gt=1,e)return e()}finally{gt=r,ms.transition=n,0===(6&(ys=t))&&Vi()}}function ec(){ws=_s.current,_i(_s)}function tc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ti(n)),null!==bs)for(n=bs.return;null!==n;){var r=n;switch(Ca(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:Xa(),_i(Ci),_i(Ei),ro();break;case 5:Za(r);break;case 4:Xa();break;case 13:case 19:_i(eo);break;case 10:Gi(r.type._context);break;case 22:case 23:ec()}n=n.return}if(gs=e,bs=e=_c(e.current,null),ks=ws=t,xs=0,Ss=null,Is=Cs=Es=0,Ns=Ts=null,null!==Xi){for(t=0;t<Xi.length;t++)if(null!==(r=(n=Xi[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Xi=null}return e}function nc(e,t){for(;;){var n=bs;try{if(Hi(),io.current=Jo,lo){for(var r=uo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}lo=!1}if(oo=0,co=so=uo=null,fo=!1,ho=0,vs.current=null,null===n||null===n.return){xs=1,Ss=t,bs=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=ks,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=fu(u);if(null!==p){p.flags&=-257,hu(p,u,s,0,t),1&p.mode&&lu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){lu(o,l,t),ic();break e}c=Error(a(426))}else if(Na&&1&s.mode){var y=fu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),hu(y,u,s,0,t),ja(c);break e}}o=c,4!==xs&&(xs=2),null===Ts?Ts=[o]:Ts.push(o),c=nu(c,s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,ia(s,su(0,c,t));break e;case 1:o=c;var g=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ds||!Ds.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,ia(s,cu(s,o,t));break e}}s=s.return}while(null!==s)}cc(n)}catch(k){t=k,bs===n&&null!==n&&(bs=n=n.return);continue}break}}function rc(){var e=ps.current;return ps.current=Jo,null===e?Jo:e}function ic(){0!==xs&&3!==xs&&2!==xs||(xs=4),null===gs||0===(268435455&Es)&&0===(268435455&Cs)||Ys(gs,ks)}function ac(e,t){var n=ys;ys|=2;var r=rc();for(gs===e&&ks===t||tc(e,t);;)try{oc();break}catch(i){nc(e,i)}if(Hi(),ys=n,ps.current=r,null!==bs)throw Error(a(261));return gs=null,ks=0,xs}function oc(){for(;null!==bs;)sc(bs)}function uc(){for(;null!==bs&&!$e();)sc(bs)}function sc(e){var t=hs(e.alternate,e,ws);e.memoizedProps=e.pendingProps,null===t?cc(e):bs=t,vs.current=null}function cc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=vu(n,t,ws)))return void(bs=n)}else{if(null!==(n=Uu(n,t)))return n.flags&=32767,void(bs=n);if(null===e)return xs=6,void(bs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(bs=t);bs=t=e}while(null!==t);0===xs&&(xs=5)}function lc(e,t){var n=gt,r=ms.transition;try{ms.transition=null,gt=1,function(e,t,n){do{fc()}while(null!==Ls);if(0!==(6&ys))throw Error(a(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===gs&&(bs=gs=null,ks=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Ms||(Ms=!0,gc(tt,(function(){return fc(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=ms.transition,ms.transition=null;var u=gt;gt=1;var s=ys;ys|=4,vs.current=null,function(e,t){if(fr(e=lr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jr={focusedElem:e,selectionRange:n},Wu=t;null!==Wu;)if(e=(t=Wu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Wu=e;else for(;null!==Wu;){t=Wu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:zi(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;if(1===k.nodeType)k.textContent="";else if(9===k.nodeType){var w=k.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(_){dc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Wu=e;break}Wu=t.return}v=Gu,Gu=!1}(e,r),function(e,t){for(Wu=t;null!==Wu;){var n=(t=Wu).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{is(e,i,t);var a=i.alternate;null!==a&&(a.return=null),i.return=null}catch(S){dc(i,t,S)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,Wu=n;else for(;null!==Wu;){t=Wu;try{var o=t.flags;if(32&o&&he(t.stateNode,""),512&o){var u=t.alternate;if(null!==u){var s=u.ref;null!==s&&("function"===typeof s?s(null):s.current=null)}}if(8192&o)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(Rs=Xe())}break;case 22:var l=null!==t.memoizedState,f=t.alternate,h=null!==f&&null!==f.memoizedState;e:{i=l;for(var d=null,p=r=n=t;;){if(5===p.tag){if(null===d){d=p;var v=p.stateNode;if(i){var m=v.style;"function"===typeof m.setProperty?m.setProperty("display","none","important"):m.display="none"}else{var y=p.stateNode,g=p.memoizedProps.style,b=void 0!==g&&null!==g&&g.hasOwnProperty("display")?g.display:null;y.style.display=ve("display",b)}}}else if(6===p.tag)null===d&&(p.stateNode.nodeValue=i?"":p.memoizedProps);else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}if(l&&!h&&0!==(1&n.mode)){Wu=n;for(var k=n.child;null!==k;){for(n=Wu=k;null!==Wu;){var w=(r=Wu).child;switch(r.tag){case 0:case 11:case 14:case 15:Qu(4,r,r.return);break;case 1:Ku(r,r.return);var _=r.stateNode;if("function"===typeof _.componentWillUnmount){var x=r.return;try{_.props=r.memoizedProps,_.state=r.memoizedState,_.componentWillUnmount()}catch(S){dc(r,x,S)}}break;case 5:Ku(r,r.return);break;case 22:if(null!==r.memoizedState){ls(n);continue}}null!==w?(w.return=r,Wu=w):ls(n)}k=k.sibling}}}switch(4102&o){case 2:ts(t),t.flags&=-3;break;case 6:ts(t),t.flags&=-3,as(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,as(t.alternate,t);break;case 4:as(t.alternate,t)}}catch(S){dc(t,t.return,S)}if(null!==(n=t.sibling)){n.return=t.return,Wu=n;break}Wu=t.return}}}(e,r),hr(Jr),Jr=null,e.current=r,us(r,e,i),Ye(),ys=s,gt=u,ms.transition=o}else e.current=r;if(Ms&&(Ms=!1,Ls=e,Fs=i),0===(o=e.pendingLanes)&&(Ds=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Hs(e,Xe()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(As)throw As=!1,e=Os,Os=null,e;0!==(1&Fs)&&0!==e.tag&&fc(),0!==(1&(o=e.pendingLanes))?e===Vs?js++:(js=0,Vs=e):js=0,Vi()}(e,t,n)}finally{ms.transition=r,gt=n}return null}function fc(){if(null!==Ls){var e=bt(Fs),t=ms.transition,n=gt;try{if(ms.transition=null,gt=16>e?16:e,null===Ls)var r=!1;else{if(e=Ls,Ls=null,Fs=0,0!==(6&ys))throw Error(a(331));var i=ys;for(ys|=4,Wu=e.current;null!==Wu;){var o=Wu,u=o.child;if(0!==(16&Wu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Wu=l;null!==Wu;){var f=Wu;switch(f.tag){case 0:case 11:case 15:Qu(8,f,o)}var h=f.child;if(null!==h)h.return=f,Wu=h;else for(;null!==Wu;){var d=(f=Wu).sibling,p=f.return;if(Ju(f),f===l){Wu=null;break}if(null!==d){d.return=p,Wu=d;break}Wu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Wu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Wu=u;else e:for(;null!==Wu;){if(0!==(2048&(o=Wu).flags))switch(o.tag){case 0:case 11:case 15:Qu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Wu=g;break e}Wu=o.return}}var b=e.current;for(Wu=b;null!==Wu;){var k=(u=Wu).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,Wu=k;else e:for(u=b;null!==Wu;){if(0!==(2048&(s=Wu).flags))try{switch(s.tag){case 0:case 11:case 15:$u(9,s)}}catch(_){dc(s,s.return,_)}if(s===u){Wu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Wu=w;break e}Wu=s.return}}if(ys=i,Vi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{gt=n,ms.transition=t}}return!1}function hc(e,t,n){na(e,t=su(0,t=nu(n,t),1)),t=qs(),null!==(e=Ks(e,1))&&(mt(e,1,t),Hs(e,t))}function dc(e,t,n){if(3===e.tag)hc(e,e,n);else for(;null!==t;){if(3===t.tag){hc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ds||!Ds.has(r))){na(t,e=cu(t,e=nu(n,e),1)),e=qs(),null!==(t=Ks(t,1))&&(mt(t,1,e),Hs(t,e));break}}t=t.return}}function pc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=qs(),e.pingedLanes|=e.suspendedLanes&n,gs===e&&(ks&n)===n&&(4===xs||3===xs&&(130023424&ks)===ks&&500>Xe()-Rs?tc(e,0):Is|=n),Hs(e,t)}function vc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=qs();null!==(e=Ks(e,t))&&(mt(e,t,n),Hs(e,n))}function mc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),vc(e,n)}function yc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),vc(e,n)}function gc(e,t){return Ge(e,t)}function bc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kc(e,t,n,r){return new bc(e,t,n,r)}function wc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function _c(e,t){var n=e.alternate;return null===n?((n=kc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function xc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)wc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case x:return Sc(n.children,i,o,t);case S:u=8,i|=8;break;case E:return(e=kc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case N:return(e=kc(13,n,t,i)).elementType=N,e.lanes=o,e;case R:return(e=kc(19,n,t,i)).elementType=R,e.lanes=o,e;case O:return Ec(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:u=10;break e;case I:u=9;break e;case T:u=11;break e;case P:u=14;break e;case A:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=kc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Sc(e,t,n,r){return(e=kc(7,e,r,t)).lanes=n,e}function Ec(e,t,n,r){return(e=kc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={},e}function Cc(e,t,n){return(e=kc(6,e,null,t)).lanes=n,e}function Ic(e,t,n){return(t=kc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Tc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Nc(e,t,n,r,i,a,o,u,s){return e=new Tc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=kc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},Zi(a),e}function Rc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Pc(e){if(!e)return Si;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Ai(e,n,t)}return t}function Ac(e,t,n,r,i,a,o,u,s){return(e=Nc(n,r,!0,e,0,a,0,u,s)).context=Pc(null),n=e.current,(a=ta(r=qs(),i=Bs(n))).callback=void 0!==t&&null!==t?t:null,na(n,a),e.current.lanes=i,mt(e,i,r),Hs(e,r),e}function Oc(e,t,n,r){var i=t.current,a=qs(),o=Bs(i);return n=Pc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ta(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),na(i,t),null!==(e=Ws(i,o,a))&&ra(e,i,o),o}function Dc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Mc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Lc(e,t){Mc(e,t),(e=e.alternate)&&Mc(e,t)}hs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)yu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return yu=!1,function(e,t,n){switch(t.tag){case 3:Iu(t),Fa();break;case 5:Ja(t);break;case 1:Ni(t.type)&&Oi(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xi(qi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xi(eo,1&eo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Pu(e,t,n):(xi(eo,1&eo.current),null!==(e=Vu(e,t,n))?e.sibling:null);xi(eo,1&eo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return ju(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(eo,eo.current),r)break;return null;case 22:case 23:return t.lanes=0,_u(e,t,n)}return Vu(e,t,n)}(e,t,n);yu=0!==(131072&e.flags)}else yu=!1,Na&&0!==(1048576&t.flags)&&Sa(t,ya,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ti(t,Ei.current);$i(t,n),i=yo(null,t,r,e,i,n);var o=go();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(o=!0,Oi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Zi(t),i.updater=ca,t.stateNode=i,i._reactInternals=t,da(t,r,e,n),t=Cu(null,t,r,!0,o,n)):(t.tag=0,Na&&o&&Ea(t),gu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return wc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===P)return 14}return 2}(r),e=zi(r,e),i){case 0:t=Su(null,t,r,e,n);break e;case 1:t=Eu(null,t,r,e,n);break e;case 11:t=bu(null,t,r,e,n);break e;case 14:t=ku(null,t,r,zi(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Su(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Eu(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 3:e:{if(Iu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ea(e,t),aa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Tu(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Tu(e,t,r,n,i=Error(a(424)));break e}for(Ta=oi(t.stateNode.containerInfo.firstChild),Ia=t,Na=!0,Ra=null,n=Wa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Fa(),r===i){t=Vu(e,t,n);break e}gu(e,t,r,n)}t=t.child}return t;case 5:return Ja(t),null===e&&Da(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,Zr(r,i)?u=null:null!==o&&Zr(r,o)&&(t.flags|=32),xu(e,t),gu(e,t,u,n),t.child;case 6:return null===e&&Da(t),null;case 13:return Pu(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ba(t,null,r,n):gu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,bu(e,t,r,i=t.elementType===r?i:zi(r,i),n);case 7:return gu(e,t,t.pendingProps,n),t.child;case 8:case 12:return gu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,xi(qi,r._currentValue),r._currentValue=u,null!==o)if(ar(o.value,u)){if(o.children===i.children&&!Ci.current){t=Vu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ta(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Qi(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Qi(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}gu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,$i(t,n),r=r(i=Yi(i)),t.flags|=1,gu(e,t,r,n),t.child;case 14:return i=zi(r=t.type,t.pendingProps),ku(e,t,r,i=zi(r.type,i),n);case 15:return wu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ni(r)?(e=!0,Oi(t)):e=!1,$i(t,n),fa(t,r,i),da(t,r,i,n),Cu(null,t,r,!0,e,n);case 19:return ju(e,t,n);case 22:return _u(e,t,n)}throw Error(a(156,t.tag))};var Fc="function"===typeof reportError?reportError:function(e){console.error(e)};function jc(e){this._internalRoot=e}function Vc(e){this._internalRoot=e}function Uc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function qc(){}function Bc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Dc(o);u.call(e)}}Oc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Dc(o);a.call(e)}}var o=Ac(t,r,e,0,null,!1,0,"",qc);return e._reactRootContainer=o,e[fi]=o.current,Ur(8===e.nodeType?e.parentNode:e),Zs(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Dc(s);u.call(e)}}var s=Nc(e,0,!1,null,0,!1,0,"",qc);return e._reactRootContainer=s,e[fi]=s.current,Ur(8===e.nodeType?e.parentNode:e),Zs((function(){Oc(t,s,n,r)})),s}(n,t,e,i,r);return Dc(o)}Vc.prototype.render=jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Oc(e,t,null,null)},Vc.prototype.unmount=jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zs((function(){Oc(null,e,null,null)})),t[fi]=null}},Vc.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Lt(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),Hs(t,Xe()),0===(6&ys)&&(Ps=Xe()+500,Vi()))}break;case 13:var r=qs();Zs((function(){return Ws(e,1,r)})),Lc(e,1)}},wt=function(e){13===e.tag&&(Ws(e,134217728,qs()),Lc(e,134217728))},_t=function(e){if(13===e.tag){var t=qs(),n=Bs(e);Ws(e,n,t),Lc(e,n)}},xt=function(){return gt},St=function(e,t){var n=gt;try{return gt=e,t()}finally{gt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=gi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=Js,Ne=Zs;var Wc={usingClientEntryPoint:!1,Events:[mi,yi,gi,Ce,Ie,Js]},Kc={findFiberByHostInstance:vi,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},Hc={bundleType:Kc.bundleType,version:Kc.version,rendererPackageName:Kc.rendererPackageName,rendererConfig:Kc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:Kc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{it=Gc.inject(Hc),at=Gc}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Uc(t))throw Error(a(200));return Rc(e,t,null,n)},t.createRoot=function(e,t){if(!Uc(e))throw Error(a(299));var n=!1,r="",i=Fc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Nc(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Ur(8===e.nodeType?e.parentNode:e),new jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return Zs(e)},t.hydrate=function(e,t,n){if(!zc(t))throw Error(a(200));return Bc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Uc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Fc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Ac(t,null,e,1,null!=n?n:null,i,0,o,u),e[fi]=t.current,Ur(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Vc(t)},t.render=function(e,t,n){if(!zc(t))throw Error(a(200));return Bc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!zc(e))throw Error(a(40));return!!e._reactRootContainer&&(Zs((function(){Bc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=Js,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Bc(e,t,n,!1,r)},t.version="18.0.0-fc46dba67-20220329"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,u=60109,s=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,m=60117,y=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),a=b("react.strict_mode"),o=b("react.profiler"),u=b("react.provider"),s=b("react.context"),c=b("react.forward_ref"),l=b("react.suspense"),f=b("react.suspense_list"),h=b("react.memo"),d=b("react.lazy"),p=b("react.block"),v=b("react.server.block"),m=b("react.fundamental"),y=b("react.debug_trace_mode"),g=b("react.legacy_hidden")}function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case s:case c:case d:case h:case u:return e;default:return t}}case r:return t}}}},441:function(e,t,n){"use strict";n(372)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=b.prototype=new g;k.constructor=b,v(k,y.prototype),k.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:x.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+T(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+T(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+T(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function R(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},O={transition:null},D={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:O,ReactCurrentOwner:x};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)_.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.0.0-fc46dba67-20220329"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new T(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return R()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=E(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var b={};s(b,a,(function(){return this}));var k=Object.getPrototypeOf,w=k&&k(k(N([])));w&&w!==n&&r.call(w,a)&&(b=w);var _=g.prototype=m.prototype=Object.create(b);function x(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:R}}function R(){return{value:t,done:!0}}return y.prototype=g,s(_,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},x(S.prototype),s(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(_),s(_,u,"Generator"),s(_,a,(function(){return this})),s(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,O(_);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,g(C),C=-1),p=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,E=null,C=-1,I=5,T=-1;function N(){return!(t.unstable_now()-T<I)}function R(){if(null!==E){var e=t.unstable_now();T=e;var n=!0;try{n=E(!0,e)}finally{n?x():(S=!1,E=null)}}else S=!1}if("function"===typeof b)x=function(){b(R)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,A=P.port2;P.port1.onmessage=R,x=function(){A.postMessage(null)}}else x=function(){y(R,0)};function O(e){E=e,S||(S=!0,x())}function D(e,n){C=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(C),C=-1):m=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,O(_))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".f25cc18b.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="memento:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/memento/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkmemento=self.webpackChunkmemento||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return jc},SDK_VERSION:function(){return Gl},_DEFAULT_ENTRY_NAME:function(){return Dl},_addComponent:function(){return jl},_addOrOverwriteComponent:function(){return Vl},_apps:function(){return Ll},_clearComponents:function(){return Bl},_components:function(){return Fl},_getProvider:function(){return zl},_registerComponent:function(){return Ul},_removeServiceInstance:function(){return ql},deleteApp:function(){return Xl},getApp:function(){return $l},getApps:function(){return Yl},initializeApp:function(){return Ql},onLog:function(){return ef},registerVersion:function(){return Zl},setLogLevel:function(){return tf}});var t=n(791),r=n.t(t,2),i=n(164);function a(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(eF){return void n(eF)}u.done?t(s):Promise.resolve(s).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l=n(757),f=n.n(l);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function v(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=v(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function m(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=v(e))&&(r&&(r+=" "),r+=t);return r}function y(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}function g(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var b=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},k=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,w=b((function(e){return k.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var _=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),x=Math.abs,S=String.fromCharCode,E=Object.assign;function C(e){return e.trim()}function I(e,t,n){return e.replace(t,n)}function T(e,t){return e.indexOf(t)}function N(e,t){return 0|e.charCodeAt(t)}function R(e,t,n){return e.slice(t,n)}function P(e){return e.length}function A(e){return e.length}function O(e,t){return t.push(e),e}var D=1,M=1,L=0,F=0,j=0,V="";function U(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:D,column:M,length:o,return:""}}function z(e,t){return E(U("",null,null,"",null,null,0),e,{length:-e.length},t)}function q(){return j=F>0?N(V,--F):0,M--,10===j&&(M=1,D--),j}function B(){return j=F<L?N(V,F++):0,M++,10===j&&(M=1,D++),j}function W(){return N(V,F)}function K(){return F}function H(e,t){return R(V,e,t)}function G(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Q(e){return D=M=1,L=P(V=e),F=0,[]}function $(e){return V="",e}function Y(e){return C(H(F-1,Z(91===e?e+2:40===e?e+1:e)))}function X(e){for(;(j=W())&&j<33;)B();return G(e)>2||G(j)>3?"":" "}function J(e,t){for(;--t&&B()&&!(j<48||j>102||j>57&&j<65||j>70&&j<97););return H(e,K()+(t<6&&32==W()&&32==B()))}function Z(e){for(;B();)switch(j){case e:return F;case 34:case 39:34!==e&&39!==e&&Z(j);break;case 40:41===e&&Z(e);break;case 92:B()}return F}function ee(e,t){for(;B()&&e+j!==57&&(e+j!==84||47!==W()););return"/*"+H(t,F-1)+"*"+S(47===e?e:B())}function te(e){for(;!G(W());)B();return H(e,F)}var ne="-ms-",re="-moz-",ie="-webkit-",ae="comm",oe="rule",ue="decl",se="@keyframes";function ce(e,t){for(var n="",r=A(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function le(e,t,n,r){switch(e.type){case"@import":case ue:return e.return=e.return||e.value;case ae:return"";case se:return e.return=e.value+"{"+ce(e.children,r)+"}";case oe:e.value=e.props.join(",")}return P(n=ce(e.children,r))?e.return=e.value+"{"+n+"}":""}function fe(e,t){switch(function(e,t){return(((t<<2^N(e,0))<<2^N(e,1))<<2^N(e,2))<<2^N(e,3)}(e,t)){case 5103:return ie+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ie+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ie+e+re+e+ne+e+e;case 6828:case 4268:return ie+e+ne+e+e;case 6165:return ie+e+ne+"flex-"+e+e;case 5187:return ie+e+I(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return ie+e+ne+"flex-item-"+I(e,/flex-|-self/,"")+e;case 4675:return ie+e+ne+"flex-line-pack"+I(e,/align-content|flex-|-self/,"")+e;case 5548:return ie+e+ne+I(e,"shrink","negative")+e;case 5292:return ie+e+ne+I(e,"basis","preferred-size")+e;case 6060:return ie+"box-"+I(e,"-grow","")+ie+e+ne+I(e,"grow","positive")+e;case 4554:return ie+I(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return I(I(I(e,/(zoom-|grab)/,ie+"$1"),/(image-set)/,ie+"$1"),e,"")+e;case 5495:case 3959:return I(e,/(image-set\([^]*)/,ie+"$1$`$1");case 4968:return I(I(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+ie+e+e;case 4095:case 3583:case 4068:case 2532:return I(e,/(.+)-inline(.+)/,ie+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(P(e)-1-t>6)switch(N(e,t+1)){case 109:if(45!==N(e,t+4))break;case 102:return I(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+re+(108==N(e,t+3)?"$3":"$2-$3"))+e;case 115:return~T(e,"stretch")?fe(I(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==N(e,t+1))break;case 6444:switch(N(e,P(e)-3-(~T(e,"!important")&&10))){case 107:return I(e,":",":"+ie)+e;case 101:return I(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ie+(45===N(e,14)?"inline-":"")+"box$3$1"+ie+"$2$3$1"+ne+"$2box$3")+e}break;case 5936:switch(N(e,t+11)){case 114:return ie+e+ne+I(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ie+e+ne+I(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ie+e+ne+I(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ie+e+ne+e+e}return e}function he(e){return $(de("",null,null,null,[""],e=Q(e),0,[0],e))}function de(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,m=1,y=1,g=0,b="",k=i,w=a,_=r,x=b;m;)switch(p=g,g=B()){case 40:if(108!=p&&58==x.charCodeAt(f-1)){-1!=T(x+=I(Y(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:x+=Y(g);break;case 9:case 10:case 13:case 32:x+=X(p);break;case 92:x+=J(K()-1,7);continue;case 47:switch(W()){case 42:case 47:O(ve(ee(B(),K()),t,n),s);break;default:x+="/"}break;case 123*v:u[c++]=P(x)*y;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+l:d>0&&P(x)-f&&O(d>32?me(x+";",r,n,f-1):me(I(x," ","")+";",r,n,f-2),s);break;case 59:x+=";";default:if(O(_=pe(x,t,n,c,l,i,u,b,k=[],w=[],f),a),123===g)if(0===l)de(x,t,_,_,k,a,f,u,w);else switch(h){case 100:case 109:case 115:de(e,_,_,r&&O(pe(e,_,_,0,0,i,u,b,i,k=[],f),w),i,w,f,u,r?k:w);break;default:de(x,_,_,_,[""],w,0,u,w)}}c=l=d=0,v=y=1,b=x="",f=o;break;case 58:f=1+P(x),d=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==q())continue;switch(x+=S(g),g*v){case 38:y=l>0?1:(x+="\f",-1);break;case 44:u[c++]=(P(x)-1)*y,y=1;break;case 64:45===W()&&(x+=Y(B())),h=W(),l=f=P(b=x+=te(K())),g++;break;case 45:45===p&&2==P(x)&&(v=0)}}return a}function pe(e,t,n,r,i,a,o,u,s,c,l){for(var f=i-1,h=0===i?a:[""],d=A(h),p=0,v=0,m=0;p<r;++p)for(var y=0,g=R(e,f+1,f=x(v=o[p])),b=e;y<d;++y)(b=C(v>0?h[y]+" "+g:I(g,/&\f/g,h[y])))&&(s[m++]=b);return U(e,t,n,0===i?oe:u,s,c,l)}function ve(e,t,n){return U(e,t,n,ae,S(j),R(e,2,-2),0)}function me(e,t,n,r){return U(e,t,n,ue,R(e,0,r),R(e,r+1,-1),r)}var ye=function(e,t,n){for(var r=0,i=0;r=i,i=W(),38===r&&12===i&&(t[n]=1),!G(i);)B();return H(e,F)},ge=function(e,t){return $(function(e,t){var n=-1,r=44;do{switch(G(r)){case 0:38===r&&12===W()&&(t[n]=1),e[n]+=ye(F-1,t,n);break;case 2:e[n]+=Y(r);break;case 4:if(44===r){e[++n]=58===W()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=S(r)}}while(r=B());return e}(Q(e),t))},be=new WeakMap,ke=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||be.get(n))&&!r){be.set(e,!0);for(var i=[],a=ge(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},we=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},_e=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case ue:e.return=fe(e.value,e.length);break;case se:return ce([z(e,{value:I(e.value,"@","@"+ie)})],r);case oe:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ce([z(e,{props:[I(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return ce([z(e,{props:[I(t,/:(plac\w+)/,":-webkit-input-$1")]}),z(e,{props:[I(t,/:(plac\w+)/,":-moz-$1")]}),z(e,{props:[I(t,/:(plac\w+)/,ne+"input-$1")]})],r)}return""}))}}],xe=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||_e;var i,a,o={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;u.push(e)}));var s,c,l=[le,(c=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=A(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([ke,we].concat(r,l));a=function(e,t,n,r){s=n,function(e){ce(he(e),f)}(e?e+"{"+t.styles+"}":t.styles),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new _({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(u),h};var Se=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},Ee={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ce=/[A-Z]|^ms/g,Ie=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Te=function(e){return 45===e.charCodeAt(1)},Ne=function(e){return null!=e&&"boolean"!==typeof e},Re=b((function(e){return Te(e)?e:e.replace(Ce,"-$&").toLowerCase()})),Pe=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Ie,(function(e,t,n){return Oe={name:t,styles:n,next:Oe},t}))}return 1===Ee[e]||Te(e)||"number"!==typeof t||0===t?t:t+"px"};function Ae(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Oe={name:n.name,styles:n.styles,next:Oe},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Oe={name:r.name,styles:r.styles,next:Oe},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ae(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":Ne(o)&&(r+=Re(a)+":"+Pe(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=Ae(e,t,o);switch(a){case"animation":case"animationName":r+=Re(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)Ne(o[s])&&(r+=Re(a)+":"+Pe(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Oe,a=n(e);return Oe=i,Ae(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var Oe,De=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Me=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Oe=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=Ae(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=Ae(n,t,e[o]),r&&(i+=a[o]);De.lastIndex=0;for(var u,s="";null!==(u=De.exec(i));)s+="-"+u[1];return{name:Se(i)+s,styles:i,next:Oe}},Le=(0,t.createContext)("undefined"!==typeof HTMLElement?xe({key:"css"}):null);Le.Provider;var Fe=function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(Le);return e(n,i,r)}))},je=(0,t.createContext)({});r.useInsertionEffect&&r.useInsertionEffect;function Ve(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var Ue=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},ze=function(e,t,n){Ue(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}},qe=w,Be=function(e){return"theme"!==e},We=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?qe:Be},Ke=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},He=r.useInsertionEffect?r.useInsertionEffect:function(e){e()};var Ge=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;Ue(t,n,r);He((function(){return ze(t,n,r)}));return null},Qe=function e(n,r){var i,a,o=n.__emotion_real===n,u=o&&n.__emotion_base||n;void 0!==r&&(i=r.label,a=r.target);var s=Ke(n,r,o),c=s||We(u),l=!c("as");return function(){var f=arguments,h=o&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&h.push("label:"+i+";"),null==f[0]||void 0===f[0].raw)h.push.apply(h,f);else{0,h.push(f[0][0]);for(var d=f.length,v=1;v<d;v++)h.push(f[v],f[0][v])}var m=Fe((function(e,n,r){var i=l&&e.as||u,o="",f=[],d=e;if(null==e.theme){for(var p in d={},e)d[p]=e[p];d.theme=(0,t.useContext)(je)}"string"===typeof e.className?o=Ve(n.registered,f,e.className):null!=e.className&&(o=e.className+" ");var v=Me(h.concat(f),n.registered,d);o+=n.key+"-"+v.name,void 0!==a&&(o+=" "+a);var m=l&&void 0===s?We(i):c,y={};for(var g in e)l&&"as"===g||m(g)&&(y[g]=e[g]);return y.className=o,y.ref=r,(0,t.createElement)(t.Fragment,null,(0,t.createElement)(Ge,{cache:n,serialized:v,isStringTag:"string"===typeof i}),(0,t.createElement)(i,y))}));return m.displayName=void 0!==i?i:"Styled("+("string"===typeof u?u:u.displayName||u.name||"Component")+")",m.defaultProps=n.defaultProps,m.__emotion_real=m,m.__emotion_base=u,m.__emotion_styles=h,m.__emotion_forwardProp=s,Object.defineProperty(m,"toString",{value:function(){return"."+a}}),m.withComponent=function(t,n){return e(t,p({},r,n,{shouldForwardProp:Ke(m,n,!0)})).apply(void 0,h)},m}},$e=Qe.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){$e[e]=$e(e)}));var Ye=$e;function Xe(e,t){return Ye(e,t)}function Je(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function Ze(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?p({},e):e;return Je(e)&&Je(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(Je(t[i])&&i in e&&Je(e[i])?r[i]=Ze(e[i],t[i],n):r[i]=t[i])})),r}var et=["values","unit","step"];function tt(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=d(e,et),s=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return p({},e,h({},t.key,t.val))}),{})}(n),c=Object.keys(s);function l(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function v(e,t){var r=c.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[c[r]]?n[c[r]]:t)-o/100).concat(i,")")}return p({keys:c,values:s,up:l,down:f,between:v,only:function(e){return c.indexOf(e)+1<c.length?v(e,c[c.indexOf(e)+1]):l(e)},not:function(e){var t=c.indexOf(e);return 0===t?l(c[1]):t===c.length-1?f(c[t]):v(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},u)}var nt={borderRadius:4},rt={xs:0,sm:600,md:900,lg:1200,xl:1536},it={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(rt[e],"px)")}};function at(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||it;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||it;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||rt).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function ot(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function ut(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function st(e){var t,n=e.values,r=e.breakpoints,i=e.base||function(e,t){if("object"!==typeof e)return{};var n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((function(t,r){r<e.length&&(n[t]=!0)})):r.forEach((function(t){null!=e[t]&&(n[t]=!0)})),n}(n,r),a=Object.keys(i);return 0===a.length?n:a.reduce((function(e,r,i){return Array.isArray(n)?(e[r]=null!=n[i]?n[i]:n[t],t=i):(e[r]=null!=n[r]?n[r]:n[t]||n,t=r),e}),{})}function ct(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function lt(e){if("string"!==typeof e)throw new Error(ct(7));return e.charAt(0).toUpperCase()+e.slice(1)}function ft(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}function ht(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:ft(e,n)||i,t&&(r=t(r)),r}var dt=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=ft(e.theme,i)||{};return at(e,n,(function(e){var n=ht(o,a,e);return e===n&&"string"===typeof e&&(n=ht(o,a,"".concat(t).concat("default"===e?"":lt(e)),e)),!1===r?n:h({},r,n)}))};return o.propTypes={},o.filterProps=[t],o};var pt=function(e,t){return t?Ze(e,t,{clone:!1}):e};var vt={m:"margin",p:"padding"},mt={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},yt={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},gt=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!yt[e])return[e];e=yt[e]}var t=c(e.split(""),2),n=t[0],r=t[1],i=vt[n],a=mt[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),bt=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],kt=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],wt=[].concat(bt,kt);function _t(e,t,n,r){var i=ft(e,t)||n;return"number"===typeof i?function(e){return"string"===typeof e?e:i*e}:Array.isArray(i)?function(e){return"string"===typeof e?e:i[e]}:"function"===typeof i?i:function(){}}function xt(e){return _t(e,"spacing",8)}function St(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function Et(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=St(t,n),e}),{})}}(gt(n),r);return at(e,e[n],i)}function Ct(e,t){var n=xt(e.theme);return Object.keys(e).map((function(r){return Et(e,t,r,n)})).reduce(pt,{})}function It(e){return Ct(e,bt)}function Tt(e){return Ct(e,kt)}function Nt(e){return Ct(e,wt)}It.propTypes={},It.filterProps=bt,Tt.propTypes={},Tt.filterProps=kt,Nt.propTypes={},Nt.filterProps=wt;var Rt=Nt;function Pt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=xt({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var At=["breakpoints","palette","spacing","shape"];var Ot=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,u=void 0===o?{}:o,s=d(e,At),c=tt(n),l=Pt(a),f=Ze({breakpoints:c,direction:"ltr",components:{},palette:p({mode:"light"},i),spacing:l,shape:p({},nt,u)},s),h=arguments.length,v=new Array(h>1?h-1:0),m=1;m<h;m++)v[m-1]=arguments[m];return f=v.reduce((function(e,t){return Ze(e,t)}),f)},Dt=["variant"];function Mt(e){return 0===e.length}function Lt(e){var t=e.variant,n=d(e,Dt),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?Mt(r)?e[t]:lt(e[t]):"".concat(Mt(r)?t:lt(t)).concat(lt(e[t].toString()))})),r}var Ft=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?pt(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function jt(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var Vt=dt({prop:"border",themeKey:"borders",transform:jt}),Ut=dt({prop:"borderTop",themeKey:"borders",transform:jt}),zt=dt({prop:"borderRight",themeKey:"borders",transform:jt}),qt=dt({prop:"borderBottom",themeKey:"borders",transform:jt}),Bt=dt({prop:"borderLeft",themeKey:"borders",transform:jt}),Wt=dt({prop:"borderColor",themeKey:"palette"}),Kt=dt({prop:"borderTopColor",themeKey:"palette"}),Ht=dt({prop:"borderRightColor",themeKey:"palette"}),Gt=dt({prop:"borderBottomColor",themeKey:"palette"}),Qt=dt({prop:"borderLeftColor",themeKey:"palette"}),$t=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=_t(e.theme,"shape.borderRadius",4);return at(e,e.borderRadius,(function(e){return{borderRadius:St(t,e)}}))}return null};$t.propTypes={},$t.filterProps=["borderRadius"];var Yt=Ft(Vt,Ut,zt,qt,Bt,Wt,Kt,Ht,Gt,Qt,$t),Xt=Ft(dt({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),dt({prop:"display"}),dt({prop:"overflow"}),dt({prop:"textOverflow"}),dt({prop:"visibility"}),dt({prop:"whiteSpace"})),Jt=Ft(dt({prop:"flexBasis"}),dt({prop:"flexDirection"}),dt({prop:"flexWrap"}),dt({prop:"justifyContent"}),dt({prop:"alignItems"}),dt({prop:"alignContent"}),dt({prop:"order"}),dt({prop:"flex"}),dt({prop:"flexGrow"}),dt({prop:"flexShrink"}),dt({prop:"alignSelf"}),dt({prop:"justifyItems"}),dt({prop:"justifySelf"})),Zt=function(e){if(void 0!==e.gap&&null!==e.gap){var t=_t(e.theme,"spacing",8);return at(e,e.gap,(function(e){return{gap:St(t,e)}}))}return null};Zt.propTypes={},Zt.filterProps=["gap"];var en=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=_t(e.theme,"spacing",8);return at(e,e.columnGap,(function(e){return{columnGap:St(t,e)}}))}return null};en.propTypes={},en.filterProps=["columnGap"];var tn=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=_t(e.theme,"spacing",8);return at(e,e.rowGap,(function(e){return{rowGap:St(t,e)}}))}return null};tn.propTypes={},tn.filterProps=["rowGap"];var nn=Ft(Zt,en,tn,dt({prop:"gridColumn"}),dt({prop:"gridRow"}),dt({prop:"gridAutoFlow"}),dt({prop:"gridAutoColumns"}),dt({prop:"gridAutoRows"}),dt({prop:"gridTemplateColumns"}),dt({prop:"gridTemplateRows"}),dt({prop:"gridTemplateAreas"}),dt({prop:"gridArea"})),rn=Ft(dt({prop:"position"}),dt({prop:"zIndex",themeKey:"zIndex"}),dt({prop:"top"}),dt({prop:"right"}),dt({prop:"bottom"}),dt({prop:"left"})),an=Ft(dt({prop:"color",themeKey:"palette"}),dt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),dt({prop:"backgroundColor",themeKey:"palette"})),on=dt({prop:"boxShadow",themeKey:"shadows"});function un(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var sn=dt({prop:"width",transform:un}),cn=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return at(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||rt[t]||un(t)}}))}return null};cn.filterProps=["maxWidth"];var ln=dt({prop:"minWidth",transform:un}),fn=dt({prop:"height",transform:un}),hn=dt({prop:"maxHeight",transform:un}),dn=dt({prop:"minHeight",transform:un}),pn=(dt({prop:"size",cssProperty:"width",transform:un}),dt({prop:"size",cssProperty:"height",transform:un}),Ft(sn,cn,ln,fn,hn,dn,dt({prop:"boxSizing"}))),vn=dt({prop:"fontFamily",themeKey:"typography"}),mn=dt({prop:"fontSize",themeKey:"typography"}),yn=dt({prop:"fontStyle",themeKey:"typography"}),gn=dt({prop:"fontWeight",themeKey:"typography"}),bn=dt({prop:"letterSpacing"}),kn=dt({prop:"textTransform"}),wn=dt({prop:"lineHeight"}),_n=dt({prop:"textAlign"}),xn=Ft(dt({prop:"typography",cssProperty:!1,themeKey:"typography"}),vn,mn,yn,gn,bn,wn,_n,kn),Sn={borders:Yt.filterProps,display:Xt.filterProps,flexbox:Jt.filterProps,grid:nn.filterProps,positions:rn.filterProps,palette:an.filterProps,shadows:on.filterProps,sizing:pn.filterProps,spacing:Rt.filterProps,typography:xn.filterProps},En={borders:Yt,display:Xt,flexbox:Jt,grid:nn,positions:rn,palette:an,shadows:on,sizing:pn,spacing:Rt,typography:xn},Cn=Object.keys(Sn).reduce((function(e,t){return Sn[t].forEach((function(n){e[n]=En[t]})),e}),{});function In(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}function Tn(e,t){return"function"===typeof e?e(t):e}var Nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En,t=Object.keys(e).reduce((function(t,n){return e[n].filterProps.forEach((function(r){t[r]=e[n]})),t}),{});function n(e,n,r){var i,a=(h(i={},e,n),h(i,"theme",r),i),o=t[e];return o?o(a):h({},e,n)}function r(e){var i=e||{},a=i.sx,o=i.theme,u=void 0===o?{}:o;if(!a)return null;function s(e){var i=e;if("function"===typeof e)i=e(u);else if("object"!==typeof e)return e;if(!i)return null;var a=ot(u.breakpoints),o=Object.keys(a),s=a;return Object.keys(i).forEach((function(e){var a=Tn(i[e],u);if(null!==a&&void 0!==a)if("object"===typeof a)if(t[e])s=pt(s,n(e,a,u));else{var o=at({theme:u},a,(function(t){return h({},e,t)}));In(o,a)?s[e]=r({sx:a,theme:u}):s=pt(s,o)}else s=pt(s,n(e,a,u))})),ut(o,s)}return Array.isArray(a)?a.map(s):s(a)}return r}();Nn.filterProps=["sx"];var Rn=Nn,Pn=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],An=["theme"],On=["theme"];function Dn(e){return 0===Object.keys(e).length}var Mn=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},Ln=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=Lt(e.props);r[t]=e.style})),r},Fn=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[Lt(n.props)])})),s};function jn(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var Vn=Ot();function Un(e,t,n){var r;return p({toolbar:(r={minHeight:56},h(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),h(r,e.up("sm"),{minHeight:64}),r)},n)}function zn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function qn(e){if(e.type)return e;if("#"===e.charAt(0))return qn(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(ct(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(ct(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function Bn(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function Wn(e){var t="hsl"===(e=qn(e)).type?qn(function(e){var t=(e=qn(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),Bn({type:u,values:s})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Kn(e,t){return e=qn(e),t=zn(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,Bn(e)}function Hn(e,t){if(e=qn(e),t=zn(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Bn(e)}function Gn(e,t){if(e=qn(e),t=zn(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return Bn(e)}var Qn={black:"#000",white:"#fff"},$n={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Yn={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Xn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Jn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Zn={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},er={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},tr={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},nr=["mode","contrastThreshold","tonalOffset"],rr={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Qn.white,default:Qn.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},ir={text:{primary:Qn.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Qn.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function ar(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Gn(e.main,i):"dark"===t&&(e.dark=Hn(e.main,a)))}function or(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,a=e.tonalOffset,o=void 0===a?.2:a,u=d(e,nr),s=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Zn[200],light:Zn[50],dark:Zn[400]}:{main:Zn[700],light:Zn[400],dark:Zn[800]}}(n),c=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Yn[200],light:Yn[50],dark:Yn[400]}:{main:Yn[500],light:Yn[300],dark:Yn[700]}}(n),l=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Xn[500],light:Xn[300],dark:Xn[700]}:{main:Xn[700],light:Xn[400],dark:Xn[800]}}(n),f=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:er[400],light:er[300],dark:er[700]}:{main:er[700],light:er[500],dark:er[900]}}(n),h=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:tr[400],light:tr[300],dark:tr[700]}:{main:tr[800],light:tr[500],dark:tr[900]}}(n),v=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Jn[400],light:Jn[300],dark:Jn[700]}:{main:"#ed6c02",light:Jn[500],dark:Jn[900]}}(n);function m(e){var t=function(e,t){var n=Wn(e),r=Wn(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,ir.text.primary)>=i?ir.text.primary:rr.text.primary;return t}var y=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,a=e.lightShade,u=void 0===a?300:a,s=e.darkShade,c=void 0===s?700:s;if(!(t=p({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(ct(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(ct(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return ar(t,"light",u,o),ar(t,"dark",c,o),t.contrastText||(t.contrastText=m(t.main)),t},g={dark:ir,light:rr};return Ze(p({common:Qn,mode:n,primary:y({color:s,name:"primary"}),secondary:y({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:l,name:"error"}),warning:y({color:v,name:"warning"}),info:y({color:f,name:"info"}),success:y({color:h,name:"success"}),grey:$n,contrastThreshold:i,getContrastText:m,augmentColor:y,tonalOffset:o},g[n]),u)}var ur=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var sr={textTransform:"uppercase"},cr='"Roboto", "Helvetica", "Arial", sans-serif';function lr(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?cr:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,c=n.fontWeightRegular,l=void 0===c?400:c,f=n.fontWeightMedium,h=void 0===f?500:f,v=n.fontWeightBold,m=void 0===v?700:v,y=n.htmlFontSize,g=void 0===y?16:y,b=n.allVariants,k=n.pxToRem,w=d(n,ur);var _=o/14,x=k||function(e){return"".concat(e/g*_,"rem")},S=function(e,t,n,r,a){return p({fontFamily:i,fontWeight:e,fontSize:x(t),lineHeight:n},i===cr?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,b);var o},E={h1:S(s,96,1.167,-1.5),h2:S(s,60,1.2,-.5),h3:S(l,48,1.167,0),h4:S(l,34,1.235,.25),h5:S(l,24,1.334,0),h6:S(h,20,1.6,.15),subtitle1:S(l,16,1.75,.15),subtitle2:S(h,14,1.57,.1),body1:S(l,16,1.5,.15),body2:S(l,14,1.43,.15),button:S(h,14,1.75,.4,sr),caption:S(l,12,1.66,.4),overline:S(l,12,2.66,1,sr)};return Ze(p({htmlFontSize:g,pxToRem:x,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:l,fontWeightMedium:h,fontWeightBold:m},E),w,{clone:!1})}function fr(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var hr=["none",fr(0,2,1,-1,0,1,1,0,0,1,3,0),fr(0,3,1,-2,0,2,2,0,0,1,5,0),fr(0,3,3,-2,0,3,4,0,0,1,8,0),fr(0,2,4,-1,0,4,5,0,0,1,10,0),fr(0,3,5,-1,0,5,8,0,0,1,14,0),fr(0,3,5,-1,0,6,10,0,0,1,18,0),fr(0,4,5,-2,0,7,10,1,0,2,16,1),fr(0,5,5,-3,0,8,10,1,0,3,14,2),fr(0,5,6,-3,0,9,12,1,0,3,16,2),fr(0,6,6,-3,0,10,14,1,0,4,18,3),fr(0,6,7,-4,0,11,15,1,0,4,20,3),fr(0,7,8,-4,0,12,17,2,0,5,22,4),fr(0,7,8,-4,0,13,19,2,0,5,24,4),fr(0,7,9,-4,0,14,21,2,0,5,26,4),fr(0,8,9,-5,0,15,22,2,0,6,28,5),fr(0,8,10,-5,0,16,24,2,0,6,30,5),fr(0,8,11,-5,0,17,26,2,0,6,32,5),fr(0,9,11,-5,0,18,28,2,0,7,34,6),fr(0,9,12,-6,0,19,29,2,0,7,36,6),fr(0,10,13,-6,0,20,31,3,0,8,38,7),fr(0,10,13,-6,0,21,33,3,0,8,40,7),fr(0,10,14,-6,0,22,35,3,0,8,42,7),fr(0,11,14,-7,0,23,36,3,0,9,44,8),fr(0,11,15,-7,0,24,38,3,0,9,46,8)],dr=["duration","easing","delay"],pr={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},vr={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function mr(e){return"".concat(Math.round(e),"ms")}function yr(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function gr(e){var t=p({},pr,e.easing),n=p({},vr,e.duration);return p({getAutoHeightDuration:yr,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,u=void 0===o?t.easeInOut:o,s=r.delay,c=void 0===s?0:s;d(r,dr);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:mr(a)," ").concat(u," ").concat("string"===typeof c?c:mr(c))})).join(",")}},e,{easing:t,duration:n})}var br={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},kr=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function wr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,u=e.typography,s=void 0===u?{}:u,c=d(e,kr),l=or(i),f=Ot(e),h=Ze(f,{mixins:Un(f.breakpoints,f.spacing,n),palette:l,shadows:hr.slice(),typography:lr(l,s),transitions:gr(o),zIndex:p({},br)});h=Ze(h,c);for(var v=arguments.length,m=new Array(v>1?v-1:0),y=1;y<v;y++)m[y-1]=arguments[y];return h=m.reduce((function(e,t){return Ze(e,t)}),h)}var _r=wr,xr=_r(),Sr=function(e){return jn(e)&&"classes"!==e},Er=jn,Cr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?Vn:t,r=e.rootShouldForwardProp,i=void 0===r?jn:r,a=e.slotShouldForwardProp,o=void 0===a?jn:a,u=e.styleFunctionSx,s=void 0===u?Rn:u;return function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.name,u=r.slot,l=r.skipVariantsResolver,f=r.skipSx,h=r.overridesResolver,v=d(r,Pn),m=void 0!==l?l:u&&"Root"!==u||!1,y=f||!1;var b=jn;"Root"===u?b=i:u&&(b=o);var k=Xe(e,p({shouldForwardProp:b,label:t},v)),w=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o=r?r.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=d(t,An);return e(p({theme:Dn(r)?n:r},i))}:e})):[],u=e;a&&h&&o.push((function(e){var t=Dn(e.theme)?n:e.theme,r=Mn(a,t);if(r){var i={};return Object.entries(r).forEach((function(t){var n=c(t,2),r=n[0],a=n[1];i[r]="function"===typeof a?a(e):a})),h(e,i)}return null})),a&&!m&&o.push((function(e){var t=Dn(e.theme)?n:e.theme;return Fn(e,Ln(a,t),t,a)})),y||o.push((function(e){var t=Dn(e.theme)?n:e.theme;return s(p({},e,{theme:t}))}));var l=o.length-r.length;if(Array.isArray(e)&&l>0){var f=new Array(l).fill("");(u=[].concat(g(e),g(f))).raw=[].concat(g(e.raw),g(f))}else"function"===typeof e&&e.__emotion_real!==e&&(u=function(t){var r=t.theme,i=d(t,On);return e(p({theme:Dn(r)?n:r},i))});var v=k.apply(void 0,[u].concat(g(o)));return v};return k.withConfig&&(w.withConfig=k.withConfig),w}}({defaultTheme:xr,rootShouldForwardProp:Sr}),Ir=Cr;function Tr(e,t){var n=p({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}var Nr=t.createContext(null);function Rr(){return t.useContext(Nr)}function Pr(e){return 0===Object.keys(e).length}var Ar=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Rr();return!t||Pr(t)?e:t},Or=Ot();var Dr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or;return Ar(e)};function Mr(e){var t=e.props,n=e.name,r=e.defaultTheme,i=function(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?Tr(t.components[n].defaultProps,r):r}({theme:Dr(r),name:n,props:t});return i}function Lr(e){return Mr({props:e.props,name:e.name,defaultTheme:xr})}function Fr(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function jr(e,n){return t.useMemo((function(){return null==e&&null==n?null:function(t){Fr(e,t),Fr(n,t)}}),[e,n])}var Vr=jr,Ur="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;function zr(e){var n=t.useRef(e);return Ur((function(){n.current=e})),t.useCallback((function(){return n.current.apply(void 0,arguments)}),[])}var qr,Br=zr,Wr=!0,Kr=!1,Hr={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Gr(e){e.metaKey||e.altKey||e.ctrlKey||(Wr=!0)}function Qr(){Wr=!1}function $r(){"hidden"===this.visibilityState&&Kr&&(Wr=!0)}function Yr(e){var t=e.target;try{return t.matches(":focus-visible")}catch(eF){}return Wr||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!Hr[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var Xr=function(){var e=t.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",Gr,!0),t.addEventListener("mousedown",Qr,!0),t.addEventListener("pointerdown",Qr,!0),t.addEventListener("touchstart",Qr,!0),t.addEventListener("visibilitychange",$r,!0))}),[]),n=t.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!Yr(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(Kr=!0,window.clearTimeout(qr),qr=window.setTimeout((function(){Kr=!1}),100),n.current=!1,!0)},ref:e}};function Jr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Zr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ei(e,t){return ei=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ei(e,t)}function ti(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ei(e,t)}var ni=t.createContext(null);function ri(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function ii(e,t,n){return null!=n[t]?n[t]:e.props[t]}function ai(e,n,r){var i=ri(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(n,i);return Object.keys(a).forEach((function(o){var u=a[o];if((0,t.isValidElement)(u)){var s=o in n,c=o in i,l=n[o],f=(0,t.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,t.isValidElement)(l)&&(a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:l.props.in,exit:ii(u,"exit",e),enter:ii(u,"enter",e)})):a[o]=(0,t.cloneElement)(u,{in:!1}):a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:!0,exit:ii(u,"exit",e),enter:ii(u,"enter",e)})}})),a}var oi=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},ui=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(Zr(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}ti(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,ri(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:ii(e,"appear",r),enter:ii(e,"enter",r),exit:ii(e,"exit",r)})}))):ai(e,a,o),firstRender:!1}},r.handleExited=function(e,t){var n=ri(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=p({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=d(e,["component","childFactory"]),a=this.state.contextValue,o=oi(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(ni.Provider,{value:a},o):t.createElement(ni.Provider,{value:a},t.createElement(n,i,o))},n}(t.Component);ui.propTypes={},ui.defaultProps={component:"div",childFactory:function(e){return e}};var si=ui,ci=(n(110),r.useInsertionEffect?r.useInsertionEffect:t.useLayoutEffect),li=Fe((function(e,n){var r=e.styles,i=Me([r],void 0,(0,t.useContext)(je)),a=(0,t.useRef)();return ci((function(){var e=n.key+"-global",t=new n.sheet.constructor({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),t.hydrate([o])),a.current=[t,r],function(){t.flush()}}),[n]),ci((function(){var e=a.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&ze(n,i.next,!0),t.tags.length){var r=t.tags[t.tags.length-1].nextElementSibling;t.before=r,t.flush()}n.insert("",i,t,!1)}}),[n,i.name]),null}));function fi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Me(t)}var hi=function(){var e=fi.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var di=n(184);var pi=function(e){var n=e.className,r=e.classes,i=e.pulsate,a=void 0!==i&&i,o=e.rippleX,u=e.rippleY,s=e.rippleSize,l=e.in,f=e.onExited,h=e.timeout,d=c(t.useState(!1),2),p=d[0],v=d[1],y=m(n,r.ripple,r.rippleVisible,a&&r.ripplePulsate),g={width:s,height:s,top:-s/2+u,left:-s/2+o},b=m(r.child,p&&r.childLeaving,a&&r.childPulsate);return l||p||v(!0),t.useEffect((function(){if(!l&&null!=f){var e=setTimeout(f,h);return function(){clearTimeout(e)}}}),[f,l,h]),(0,di.jsx)("span",{className:y,style:g,children:(0,di.jsx)("span",{className:b})})},vi=function(e){return e},mi=function(){var e=vi;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=vi}}}(),yi={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function gi(e,t){return yi[t]||"".concat(mi.generate(e),"-").concat(t)}function bi(e,t){var n={};return t.forEach((function(t){n[t]=gi(e,t)})),n}var ki,wi,_i,xi,Si,Ei,Ci,Ii,Ti=bi("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Ni=["center","classes","className"],Ri=hi(Si||(Si=ki||(ki=Jr(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),Pi=hi(Ei||(Ei=wi||(wi=Jr(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),Ai=hi(Ci||(Ci=_i||(_i=Jr(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),Oi=Ir("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Di=Ir(pi,{name:"MuiTouchRipple",slot:"Ripple"})(Ii||(Ii=xi||(xi=Jr(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),Ti.rippleVisible,Ri,550,(function(e){return e.theme.transitions.easing.easeInOut}),Ti.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),Ti.child,Ti.childLeaving,Pi,550,(function(e){return e.theme.transitions.easing.easeInOut}),Ti.childPulsate,Ai,(function(e){return e.theme.transitions.easing.easeInOut})),Mi=t.forwardRef((function(e,n){var r=Lr({props:e,name:"MuiTouchRipple"}),i=r.center,a=void 0!==i&&i,o=r.classes,u=void 0===o?{}:o,s=r.className,l=d(r,Ni),f=c(t.useState([]),2),h=f[0],v=f[1],y=t.useRef(0),b=t.useRef(null);t.useEffect((function(){b.current&&(b.current(),b.current=null)}),[h]);var k=t.useRef(!1),w=t.useRef(null),_=t.useRef(null),x=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(w.current)}}),[]);var S=t.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;v((function(e){return[].concat(g(e),[(0,di.jsx)(Di,{classes:{ripple:m(u.ripple,Ti.ripple),rippleVisible:m(u.rippleVisible,Ti.rippleVisible),ripplePulsate:m(u.ripplePulsate,Ti.ripplePulsate),child:m(u.child,Ti.child),childLeaving:m(u.childLeaving,Ti.childLeaving),childPulsate:m(u.childPulsate,Ti.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},y.current)])})),y.current+=1,b.current=a}),[u]),E=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,o=t.center,u=void 0===o?a||t.pulsate:o,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===e.type&&k.current)k.current=!1;else{"touchstart"===e.type&&(k.current=!0);var l,f,h,d=c?null:x.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches?e.touches[0]:e,m=v.clientX,y=v.clientY;l=Math.round(m-p.left),f=Math.round(y-p.top)}if(u)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var g=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,b=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(g,2)+Math.pow(b,2))}e.touches?null===_.current&&(_.current=function(){S({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})},w.current=setTimeout((function(){_.current&&(_.current(),_.current=null)}),80)):S({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[a,S]),C=t.useCallback((function(){E({},{pulsate:!0})}),[E]),I=t.useCallback((function(e,t){if(clearTimeout(w.current),"touchend"===e.type&&_.current)return _.current(),_.current=null,void(w.current=setTimeout((function(){I(e,t)})));_.current=null,v((function(e){return e.length>0?e.slice(1):e})),b.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:C,start:E,stop:I}}),[C,E,I]),(0,di.jsx)(Oi,p({className:m(u.root,Ti.root,s),ref:x},l,{children:(0,di.jsx)(si,{component:null,exit:!0,children:h})}))})),Li=Mi;function Fi(e){return gi("MuiButtonBase",e)}var ji,Vi=bi("MuiButtonBase",["root","disabled","focusVisible"]),Ui=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],zi=Ir("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((h(ji={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(Vi.disabled),{pointerEvents:"none",cursor:"default"}),h(ji,"@media print",{colorAdjust:"exact"}),ji)),qi=t.forwardRef((function(e,n){var r=Lr({props:e,name:"MuiButtonBase"}),i=r.action,a=r.centerRipple,o=void 0!==a&&a,u=r.children,s=r.className,l=r.component,f=void 0===l?"button":l,h=r.disabled,v=void 0!==h&&h,g=r.disableRipple,b=void 0!==g&&g,k=r.disableTouchRipple,w=void 0!==k&&k,_=r.focusRipple,x=void 0!==_&&_,S=r.LinkComponent,E=void 0===S?"a":S,C=r.onBlur,I=r.onClick,T=r.onContextMenu,N=r.onDragLeave,R=r.onFocus,P=r.onFocusVisible,A=r.onKeyDown,O=r.onKeyUp,D=r.onMouseDown,M=r.onMouseLeave,L=r.onMouseUp,F=r.onTouchEnd,j=r.onTouchMove,V=r.onTouchStart,U=r.tabIndex,z=void 0===U?0:U,q=r.TouchRippleProps,B=r.touchRippleRef,W=r.type,K=d(r,Ui),H=t.useRef(null),G=t.useRef(null),Q=Vr(G,B),$=Xr(),Y=$.isFocusVisibleRef,X=$.onFocus,J=$.onBlur,Z=$.ref,ee=c(t.useState(!1),2),te=ee[0],ne=ee[1];v&&te&&ne(!1),t.useImperativeHandle(i,(function(){return{focusVisible:function(){ne(!0),H.current.focus()}}}),[]);var re=c(t.useState(!1),2),ie=re[0],ae=re[1];t.useEffect((function(){ae(!0)}),[]);var oe=ie&&!b&&!v;function ue(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w;return Br((function(r){return t&&t(r),!n&&G.current&&G.current[e](r),!0}))}t.useEffect((function(){te&&x&&!b&&ie&&G.current.pulsate()}),[b,x,te,ie]);var se=ue("start",D),ce=ue("stop",T),le=ue("stop",N),fe=ue("stop",L),he=ue("stop",(function(e){te&&e.preventDefault(),M&&M(e)})),de=ue("start",V),pe=ue("stop",F),ve=ue("stop",j),me=ue("stop",(function(e){J(e),!1===Y.current&&ne(!1),C&&C(e)}),!1),ye=Br((function(e){H.current||(H.current=e.currentTarget),X(e),!0===Y.current&&(ne(!0),P&&P(e)),R&&R(e)})),ge=function(){var e=H.current;return f&&"button"!==f&&!("A"===e.tagName&&e.href)},be=t.useRef(!1),ke=Br((function(e){x&&!be.current&&te&&G.current&&" "===e.key&&(be.current=!0,G.current.stop(e,(function(){G.current.start(e)}))),e.target===e.currentTarget&&ge()&&" "===e.key&&e.preventDefault(),A&&A(e),e.target===e.currentTarget&&ge()&&"Enter"===e.key&&!v&&(e.preventDefault(),I&&I(e))})),we=Br((function(e){x&&" "===e.key&&G.current&&te&&!e.defaultPrevented&&(be.current=!1,G.current.stop(e,(function(){G.current.pulsate(e)}))),O&&O(e),I&&e.target===e.currentTarget&&ge()&&" "===e.key&&!e.defaultPrevented&&I(e)})),_e=f;"button"===_e&&(K.href||K.to)&&(_e=E);var xe={};"button"===_e?(xe.type=void 0===W?"button":W,xe.disabled=v):(K.href||K.to||(xe.role="button"),v&&(xe["aria-disabled"]=v));var Se=Vr(Z,H),Ee=Vr(n,Se);var Ce=p({},r,{centerRipple:o,component:f,disabled:v,disableRipple:b,disableTouchRipple:w,focusRipple:x,tabIndex:z,focusVisible:te}),Ie=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=y({root:["root",t&&"disabled",n&&"focusVisible"]},Fi,e.classes);return n&&r&&(i.root+=" ".concat(r)),i}(Ce);return(0,di.jsxs)(zi,p({as:_e,className:m(Ie.root,s),ownerState:Ce,onBlur:me,onClick:I,onContextMenu:ce,onFocus:ye,onKeyDown:ke,onKeyUp:we,onMouseDown:se,onMouseLeave:he,onMouseUp:fe,onDragLeave:le,onTouchEnd:pe,onTouchMove:ve,onTouchStart:de,ref:Ee,tabIndex:v?-1:z,type:W},xe,K,{children:[u,oe?(0,di.jsx)(Li,p({ref:Q,center:o},q)):null]}))})),Bi=qi,Wi=lt;function Ki(e){return gi("MuiFab",e)}var Hi=bi("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),Gi=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],Qi=Ir(Bi,{name:"MuiFab",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["size".concat(Wi(n.size))],"inherit"===n.color&&t.colorInherit,t[Wi(n.size)],t[n.color]]}})((function(e){var t,n=e.theme,r=e.ownerState;return p({},n.typography.button,(h(t={minHeight:36,transition:n.transitions.create(["background-color","box-shadow","border-color"],{duration:n.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:n.zIndex.fab,boxShadow:n.shadows[6],"&:active":{boxShadow:n.shadows[12]},color:n.palette.getContrastText(n.palette.grey[300]),backgroundColor:n.palette.grey[300],"&:hover":{backgroundColor:n.palette.grey.A100,"@media (hover: none)":{backgroundColor:n.palette.grey[300]},textDecoration:"none"}},"&.".concat(Hi.focusVisible),{boxShadow:n.shadows[6]}),h(t,"&.".concat(Hi.disabled),{color:n.palette.action.disabled,boxShadow:n.shadows[0],backgroundColor:n.palette.action.disabledBackground}),t),"small"===r.size&&{width:40,height:40},"medium"===r.size&&{width:48,height:48},"extended"===r.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},"extended"===r.variant&&"small"===r.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"extended"===r.variant&&"medium"===r.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},"inherit"===r.color&&{color:"inherit"})}),(function(e){var t=e.theme,n=e.ownerState;return p({},"inherit"!==n.color&&"default"!==n.color&&null!=t.palette[n.color]&&{color:t.palette[n.color].contrastText,backgroundColor:t.palette[n.color].main,"&:hover":{backgroundColor:t.palette[n.color].dark,"@media (hover: none)":{backgroundColor:t.palette[n.color].main}}})})),$i=t.forwardRef((function(e,t){var n=Lr({props:e,name:"MuiFab"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"default":a,u=n.component,s=void 0===u?"button":u,c=n.disabled,l=void 0!==c&&c,f=n.disableFocusRipple,h=void 0!==f&&f,v=n.focusVisibleClassName,g=n.size,b=void 0===g?"large":g,k=n.variant,w=void 0===k?"circular":k,_=d(n,Gi),x=p({},n,{color:o,component:s,disabled:l,disableFocusRipple:h,size:b,variant:w}),S=function(e){var t=e.color,n=e.variant,r=e.classes,i=e.size;return y({root:["root",n,"size".concat(Wi(i)),"inherit"===t?"colorInherit":t]},Ki,r)}(x);return(0,di.jsx)(Qi,p({className:m(S.root,i),component:s,disabled:l,focusRipple:!h,focusVisibleClassName:m(S.focusVisible,v),ownerState:x,ref:t},_,{children:r}))})),Yi=$i;function Xi(e){return gi("MuiContainer",e)}bi("MuiContainer",["root","disableGutters","fixed","maxWidthXs","maxWidthSm","maxWidthMd","maxWidthLg","maxWidthXl"]);var Ji=["className","component","disableGutters","fixed","maxWidth"],Zi=Ir("div",{name:"MuiContainer",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["maxWidth".concat(Wi(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}})((function(e){var t=e.theme;return p({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!e.ownerState.disableGutters&&h({paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}))}),(function(e){var t=e.theme;return e.ownerState.fixed&&Object.keys(t.breakpoints.values).reduce((function(e,n){var r=t.breakpoints.values[n];return 0!==r&&(e[t.breakpoints.up(n)]={maxWidth:"".concat(r).concat(t.breakpoints.unit)}),e}),{})}),(function(e){var t=e.theme,n=e.ownerState;return p({},"xs"===n.maxWidth&&h({},t.breakpoints.up("xs"),{maxWidth:Math.max(t.breakpoints.values.xs,444)}),n.maxWidth&&"xs"!==n.maxWidth&&h({},t.breakpoints.up(n.maxWidth),{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)}))})),ea=t.forwardRef((function(e,t){var n=Lr({props:e,name:"MuiContainer"}),r=n.className,i=n.component,a=void 0===i?"div":i,o=n.disableGutters,u=void 0!==o&&o,s=n.fixed,c=void 0!==s&&s,l=n.maxWidth,f=void 0===l?"lg":l,h=d(n,Ji),v=p({},n,{component:a,disableGutters:u,fixed:c,maxWidth:f}),g=function(e){var t=e.classes,n=e.fixed,r=e.disableGutters,i=e.maxWidth;return y({root:["root",i&&"maxWidth".concat(Wi(String(i))),n&&"fixed",r&&"disableGutters"]},Xi,t)}(v);return(0,di.jsx)(Zi,p({as:a,ownerState:v,className:m(g.root,r),ref:t},h))})),ta=ea,na=0;var ra=r.useId;function ia(e){if(void 0!==ra){var n=ra();return null!=e?e:n}return function(e){var n=c(t.useState(e),2),r=n[0],i=n[1],a=e||r;return t.useEffect((function(){null==r&&i("mui-".concat(na+=1))}),[r]),a}(e)}function aa(e){return e&&e.ownerDocument||document}function oa(e){return aa(e).defaultView||window}function ua(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var u=function(){e.apply(r,a)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r}var sa=["onChange","maxRows","minRows","style","value"];function ca(e,t){return parseInt(e[t],10)||0}var la={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},fa=t.forwardRef((function(e,n){var r=e.onChange,i=e.maxRows,a=e.minRows,o=void 0===a?1:a,u=e.style,s=e.value,l=d(e,sa),f=t.useRef(null!=s).current,h=t.useRef(null),v=jr(n,h),m=t.useRef(null),y=t.useRef(0),g=c(t.useState({}),2),b=g[0],k=g[1],w=t.useCallback((function(){var t=h.current,n=oa(t).getComputedStyle(t);if("0px"!==n.width){var r=m.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var a=n["box-sizing"],u=ca(n,"padding-bottom")+ca(n,"padding-top"),s=ca(n,"border-bottom-width")+ca(n,"border-top-width"),c=r.scrollHeight;r.value="x";var l=r.scrollHeight,f=c;o&&(f=Math.max(Number(o)*l,f)),i&&(f=Math.min(Number(i)*l,f));var d=(f=Math.max(f,l))+("border-box"===a?u+s:0),p=Math.abs(f-c)<=1;k((function(e){return y.current<20&&(d>0&&Math.abs((e.outerHeightStyle||0)-d)>1||e.overflow!==p)?(y.current+=1,{overflow:p,outerHeightStyle:d}):e}))}}),[i,o,e.placeholder]);t.useEffect((function(){var e,t=ua((function(){y.current=0,w()})),n=oa(h.current);return n.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t)).observe(h.current),function(){t.clear(),n.removeEventListener("resize",t),e&&e.disconnect()}}),[w]),Ur((function(){w()})),t.useEffect((function(){y.current=0}),[s]);return(0,di.jsxs)(t.Fragment,{children:[(0,di.jsx)("textarea",p({value:s,onChange:function(e){y.current=0,f||w(),r&&r(e)},ref:v,rows:o,style:p({height:b.outerHeightStyle,overflow:b.overflow?"hidden":null},u)},l)),(0,di.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:m,tabIndex:-1,style:p({},la,u,{padding:0})})]})})),ha=fa;var da=function(e){return"string"===typeof e};function pa(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}var va=t.createContext();function ma(){return t.useContext(va)}var ya=Ur;function ga(e){var t=e.styles,n=e.defaultTheme,r=void 0===n?{}:n,i="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return(0,di.jsx)(li,{styles:i})}var ba=function(e){return(0,di.jsx)(ga,p({},e,{defaultTheme:xr}))};function ka(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function wa(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(ka(e.value)&&""!==e.value||t&&ka(e.defaultValue)&&""!==e.defaultValue)}function _a(e){return gi("MuiInputBase",e)}var xa=bi("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Sa=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],Ea=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(Wi(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},Ca=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},Ia=Ir("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Ea})((function(e){var t=e.theme,n=e.ownerState;return p({},t.typography.body1,h({color:t.palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(xa.disabled),{color:t.palette.text.disabled,cursor:"default"}),n.multiline&&p({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),Ta=Ir("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Ca})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode,a={color:"currentColor",opacity:i?.42:.5,transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},o={opacity:"0 !important"},u={opacity:i?.42:.5};return p((h(t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},"label[data-shrink=false] + .".concat(xa.formControl," &"),{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":u,"&:focus::-moz-placeholder":u,"&:focus:-ms-input-placeholder":u,"&:focus::-ms-input-placeholder":u}),h(t,"&.".concat(xa.disabled),{opacity:1,WebkitTextFillColor:n.palette.text.disabled}),h(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===r.size&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===r.type&&{MozAppearance:"textfield"})})),Na=(0,di.jsx)(ba,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Ra=t.forwardRef((function(e,n){var r=Lr({props:e,name:"MuiInputBase"}),i=r["aria-describedby"],a=r.autoComplete,o=r.autoFocus,u=r.className,s=r.components,l=void 0===s?{}:s,f=r.componentsProps,h=void 0===f?{}:f,v=r.defaultValue,g=r.disabled,b=r.disableInjectingGlobalStyles,k=r.endAdornment,w=r.fullWidth,_=void 0!==w&&w,x=r.id,S=r.inputComponent,E=void 0===S?"input":S,C=r.inputProps,I=void 0===C?{}:C,T=r.inputRef,N=r.maxRows,R=r.minRows,P=r.multiline,A=void 0!==P&&P,O=r.name,D=r.onBlur,M=r.onChange,L=r.onClick,F=r.onFocus,j=r.onKeyDown,V=r.onKeyUp,U=r.placeholder,z=r.readOnly,q=r.renderSuffix,B=r.rows,W=r.startAdornment,K=r.type,H=void 0===K?"text":K,G=r.value,Q=d(r,Sa),$=null!=I.value?I.value:G,Y=t.useRef(null!=$).current,X=t.useRef(),J=t.useCallback((function(e){0}),[]),Z=Vr(I.ref,J),ee=Vr(T,Z),te=Vr(X,ee),ne=c(t.useState(!1),2),re=ne[0],ie=ne[1],ae=ma();var oe=pa({props:r,muiFormControl:ae,states:["color","disabled","error","hiddenLabel","size","required","filled"]});oe.focused=ae?ae.focused:re,t.useEffect((function(){!ae&&g&&re&&(ie(!1),D&&D())}),[ae,g,re,D]);var ue=ae&&ae.onFilled,se=ae&&ae.onEmpty,ce=t.useCallback((function(e){wa(e)?ue&&ue():se&&se()}),[ue,se]);ya((function(){Y&&ce({value:$})}),[$,ce,Y]);t.useEffect((function(){ce(X.current)}),[]);var le=E,fe=I;A&&"input"===le&&(fe=p(B?{type:void 0,minRows:B,maxRows:B}:{type:void 0,maxRows:N,minRows:R},fe),le=ha);t.useEffect((function(){ae&&ae.setAdornedStart(Boolean(W))}),[ae,W]);var he=p({},r,{color:oe.color||"primary",disabled:oe.disabled,endAdornment:k,error:oe.error,focused:oe.focused,formControl:ae,fullWidth:_,hiddenLabel:oe.hiddenLabel,multiline:A,size:oe.size,startAdornment:W,type:H}),de=function(e){var t=e.classes,n=e.color,r=e.disabled,i=e.error,a=e.endAdornment,o=e.focused,u=e.formControl,s=e.fullWidth,c=e.hiddenLabel,l=e.multiline,f=e.size,h=e.startAdornment,d=e.type;return y({root:["root","color".concat(Wi(n)),r&&"disabled",i&&"error",s&&"fullWidth",o&&"focused",u&&"formControl","small"===f&&"sizeSmall",l&&"multiline",h&&"adornedStart",a&&"adornedEnd",c&&"hiddenLabel"],input:["input",r&&"disabled","search"===d&&"inputTypeSearch",l&&"inputMultiline","small"===f&&"inputSizeSmall",c&&"inputHiddenLabel",h&&"inputAdornedStart",a&&"inputAdornedEnd"]},_a,t)}(he),pe=l.Root||Ia,ve=h.root||{},me=l.Input||Ta;return fe=p({},fe,h.input),(0,di.jsxs)(t.Fragment,{children:[!b&&Na,(0,di.jsxs)(pe,p({},ve,!da(pe)&&{ownerState:p({},he,ve.ownerState)},{ref:n,onClick:function(e){X.current&&e.currentTarget===e.target&&X.current.focus(),L&&L(e)}},Q,{className:m(de.root,ve.className,u),children:[W,(0,di.jsx)(va.Provider,{value:null,children:(0,di.jsx)(me,p({ownerState:he,"aria-invalid":oe.error,"aria-describedby":i,autoComplete:a,autoFocus:o,defaultValue:v,disabled:oe.disabled,id:x,onAnimationStart:function(e){ce("mui-auto-fill-cancel"===e.animationName?X.current:{value:"x"})},name:O,placeholder:U,readOnly:z,required:oe.required,rows:B,value:$,onKeyDown:j,onKeyUp:V,type:H},fe,!da(me)&&{as:le,ownerState:p({},he,fe.ownerState)},{ref:te,className:m(de.input,fe.className),onBlur:function(e){D&&D(e),I.onBlur&&I.onBlur(e),ae&&ae.onBlur?ae.onBlur(e):ie(!1)},onChange:function(e){if(!Y){var t=e.target||X.current;if(null==t)throw new Error(ct(1));ce({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];I.onChange&&I.onChange.apply(I,[e].concat(r)),M&&M.apply(void 0,[e].concat(r))},onFocus:function(e){oe.disabled?e.stopPropagation():(F&&F(e),I.onFocus&&I.onFocus(e),ae&&ae.onFocus?ae.onFocus(e):ie(!0))}}))}),k,q?q(p({},oe,{startAdornment:W})):null]}))]})})),Pa=Ra;function Aa(e){return gi("MuiInput",e)}var Oa=p({},xa,bi("MuiInput",["root","underline","input"])),Da=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","type"],Ma=Ir(Ia,{shouldForwardProp:function(e){return Sr(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(g(Ea(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return p({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&(h(t={"&:after":{borderBottom:"2px solid ".concat(n.palette[r.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},"&.".concat(Oa.focused,":after"),{transform:"scaleX(1)"}),h(t,"&.".concat(Oa.error,":after"),{borderBottomColor:n.palette.error.main,transform:"scaleX(1)"}),h(t,"&:before",{borderBottom:"1px solid ".concat(i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),h(t,"&:hover:not(.".concat(Oa.disabled,"):before"),{borderBottom:"2px solid ".concat(n.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(i)}}),h(t,"&.".concat(Oa.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),La=Ir(Ta,{name:"MuiInput",slot:"Input",overridesResolver:Ca})({}),Fa=t.forwardRef((function(e,t){var n=Lr({props:e,name:"MuiInput"}),r=n.disableUnderline,i=n.components,a=void 0===i?{}:i,o=n.componentsProps,u=n.fullWidth,s=void 0!==u&&u,c=n.inputComponent,l=void 0===c?"input":c,f=n.multiline,h=void 0!==f&&f,v=n.type,m=void 0===v?"text":v,g=d(n,Da),b=function(e){var t=e.classes;return p({},t,y({root:["root",!e.disableUnderline&&"underline"],input:["input"]},Aa,t))}(n),k={root:{ownerState:{disableUnderline:r}}},w=o?Ze(o,k):k;return(0,di.jsx)(Pa,p({components:p({Root:Ma,Input:La},a),componentsProps:w,fullWidth:s,inputComponent:l,multiline:h,ref:t,type:m},g,{classes:b}))}));Fa.muiName="Input";var ja=Fa;function Va(e){return gi("MuiFilledInput",e)}var Ua=p({},xa,bi("MuiFilledInput",["root","underline","input"])),za=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","type"],qa=Ir(Ia,{shouldForwardProp:function(e){return Sr(e)||"classes"===e},name:"MuiFilledInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(g(Ea(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n,r=e.theme,i=e.ownerState,a="light"===r.palette.mode,o=a?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",u=a?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)";return p((h(t={position:"relative",backgroundColor:u,borderTopLeftRadius:r.shape.borderRadius,borderTopRightRadius:r.shape.borderRadius,transition:r.transitions.create("background-color",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),"&:hover":{backgroundColor:a?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:u}}},"&.".concat(Ua.focused),{backgroundColor:u}),h(t,"&.".concat(Ua.disabled),{backgroundColor:a?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}),t),!i.disableUnderline&&(h(n={"&:after":{borderBottom:"2px solid ".concat(r.palette[i.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:r.transitions.create("transform",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),pointerEvents:"none"}},"&.".concat(Ua.focused,":after"),{transform:"scaleX(1)"}),h(n,"&.".concat(Ua.error,":after"),{borderBottomColor:r.palette.error.main,transform:"scaleX(1)"}),h(n,"&:before",{borderBottom:"1px solid ".concat(o),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:r.transitions.create("border-bottom-color",{duration:r.transitions.duration.shorter}),pointerEvents:"none"}),h(n,"&:hover:not(.".concat(Ua.disabled,"):before"),{borderBottom:"1px solid ".concat(r.palette.text.primary)}),h(n,"&.".concat(Ua.disabled,":before"),{borderBottomStyle:"dotted"}),n),i.startAdornment&&{paddingLeft:12},i.endAdornment&&{paddingRight:12},i.multiline&&p({padding:"25px 12px 8px"},"small"===i.size&&{paddingTop:21,paddingBottom:4},i.hiddenLabel&&{paddingTop:16,paddingBottom:17}))})),Ba=Ir(Ta,{name:"MuiFilledInput",slot:"Input",overridesResolver:Ca})((function(e){var t=e.theme,n=e.ownerState;return p({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9})})),Wa=t.forwardRef((function(e,t){var n=Lr({props:e,name:"MuiFilledInput"}),r=n.components,i=void 0===r?{}:r,a=n.componentsProps,o=n.fullWidth,u=void 0!==o&&o,s=n.inputComponent,c=void 0===s?"input":s,l=n.multiline,f=void 0!==l&&l,h=n.type,v=void 0===h?"text":h,m=d(n,za),g=p({},n,{fullWidth:u,inputComponent:c,multiline:f,type:v}),b=function(e){var t=e.classes;return p({},t,y({root:["root",!e.disableUnderline&&"underline"],input:["input"]},Va,t))}(n),k={root:{ownerState:g},input:{ownerState:g}},w=a?Ze(a,k):k;return(0,di.jsx)(Pa,p({components:p({Root:qa,Input:Ba},i),componentsProps:w,fullWidth:u,inputComponent:c,multiline:f,ref:t,type:v},m,{classes:b}))}));Wa.muiName="Input";var Ka,Ha=Wa,Ga=["children","classes","className","label","notched"],Qa=Ir("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),$a=Ir("legend")((function(e){var t=e.ownerState,n=e.theme;return p({float:"unset",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&p({display:"block",width:"auto",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function Ya(e){return gi("MuiOutlinedInput",e)}var Xa=p({},xa,bi("MuiOutlinedInput",["root","notchedOutline","input"])),Ja=["components","fullWidth","inputComponent","label","multiline","notched","type"],Za=Ir(Ia,{shouldForwardProp:function(e){return Sr(e)||"classes"===e},name:"MuiOutlinedInput",slot:"Root",overridesResolver:Ea})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return p((h(t={position:"relative",borderRadius:n.shape.borderRadius},"&:hover .".concat(Xa.notchedOutline),{borderColor:n.palette.text.primary}),h(t,"@media (hover: none)",h({},"&:hover .".concat(Xa.notchedOutline),{borderColor:i})),h(t,"&.".concat(Xa.focused," .").concat(Xa.notchedOutline),{borderColor:n.palette[r.color].main,borderWidth:2}),h(t,"&.".concat(Xa.error," .").concat(Xa.notchedOutline),{borderColor:n.palette.error.main}),h(t,"&.".concat(Xa.disabled," .").concat(Xa.notchedOutline),{borderColor:n.palette.action.disabled}),t),r.startAdornment&&{paddingLeft:14},r.endAdornment&&{paddingRight:14},r.multiline&&p({padding:"16.5px 14px"},"small"===r.size&&{padding:"8.5px 14px"}))})),eo=Ir((function(e){var t=e.className,n=e.label,r=e.notched,i=d(e,Ga),a=null!=n&&""!==n,o=p({},e,{notched:r,withLabel:a});return(0,di.jsx)(Qa,p({"aria-hidden":!0,className:t,ownerState:o},i,{children:(0,di.jsx)($a,{ownerState:o,children:a?(0,di.jsx)("span",{children:n}):Ka||(Ka=(0,di.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:function(e,t){return t.notchedOutline}})((function(e){return{borderColor:"light"===e.theme.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}})),to=Ir(Ta,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Ca})((function(e){var t=e.theme,n=e.ownerState;return p({padding:"16.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),no=t.forwardRef((function(e,n){var r,i=Lr({props:e,name:"MuiOutlinedInput"}),a=i.components,o=void 0===a?{}:a,u=i.fullWidth,s=void 0!==u&&u,c=i.inputComponent,l=void 0===c?"input":c,f=i.label,h=i.multiline,v=void 0!==h&&h,m=i.notched,g=i.type,b=void 0===g?"text":g,k=d(i,Ja),w=function(e){var t=e.classes;return p({},t,y({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Ya,t))}(i),_=pa({props:i,muiFormControl:ma(),states:["required"]});return(0,di.jsx)(Pa,p({components:p({Root:Za,Input:to},o),renderSuffix:function(e){return(0,di.jsx)(eo,{className:w.notchedOutline,label:null!=f&&""!==f&&_.required?r||(r=(0,di.jsxs)(t.Fragment,{children:[f,"\xa0","*"]})):f,notched:"undefined"!==typeof m?m:Boolean(e.startAdornment||e.filled||e.focused)})},fullWidth:s,inputComponent:l,multiline:v,ref:n,type:b},k,{classes:p({},w,{notchedOutline:null})}))}));no.muiName="Input";var ro=no;function io(e){return gi("MuiFormLabel",e)}var ao=bi("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),oo=["children","className","color","component","disabled","error","filled","focused","required"],uo=Ir("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return p({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((function(e){var t,n=e.theme,r=e.ownerState;return p({color:n.palette.text.secondary},n.typography.body1,(h(t={lineHeight:"1.4375em",padding:0,position:"relative"},"&.".concat(ao.focused),{color:n.palette[r.color].main}),h(t,"&.".concat(ao.disabled),{color:n.palette.text.disabled}),h(t,"&.".concat(ao.error),{color:n.palette.error.main}),t))})),so=Ir("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:function(e,t){return t.asterisk}})((function(e){var t=e.theme;return h({},"&.".concat(ao.error),{color:t.palette.error.main})})),co=t.forwardRef((function(e,t){var n=Lr({props:e,name:"MuiFormLabel"}),r=n.children,i=n.className,a=n.component,o=void 0===a?"label":a,u=d(n,oo),s=pa({props:n,muiFormControl:ma(),states:["color","required","focused","disabled","error","filled"]}),c=p({},n,{color:s.color||"primary",component:o,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),l=function(e){var t=e.classes,n=e.color,r=e.focused,i=e.disabled,a=e.error,o=e.filled,u=e.required;return y({root:["root","color".concat(Wi(n)),i&&"disabled",a&&"error",o&&"filled",r&&"focused",u&&"required"],asterisk:["asterisk",a&&"error"]},io,t)}(c);return(0,di.jsxs)(uo,p({as:o,ownerState:c,className:m(l.root,i),ref:t},u,{children:[r,s.required&&(0,di.jsxs)(so,{ownerState:c,"aria-hidden":!0,className:l.asterisk,children:["\u2009","*"]})]}))})),lo=co;function fo(e){return gi("MuiInputLabel",e)}bi("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var ho=["disableAnimation","margin","shrink","variant"],po=Ir(lo,{shouldForwardProp:function(e){return Sr(e)||"classes"===e},name:"MuiInputLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[h({},"& .".concat(ao.asterisk),t.asterisk),t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return p({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&p({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&p({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&p({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 24px)",transform:"translate(14px, -9px) scale(0.75)"}))})),vo=t.forwardRef((function(e,t){var n=Lr({name:"MuiInputLabel",props:e}),r=n.disableAnimation,i=void 0!==r&&r,a=n.shrink,o=d(n,ho),u=ma(),s=a;"undefined"===typeof s&&u&&(s=u.filled||u.focused||u.adornedStart);var c=pa({props:n,muiFormControl:u,states:["size","variant","required"]}),l=p({},n,{disableAnimation:i,formControl:u,shrink:s,size:c.size,variant:c.variant,required:c.required}),f=function(e){var t=e.classes,n=e.formControl,r=e.size,i=e.shrink;return p({},t,y({root:["root",n&&"formControl",!e.disableAnimation&&"animated",i&&"shrink","small"===r&&"sizeSmall",e.variant],asterisk:[e.required&&"asterisk"]},fo,t))}(l);return(0,di.jsx)(po,p({"data-shrink":s,ownerState:l,ref:t},o,{classes:f}))})),mo=vo;var yo=function(e,n){return t.isValidElement(e)&&-1!==n.indexOf(e.type.muiName)};function go(e){return gi("MuiFormControl",e)}bi("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var bo=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],ko=Ir("div",{name:"MuiFormControl",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return p({},t.root,t["margin".concat(Wi(n.margin))],n.fullWidth&&t.fullWidth)}})((function(e){var t=e.ownerState;return p({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),wo=t.forwardRef((function(e,n){var r=Lr({props:e,name:"MuiFormControl"}),i=r.children,a=r.className,o=r.color,u=void 0===o?"primary":o,s=r.component,l=void 0===s?"div":s,f=r.disabled,h=void 0!==f&&f,v=r.error,g=void 0!==v&&v,b=r.focused,k=r.fullWidth,w=void 0!==k&&k,_=r.hiddenLabel,x=void 0!==_&&_,S=r.margin,E=void 0===S?"none":S,C=r.required,I=void 0!==C&&C,T=r.size,N=void 0===T?"medium":T,R=r.variant,P=void 0===R?"outlined":R,A=d(r,bo),O=p({},r,{color:u,component:l,disabled:h,error:g,fullWidth:w,hiddenLabel:x,margin:E,required:I,size:N,variant:P}),D=function(e){var t=e.classes,n=e.margin,r=e.fullWidth;return y({root:["root","none"!==n&&"margin".concat(Wi(n)),r&&"fullWidth"]},go,t)}(O),M=c(t.useState((function(){var e=!1;return i&&t.Children.forEach(i,(function(t){if(yo(t,["Input","Select"])){var n=yo(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}})),e})),2),L=M[0],F=M[1],j=c(t.useState((function(){var e=!1;return i&&t.Children.forEach(i,(function(t){yo(t,["Input","Select"])&&wa(t.props,!0)&&(e=!0)})),e})),2),V=j[0],U=j[1],z=c(t.useState(!1),2),q=z[0],B=z[1];h&&q&&B(!1);var W=void 0===b||h?q:b,K=t.useCallback((function(){U(!0)}),[]),H={adornedStart:L,setAdornedStart:F,color:u,disabled:h,error:g,filled:V,focused:W,fullWidth:w,hiddenLabel:x,size:N,onBlur:function(){B(!1)},onEmpty:t.useCallback((function(){U(!1)}),[]),onFilled:K,onFocus:function(){B(!0)},registerEffect:undefined,required:I,variant:P};return(0,di.jsx)(va.Provider,{value:H,children:(0,di.jsx)(ko,p({as:l,ownerState:O,className:m(D.root,a),ref:n},A,{children:i}))})})),_o=wo;function xo(e){return gi("MuiFormHelperText",e)}var So,Eo=bi("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),Co=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Io=Ir("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.size&&t["size".concat(Wi(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((function(e){var t,n=e.theme,r=e.ownerState;return p({color:n.palette.text.secondary},n.typography.caption,(h(t={textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0},"&.".concat(Eo.disabled),{color:n.palette.text.disabled}),h(t,"&.".concat(Eo.error),{color:n.palette.error.main}),t),"small"===r.size&&{marginTop:4},r.contained&&{marginLeft:14,marginRight:14})})),To=t.forwardRef((function(e,t){var n=Lr({props:e,name:"MuiFormHelperText"}),r=n.children,i=n.className,a=n.component,o=void 0===a?"p":a,u=d(n,Co),s=pa({props:n,muiFormControl:ma(),states:["variant","size","disabled","error","filled","focused","required"]}),c=p({},n,{component:o,contained:"filled"===s.variant||"outlined"===s.variant,variant:s.variant,size:s.size,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),l=function(e){var t=e.classes,n=e.contained,r=e.size,i=e.disabled,a=e.error,o=e.filled,u=e.focused,s=e.required;return y({root:["root",i&&"disabled",a&&"error",r&&"size".concat(Wi(r)),n&&"contained",u&&"focused",o&&"filled",s&&"required"]},xo,t)}(c);return(0,di.jsx)(Io,p({as:o,ownerState:c,className:m(l.root,i),ref:t},u,{children:" "===r?So||(So=(0,di.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))})),No=To,Ro=(n(441),aa);var Po=t.createContext({});function Ao(e){return gi("MuiList",e)}bi("MuiList",["root","padding","dense","subheader"]);var Oo=["children","className","component","dense","disablePadding","subheader"],Do=Ir("ul",{name:"MuiList",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((function(e){var t=e.ownerState;return p({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),Mo=t.forwardRef((function(e,n){var r=Lr({props:e,name:"MuiList"}),i=r.children,a=r.className,o=r.component,u=void 0===o?"ul":o,s=r.dense,c=void 0!==s&&s,l=r.disablePadding,f=void 0!==l&&l,h=r.subheader,v=d(r,Oo),g=t.useMemo((function(){return{dense:c}}),[c]),b=p({},r,{component:u,dense:c,disablePadding:f}),k=function(e){var t=e.classes;return y({root:["root",!e.disablePadding&&"padding",e.dense&&"dense",e.subheader&&"subheader"]},Ao,t)}(b);return(0,di.jsx)(Po.Provider,{value:g,children:(0,di.jsxs)(Do,p({as:u,className:m(k.root,a),ref:n,ownerState:b},v,{children:[h,i]}))})})),Lo=Mo;function Fo(e){var t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}var jo=Fo,Vo=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Uo(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function zo(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function qo(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function Bo(e,t,n,r,i,a){for(var o=!1,u=i(e,t,!!t&&n);u;){if(u===e.firstChild){if(o)return!1;o=!0}var s=!r&&(u.disabled||"true"===u.getAttribute("aria-disabled"));if(u.hasAttribute("tabindex")&&qo(u,a)&&!s)return u.focus(),!0;u=i(e,u,n)}return!1}var Wo=t.forwardRef((function(e,n){var r=e.actions,i=e.autoFocus,a=void 0!==i&&i,o=e.autoFocusItem,u=void 0!==o&&o,s=e.children,c=e.className,l=e.disabledItemsFocusable,f=void 0!==l&&l,h=e.disableListWrap,v=void 0!==h&&h,m=e.onKeyDown,y=e.variant,g=void 0===y?"selectedMenu":y,b=d(e,Vo),k=t.useRef(null),w=t.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ya((function(){a&&k.current.focus()}),[a]),t.useImperativeHandle(r,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!k.current.style.width;if(e.clientHeight<k.current.clientHeight&&n){var r="".concat(jo(Ro(e)),"px");k.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,k.current.style.width="calc(100% + ".concat(r,")")}return k.current}}}),[]);var _=Vr(k,n),x=-1;t.Children.forEach(s,(function(e,n){t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===g&&e.props.selected||-1===x)&&(x=n))}));var S=t.Children.map(s,(function(e,n){if(n===x){var r={};return u&&(r.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===g&&(r.tabIndex=0),t.cloneElement(e,r)}return e}));return(0,di.jsx)(Lo,p({role:"menu",ref:_,className:c,onKeyDown:function(e){var t=k.current,n=e.key,r=Ro(t).activeElement;if("ArrowDown"===n)e.preventDefault(),Bo(t,r,v,f,Uo);else if("ArrowUp"===n)e.preventDefault(),Bo(t,r,v,f,zo);else if("Home"===n)e.preventDefault(),Bo(t,null,v,f,Uo);else if("End"===n)e.preventDefault(),Bo(t,null,v,f,zo);else if(1===n.length){var i=w.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);var u=r&&!i.repeating&&qo(r,i);i.previousKeyMatched&&(u||Bo(t,r,!1,f,Uo,i))?e.preventDefault():i.previousKeyMatched=!1}m&&m(e)},tabIndex:a?0:-1},b,{children:S}))})),Ko=Wo;function Ho(e){return gi("MuiPaper",e)}bi("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var Go=["className","component","elevation","square","variant"],Qo=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)},$o=Ir("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t=e.theme,n=e.ownerState;return p({backgroundColor:t.palette.background.paper,color:t.palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat(t.palette.divider)},"elevation"===n.variant&&p({boxShadow:t.shadows[n.elevation]},"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat(Kn("#fff",Qo(n.elevation)),", ").concat(Kn("#fff",Qo(n.elevation)),")")}))})),Yo=t.forwardRef((function(e,t){var n=Lr({props:e,name:"MuiPaper"}),r=n.className,i=n.component,a=void 0===i?"div":i,o=n.elevation,u=void 0===o?1:o,s=n.square,c=void 0!==s&&s,l=n.variant,f=void 0===l?"elevation":l,h=d(n,Go),v=p({},n,{component:a,elevation:u,square:c,variant:f}),g=function(e){var t=e.square,n=e.elevation,r=e.variant,i=e.classes;return y({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},Ho,i)}(v);return(0,di.jsx)($o,p({as:a,ownerState:v,className:m(g.root,r),ref:t},h))})),Xo=Yo,Jo=ua,Zo=oa,eu=!1,tu="unmounted",nu="exited",ru="entering",iu="entered",au="exiting",ou=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=nu,r.appearStatus=ru):i=iu:i=t.unmountOnExit||t.mountOnEnter?tu:nu,r.state={status:i},r.nextCallback=null,r}ti(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===tu?{status:nu}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==ru&&n!==iu&&(t=ru):n!==ru&&n!==iu||(t=au)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===ru?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===nu&&this.setState({status:tu})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,a=this.props.nodeRef?[r]:[i.findDOMNode(this),r],o=a[0],u=a[1],s=this.getTimeouts(),c=r?s.appear:s.enter;!e&&!n||eu?this.safeSetState({status:iu},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,u),this.safeSetState({status:ru},(function(){t.props.onEntering(o,u),t.onTransitionEnd(c,(function(){t.safeSetState({status:iu},(function(){t.props.onEntered(o,u)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:i.findDOMNode(this);t&&!eu?(this.props.onExit(r),this.safeSetState({status:au},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:nu},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:nu},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=a[0],u=a[1];this.props.addEndListener(o,u)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===tu)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,d(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(ni.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function uu(){}ou.contextType=ni,ou.propTypes={},ou.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:uu,onEntering:uu,onEntered:uu,onExit:uu,onExiting:uu,onExited:uu},ou.UNMOUNTED=tu,ou.EXITED=nu,ou.ENTERING=ru,ou.ENTERED=iu,ou.EXITING=au;var su=ou;function cu(){return Dr(xr)}var lu=function(e){return e.scrollTop};function fu(e,t){var n,r,i=e.timeout,a=e.easing,o=e.style,u=void 0===o?{}:o;return{duration:null!=(n=u.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=u.transitionTimingFunction)?r:"object"===typeof a?a[t.mode]:a,delay:u.transitionDelay}}var hu=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function du(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var pu={entering:{opacity:1,transform:du(1)},entered:{opacity:1,transform:"none"}},vu="undefined"!==typeof navigator&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&/version\/15\.[4-9]/i.test(navigator.userAgent),mu=t.forwardRef((function(e,n){var r=e.addEndListener,i=e.appear,a=void 0===i||i,o=e.children,u=e.easing,s=e.in,c=e.onEnter,l=e.onEntered,f=e.onEntering,h=e.onExit,v=e.onExited,m=e.onExiting,y=e.style,g=e.timeout,b=void 0===g?"auto":g,k=e.TransitionComponent,w=void 0===k?su:k,_=d(e,hu),x=t.useRef(),S=t.useRef(),E=cu(),C=t.useRef(null),I=Vr(o.ref,n),T=Vr(C,I),N=function(e){return function(t){if(e){var n=C.current;void 0===t?e(n):e(n,t)}}},R=N(f),P=N((function(e,t){lu(e);var n,r=fu({style:y,timeout:b,easing:u},{mode:"enter"}),i=r.duration,a=r.delay,o=r.easing;"auto"===b?(n=E.transitions.getAutoHeightDuration(e.clientHeight),S.current=n):n=i,e.style.transition=[E.transitions.create("opacity",{duration:n,delay:a}),E.transitions.create("transform",{duration:vu?n:.666*n,delay:a,easing:o})].join(","),c&&c(e,t)})),A=N(l),O=N(m),D=N((function(e){var t,n=fu({style:y,timeout:b,easing:u},{mode:"exit"}),r=n.duration,i=n.delay,a=n.easing;"auto"===b?(t=E.transitions.getAutoHeightDuration(e.clientHeight),S.current=t):t=r,e.style.transition=[E.transitions.create("opacity",{duration:t,delay:i}),E.transitions.create("transform",{duration:vu?t:.666*t,delay:vu?i:i||.333*t,easing:a})].join(","),e.style.opacity=0,e.style.transform=du(.75),h&&h(e)})),M=N(v);return t.useEffect((function(){return function(){clearTimeout(x.current)}}),[]),(0,di.jsx)(w,p({appear:a,in:s,nodeRef:C,onEnter:P,onEntered:A,onEntering:R,onExit:D,onExited:M,onExiting:O,addEndListener:function(e){"auto"===b&&(x.current=setTimeout(e,S.current||0)),r&&r(C.current,e)},timeout:"auto"===b?null:b},_,{children:function(e,n){return t.cloneElement(o,p({style:p({opacity:0,transform:du(.75),visibility:"exited"!==e||s?void 0:"hidden"},pu[e],y,o.props.style),ref:T},n))}}))}));mu.muiSupportAuto=!0;var yu=mu;function gu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}var bu=t.forwardRef((function(e,n){var r=e.children,a=e.container,o=e.disablePortal,u=void 0!==o&&o,s=c(t.useState(null),2),l=s[0],f=s[1],h=jr(t.isValidElement(r)?r.ref:null,n);return Ur((function(){u||f(function(e){return"function"===typeof e?e():e}(a)||document.body)}),[a,u]),Ur((function(){if(l&&!u)return Fr(n,l),function(){Fr(n,null)}}),[n,l,u]),u?t.isValidElement(r)?t.cloneElement(r,{ref:h}):r:l?i.createPortal(r,l):l}));function ku(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _u(e,t,n){return t&&wu(e.prototype,t),n&&wu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xu(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Su(e){return parseInt(oa(e).getComputedStyle(e).paddingRight,10)||0}function Eu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[t,n].concat(g(r)),o=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){-1===a.indexOf(e)&&-1===o.indexOf(e.tagName)&&xu(e,i)}))}function Cu(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function Iu(e,t){var n=[],r=e.container;if(!t.disableScrollLock){if(function(e){var t=aa(e);return t.body===e?oa(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){var i=Fo(aa(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(Su(r)+i,"px");var a=aa(r).querySelectorAll(".mui-fixed");[].forEach.call(a,(function(e){n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(Su(e)+i,"px")}))}var o=r.parentElement,u=oa(r),s="HTML"===(null==o?void 0:o.nodeName)&&"scroll"===u.getComputedStyle(o).overflowY?o:r;n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return function(){n.forEach((function(e){var t=e.value,n=e.el,r=e.property;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var Tu=function(){function e(){ku(this,e),this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}return _u(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&xu(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);Eu(t,e.mount,e.modalRef,r,!0);var i=Cu(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}},{key:"mount",value:function(e,t){var n=Cu(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=Iu(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=Cu(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&xu(e.modalRef,!0),Eu(r.container,e.mount,e.modalRef,r.hiddenSiblings,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&xu(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}(),Nu=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Ru(e){var t=[],n=[];return Array.from(e.querySelectorAll(Nu)).forEach((function(e,r){var i=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;var t=function(t){return e.ownerDocument.querySelector('input[type="radio"]'.concat(t))},n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort((function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(t)}function Pu(){return!0}var Au=function(e){var n=e.children,r=e.disableAutoFocus,i=void 0!==r&&r,a=e.disableEnforceFocus,o=void 0!==a&&a,u=e.disableRestoreFocus,s=void 0!==u&&u,c=e.getTabbable,l=void 0===c?Ru:c,f=e.isEnabled,h=void 0===f?Pu:f,d=e.open,p=t.useRef(),v=t.useRef(null),m=t.useRef(null),y=t.useRef(null),g=t.useRef(null),b=t.useRef(!1),k=t.useRef(null),w=jr(n.ref,k),_=t.useRef(null);t.useEffect((function(){d&&k.current&&(b.current=!i)}),[i,d]),t.useEffect((function(){if(d&&k.current){var e=aa(k.current);return k.current.contains(e.activeElement)||(k.current.hasAttribute("tabIndex")||k.current.setAttribute("tabIndex",-1),b.current&&k.current.focus()),function(){s||(y.current&&y.current.focus&&(p.current=!0,y.current.focus()),y.current=null)}}}),[d]),t.useEffect((function(){if(d&&k.current){var e=aa(k.current),t=function(t){var n=k.current;if(null!==n)if(e.hasFocus()&&!o&&h()&&!p.current){if(!n.contains(e.activeElement)){if(t&&g.current!==t.target||e.activeElement!==g.current)g.current=null;else if(null!==g.current)return;if(!b.current)return;var r=[];if(e.activeElement!==v.current&&e.activeElement!==m.current||(r=l(k.current)),r.length>0){var i,a,u=Boolean((null==(i=_.current)?void 0:i.shiftKey)&&"Tab"===(null==(a=_.current)?void 0:a.key)),s=r[0],c=r[r.length-1];u?c.focus():s.focus()}else n.focus()}}else p.current=!1},n=function(t){_.current=t,!o&&h()&&"Tab"===t.key&&e.activeElement===k.current&&t.shiftKey&&(p.current=!0,m.current.focus())};e.addEventListener("focusin",t),e.addEventListener("keydown",n,!0);var r=setInterval((function(){"BODY"===e.activeElement.tagName&&t()}),50);return function(){clearInterval(r),e.removeEventListener("focusin",t),e.removeEventListener("keydown",n,!0)}}}),[i,o,s,h,d,l]);var x=function(e){null===y.current&&(y.current=e.relatedTarget),b.current=!0};return(0,di.jsxs)(t.Fragment,{children:[(0,di.jsx)("div",{tabIndex:0,onFocus:x,ref:v,"data-test":"sentinelStart"}),t.cloneElement(n,{ref:w,onFocus:function(e){null===y.current&&(y.current=e.relatedTarget),b.current=!0,g.current=e.target;var t=n.props.onFocus;t&&t(e)}}),(0,di.jsx)("div",{tabIndex:0,onFocus:x,ref:m,"data-test":"sentinelEnd"})]})};function Ou(e){return gi("MuiModal",e)}bi("MuiModal",["root","hidden"]);var Du=["BackdropComponent","BackdropProps","children","classes","className","closeAfterTransition","component","components","componentsProps","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","theme","onTransitionEnter","onTransitionExited"];var Mu=new Tu,Lu=t.forwardRef((function(e,n){var r=e.BackdropComponent,i=e.BackdropProps,a=e.children,o=e.classes,u=e.className,s=e.closeAfterTransition,l=void 0!==s&&s,f=e.component,h=void 0===f?"div":f,v=e.components,g=void 0===v?{}:v,b=e.componentsProps,k=void 0===b?{}:b,w=e.container,_=e.disableAutoFocus,x=void 0!==_&&_,S=e.disableEnforceFocus,E=void 0!==S&&S,C=e.disableEscapeKeyDown,I=void 0!==C&&C,T=e.disablePortal,N=void 0!==T&&T,R=e.disableRestoreFocus,P=void 0!==R&&R,A=e.disableScrollLock,O=void 0!==A&&A,D=e.hideBackdrop,M=void 0!==D&&D,L=e.keepMounted,F=void 0!==L&&L,j=e.manager,V=void 0===j?Mu:j,U=e.onBackdropClick,z=e.onClose,q=e.onKeyDown,B=e.open,W=e.theme,K=e.onTransitionEnter,H=e.onTransitionExited,G=d(e,Du),Q=c(t.useState(!0),2),$=Q[0],Y=Q[1],X=t.useRef({}),J=t.useRef(null),Z=t.useRef(null),ee=jr(Z,n),te=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(e),ne=function(){return X.current.modalRef=Z.current,X.current.mountNode=J.current,X.current},re=function(){V.mount(ne(),{disableScrollLock:O}),Z.current.scrollTop=0},ie=zr((function(){var e=function(e){return"function"===typeof e?e():e}(w)||aa(J.current).body;V.add(ne(),e),Z.current&&re()})),ae=t.useCallback((function(){return V.isTopModal(ne())}),[V]),oe=zr((function(e){J.current=e,e&&(B&&ae()?re():xu(Z.current,!0))})),ue=t.useCallback((function(){V.remove(ne())}),[V]);t.useEffect((function(){return function(){ue()}}),[ue]),t.useEffect((function(){B?ie():te&&l||ue()}),[B,ue,te,l,ie]);var se=p({},e,{classes:o,closeAfterTransition:l,disableAutoFocus:x,disableEnforceFocus:E,disableEscapeKeyDown:I,disablePortal:N,disableRestoreFocus:P,disableScrollLock:O,exited:$,hideBackdrop:M,keepMounted:F}),ce=function(e){var t=e.open,n=e.exited;return y({root:["root",!t&&n&&"hidden"]},Ou,e.classes)}(se);if(!F&&!B&&(!te||$))return null;var le={};void 0===a.props.tabIndex&&(le.tabIndex="-1"),te&&(le.onEnter=gu((function(){Y(!1),K&&K()}),a.props.onEnter),le.onExited=gu((function(){Y(!0),H&&H(),l&&ue()}),a.props.onExited));var fe=g.Root||h,he=k.root||{};return(0,di.jsx)(bu,{ref:oe,container:w,disablePortal:N,children:(0,di.jsxs)(fe,p({role:"presentation"},he,!da(fe)&&{as:h,ownerState:p({},se,he.ownerState),theme:W},G,{ref:ee,onKeyDown:function(e){q&&q(e),"Escape"===e.key&&ae()&&(I||(e.stopPropagation(),z&&z(e,"escapeKeyDown")))},className:m(ce.root,he.className,u),children:[!M&&r?(0,di.jsx)(r,p({"aria-hidden":!0,open:B,onClick:function(e){e.target===e.currentTarget&&(U&&U(e),z&&z(e,"backdropClick"))}},i)):null,(0,di.jsx)(Au,{disableEnforceFocus:E,disableAutoFocus:x,disableRestoreFocus:P,isEnabled:ae,open:B,children:t.cloneElement(a,le)})]}))})})),Fu=Lu,ju=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Vu={entering:{opacity:1},entered:{opacity:1}},Uu=t.forwardRef((function(e,n){var r=cu(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},a=e.addEndListener,o=e.appear,u=void 0===o||o,s=e.children,c=e.easing,l=e.in,f=e.onEnter,h=e.onEntered,v=e.onEntering,m=e.onExit,y=e.onExited,g=e.onExiting,b=e.style,k=e.timeout,w=void 0===k?i:k,_=e.TransitionComponent,x=void 0===_?su:_,S=d(e,ju),E=t.useRef(null),C=Vr(s.ref,n),I=Vr(E,C),T=function(e){return function(t){if(e){var n=E.current;void 0===t?e(n):e(n,t)}}},N=T(v),R=T((function(e,t){lu(e);var n=fu({style:b,timeout:w,easing:c},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),f&&f(e,t)})),P=T(h),A=T(g),O=T((function(e){var t=fu({style:b,timeout:w,easing:c},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),m&&m(e)})),D=T(y);return(0,di.jsx)(x,p({appear:u,in:l,nodeRef:E,onEnter:R,onEntered:P,onEntering:N,onExit:O,onExited:D,onExiting:A,addEndListener:function(e){a&&a(E.current,e)},timeout:w},S,{children:function(e,n){return t.cloneElement(s,p({style:p({opacity:0,visibility:"exited"!==e||l?void 0:"hidden"},Vu[e],b,s.props.style),ref:I},n))}}))})),zu=Uu;function qu(e){return gi("MuiBackdrop",e)}bi("MuiBackdrop",["root","invisible"]);var Bu=["children","component","components","componentsProps","className","invisible","open","transitionDuration","TransitionComponent"],Wu=Ir("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.invisible&&t.invisible]}})((function(e){return p({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.ownerState.invisible&&{backgroundColor:"transparent"})})),Ku=t.forwardRef((function(e,t){var n,r,i=Lr({props:e,name:"MuiBackdrop"}),a=i.children,o=i.component,u=void 0===o?"div":o,s=i.components,c=void 0===s?{}:s,l=i.componentsProps,f=void 0===l?{}:l,h=i.className,v=i.invisible,g=void 0!==v&&v,b=i.open,k=i.transitionDuration,w=i.TransitionComponent,_=void 0===w?zu:w,x=d(i,Bu),S=p({},i,{component:u,invisible:g}),E=function(e){var t=e.classes;return y({root:["root",e.invisible&&"invisible"]},qu,t)}(S);return(0,di.jsx)(_,p({in:b,timeout:k},x,{children:(0,di.jsx)(Wu,{"aria-hidden":!0,as:null!=(n=c.Root)?n:u,className:m(E.root,h),ownerState:p({},S,null==(r=f.root)?void 0:r.ownerState),classes:E,ref:t,children:a})}))})),Hu=["BackdropComponent","closeAfterTransition","children","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted"],Gu=Ir("div",{name:"MuiModal",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.open&&n.exited&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return p({position:"fixed",zIndex:t.zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),Qu=Ir(Ku,{name:"MuiModal",slot:"Backdrop",overridesResolver:function(e,t){return t.backdrop}})({zIndex:-1}),$u=t.forwardRef((function(e,n){var r,i=Lr({name:"MuiModal",props:e}),a=i.BackdropComponent,o=void 0===a?Qu:a,u=i.closeAfterTransition,s=void 0!==u&&u,l=i.children,f=i.components,h=void 0===f?{}:f,v=i.componentsProps,m=void 0===v?{}:v,y=i.disableAutoFocus,g=void 0!==y&&y,b=i.disableEnforceFocus,k=void 0!==b&&b,w=i.disableEscapeKeyDown,_=void 0!==w&&w,x=i.disablePortal,S=void 0!==x&&x,E=i.disableRestoreFocus,C=void 0!==E&&E,I=i.disableScrollLock,T=void 0!==I&&I,N=i.hideBackdrop,R=void 0!==N&&N,P=i.keepMounted,A=void 0!==P&&P,O=d(i,Hu),D=c(t.useState(!0),2),M=D[0],L=D[1],F={closeAfterTransition:s,disableAutoFocus:g,disableEnforceFocus:k,disableEscapeKeyDown:_,disablePortal:S,disableRestoreFocus:C,disableScrollLock:T,hideBackdrop:R,keepMounted:A},j=function(e){return e.classes}(p({},i,F,{exited:M}));return(0,di.jsx)(Fu,p({components:p({Root:Gu},h),componentsProps:{root:p({},m.root,(!h.Root||!da(h.Root))&&{ownerState:p({},null==(r=m.root)?void 0:r.ownerState)})},BackdropComponent:o,onTransitionEnter:function(){return L(!1)},onTransitionExited:function(){return L(!0)},ref:n},O,{classes:j},F,{children:l}))}));function Yu(e){return gi("MuiPopover",e)}bi("MuiPopover",["root","paper"]);var Xu=["onEntering"],Ju=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function Zu(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function es(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function ts(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function ns(e){return"function"===typeof e?e():e}var rs=Ir($u,{name:"MuiPopover",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),is=Ir(Xo,{name:"MuiPopover",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),as=t.forwardRef((function(e,n){var r=Lr({props:e,name:"MuiPopover"}),i=r.action,a=r.anchorEl,o=r.anchorOrigin,u=void 0===o?{vertical:"top",horizontal:"left"}:o,s=r.anchorPosition,c=r.anchorReference,l=void 0===c?"anchorEl":c,f=r.children,h=r.className,v=r.container,g=r.elevation,b=void 0===g?8:g,k=r.marginThreshold,w=void 0===k?16:k,_=r.open,x=r.PaperProps,S=void 0===x?{}:x,E=r.transformOrigin,C=void 0===E?{vertical:"top",horizontal:"left"}:E,I=r.TransitionComponent,T=void 0===I?yu:I,N=r.transitionDuration,R=void 0===N?"auto":N,P=r.TransitionProps,A=(P=void 0===P?{}:P).onEntering,O=d(r.TransitionProps,Xu),D=d(r,Ju),M=t.useRef(),L=Vr(M,S.ref),F=p({},r,{anchorOrigin:u,anchorReference:l,elevation:b,marginThreshold:w,PaperProps:S,transformOrigin:C,TransitionComponent:T,transitionDuration:R,TransitionProps:O}),j=function(e){return y({root:["root"],paper:["paper"]},Yu,e.classes)}(F),V=t.useCallback((function(){if("anchorPosition"===l)return s;var e=ns(a),t=(e&&1===e.nodeType?e:Ro(M.current).body).getBoundingClientRect();return{top:t.top+Zu(t,u.vertical),left:t.left+es(t,u.horizontal)}}),[a,u.horizontal,u.vertical,s,l]),U=t.useCallback((function(e){return{vertical:Zu(e,C.vertical),horizontal:es(e,C.horizontal)}}),[C.horizontal,C.vertical]),z=t.useCallback((function(e){var t={width:e.offsetWidth,height:e.offsetHeight},n=U(t);if("none"===l)return{top:null,left:null,transformOrigin:ts(n)};var r=V(),i=r.top-n.vertical,o=r.left-n.horizontal,u=i+t.height,s=o+t.width,c=Zo(ns(a)),f=c.innerHeight-w,h=c.innerWidth-w;if(i<w){var d=i-w;i-=d,n.vertical+=d}else if(u>f){var p=u-f;i-=p,n.vertical+=p}if(o<w){var v=o-w;o-=v,n.horizontal+=v}else if(s>h){var m=s-h;o-=m,n.horizontal+=m}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(o),"px"),transformOrigin:ts(n)}}),[a,l,V,U,w]),q=t.useCallback((function(){var e=M.current;if(e){var t=z(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[z]);t.useEffect((function(){_&&q()})),t.useImperativeHandle(i,(function(){return _?{updatePosition:function(){q()}}:null}),[_,q]),t.useEffect((function(){if(_){var e=Jo((function(){q()})),t=Zo(a);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[a,_,q]);var B=R;"auto"!==R||T.muiSupportAuto||(B=void 0);var W=v||(a?Ro(ns(a)).body:void 0);return(0,di.jsx)(rs,p({BackdropProps:{invisible:!0},className:m(j.root,h),container:W,open:_,ref:n,ownerState:F},D,{children:(0,di.jsx)(T,p({appear:!0,in:_,onEntering:function(e,t){A&&A(e,t),q()},timeout:B},O,{children:(0,di.jsx)(is,p({elevation:b},S,{ref:L,className:m(j.paper,S.className),children:f}))}))}))})),os=as;function us(e){return gi("MuiMenu",e)}bi("MuiMenu",["root","paper","list"]);var ss=["onEntering"],cs=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],ls={vertical:"top",horizontal:"right"},fs={vertical:"top",horizontal:"left"},hs=Ir(os,{shouldForwardProp:function(e){return Sr(e)||"classes"===e},name:"MuiMenu",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),ds=Ir(Xo,{name:"MuiMenu",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),ps=Ir(Ko,{name:"MuiMenu",slot:"List",overridesResolver:function(e,t){return t.list}})({outline:0}),vs=t.forwardRef((function(e,n){var r=Lr({props:e,name:"MuiMenu"}),i=r.autoFocus,a=void 0===i||i,o=r.children,u=r.disableAutoFocusItem,s=void 0!==u&&u,c=r.MenuListProps,l=void 0===c?{}:c,f=r.onClose,h=r.open,v=r.PaperProps,g=void 0===v?{}:v,b=r.PopoverClasses,k=r.transitionDuration,w=void 0===k?"auto":k,_=r.TransitionProps,x=(_=void 0===_?{}:_).onEntering,S=r.variant,E=void 0===S?"selectedMenu":S,C=d(r.TransitionProps,ss),I=d(r,cs),T=cu(),N="rtl"===T.direction,R=p({},r,{autoFocus:a,disableAutoFocusItem:s,MenuListProps:l,onEntering:x,PaperProps:g,transitionDuration:w,TransitionProps:C,variant:E}),P=function(e){return y({root:["root"],paper:["paper"],list:["list"]},us,e.classes)}(R),A=a&&!s&&h,O=t.useRef(null),D=-1;return t.Children.map(o,(function(e,n){t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===E&&e.props.selected||-1===D)&&(D=n))})),(0,di.jsx)(hs,p({classes:b,onClose:f,anchorOrigin:{vertical:"bottom",horizontal:N?"right":"left"},transformOrigin:N?ls:fs,PaperProps:p({component:ds},g,{classes:p({},g.classes,{root:P.paper})}),className:P.root,open:h,ref:n,transitionDuration:w,TransitionProps:p({onEntering:function(e,t){O.current&&O.current.adjustStyleForScrollbar(e,T),x&&x(e,t)}},C),ownerState:R},I,{children:(0,di.jsx)(ps,p({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),f&&f(e,"tabKeyDown"))},actions:O,autoFocus:a&&(-1===D||s),autoFocusItem:A,variant:E},l,{className:m(P.list,l.className),children:o}))}))})),ms=vs;function ys(e){return gi("MuiNativeSelect",e)}var gs=bi("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),bs=["className","disabled","IconComponent","inputRef","variant"],ks=function(e){var t,n=e.ownerState,r=e.theme;return p((h(t={MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{backgroundColor:"light"===r.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"}},"&.".concat(gs.disabled),{cursor:"default"}),h(t,"&[multiple]",{height:"auto"}),h(t,"&:not([multiple]) option, &:not([multiple]) optgroup",{backgroundColor:r.palette.background.paper}),h(t,"&&&",{paddingRight:24,minWidth:16}),t),"filled"===n.variant&&{"&&&":{paddingRight:32}},"outlined"===n.variant&&{borderRadius:r.shape.borderRadius,"&:focus":{borderRadius:r.shape.borderRadius},"&&&":{paddingRight:32}})},ws=Ir("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Sr,overridesResolver:function(e,t){var n=e.ownerState;return[t.select,t[n.variant],h({},"&.".concat(gs.multiple),t.multiple)]}})(ks),_s=function(e){var t=e.ownerState,n=e.theme;return p(h({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:n.palette.action.active},"&.".concat(gs.disabled),{color:n.palette.action.disabled}),t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},xs=Ir("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(Wi(n.variant))],n.open&&t.iconOpen]}})(_s),Ss=t.forwardRef((function(e,n){var r=e.className,i=e.disabled,a=e.IconComponent,o=e.inputRef,u=e.variant,s=void 0===u?"standard":u,c=d(e,bs),l=p({},e,{disabled:i,variant:s}),f=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,a=e.open;return y({select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon","icon".concat(Wi(n)),a&&"iconOpen",r&&"disabled"]},ys,t)}(l);return(0,di.jsxs)(t.Fragment,{children:[(0,di.jsx)(ws,p({ownerState:l,className:m(f.select,r),disabled:i,ref:o||n},c)),e.multiple?null:(0,di.jsx)(xs,{as:a,ownerState:l,className:f.icon})]})})),Es=Ss;var Cs=function(e){var n=e.controlled,r=e.default,i=(e.name,e.state,t.useRef(void 0!==n).current),a=c(t.useState(r),2),o=a[0],u=a[1];return[i?n:o,t.useCallback((function(e){i||u(e)}),[])]};function Is(e){return gi("MuiSelect",e)}var Ts,Ns=bi("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),Rs=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Ps=Ir("div",{name:"MuiSelect",slot:"Select",overridesResolver:function(e,t){var n=e.ownerState;return[h({},"&.".concat(Ns.select),t.select),h({},"&.".concat(Ns.select),t[n.variant]),h({},"&.".concat(Ns.multiple),t.multiple)]}})(ks,h({},"&.".concat(Ns.select),{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"})),As=Ir("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(Wi(n.variant))],n.open&&t.iconOpen]}})(_s),Os=Ir("input",{shouldForwardProp:function(e){return Er(e)&&"classes"!==e},name:"MuiSelect",slot:"NativeInput",overridesResolver:function(e,t){return t.nativeInput}})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Ds(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function Ms(e){return null==e||"string"===typeof e&&!e.trim()}var Ls=t.forwardRef((function(e,n){var r=e["aria-describedby"],i=e["aria-label"],a=e.autoFocus,o=e.autoWidth,u=e.children,s=e.className,l=e.defaultOpen,f=e.defaultValue,h=e.disabled,v=e.displayEmpty,g=e.IconComponent,b=e.inputRef,k=e.labelId,w=e.MenuProps,_=void 0===w?{}:w,x=e.multiple,S=e.name,E=e.onBlur,C=e.onChange,I=e.onClose,T=e.onFocus,N=e.onOpen,R=e.open,P=e.readOnly,A=e.renderValue,O=e.SelectDisplayProps,D=void 0===O?{}:O,M=e.tabIndex,L=e.value,F=e.variant,j=void 0===F?"standard":F,V=d(e,Rs),U=c(Cs({controlled:L,default:f,name:"Select"}),2),z=U[0],q=U[1],B=c(Cs({controlled:R,default:l,name:"Select"}),2),W=B[0],K=B[1],H=t.useRef(null),G=t.useRef(null),Q=c(t.useState(null),2),$=Q[0],Y=Q[1],X=t.useRef(null!=R).current,J=c(t.useState(),2),Z=J[0],ee=J[1],te=Vr(n,b),ne=t.useCallback((function(e){G.current=e,e&&Y(e)}),[]);t.useImperativeHandle(te,(function(){return{focus:function(){G.current.focus()},node:H.current,value:z}}),[z]),t.useEffect((function(){l&&W&&$&&!X&&(ee(o?null:$.clientWidth),G.current.focus())}),[$,o]),t.useEffect((function(){a&&G.current.focus()}),[a]),t.useEffect((function(){if(k){var e=Ro(G.current).getElementById(k);if(e){var t=function(){getSelection().isCollapsed&&G.current.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[k]);var re,ie,ae=function(e,t){e?N&&N(t):I&&I(t),X||(ee(o?null:$.clientWidth),K(e))},oe=t.Children.toArray(u),ue=function(e){return function(t){var n;if(t.currentTarget.hasAttribute("tabindex")){if(x){n=Array.isArray(z)?z.slice():[];var r=z.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),z!==n&&(q(n),C)){var i=t.nativeEvent||t,a=new i.constructor(i.type,i);Object.defineProperty(a,"target",{writable:!0,value:{value:n,name:S}}),C(a,e)}x||ae(!1,t)}}},se=null!==$&&W;delete V["aria-invalid"];var ce=[],le=!1;(wa({value:z})||v)&&(A?re=A(z):le=!0);var fe=oe.map((function(e){if(!t.isValidElement(e))return null;var n;if(x){if(!Array.isArray(z))throw new Error(ct(2));n=z.some((function(t){return Ds(t,e.props.value)})),n&&le&&ce.push(e.props.children)}else(n=Ds(z,e.props.value))&&le&&(ie=e.props.children);return n&&!0,t.cloneElement(e,{"aria-selected":n?"true":"false",onClick:ue(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:n,value:void 0,"data-value":e.props.value})}));le&&(re=x?0===ce.length?null:ce.reduce((function(e,t,n){return e.push(t),n<ce.length-1&&e.push(", "),e}),[]):ie);var he,de=Z;!o&&X&&$&&(de=$.clientWidth),he="undefined"!==typeof M?M:h?null:0;var pe=D.id||(S?"mui-component-select-".concat(S):void 0),ve=p({},e,{variant:j,value:z,open:se}),me=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,a=e.open;return y({select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon","icon".concat(Wi(n)),a&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},Is,t)}(ve);return(0,di.jsxs)(t.Fragment,{children:[(0,di.jsx)(Ps,p({ref:ne,tabIndex:he,role:"button","aria-disabled":h?"true":void 0,"aria-expanded":se?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[k,pe].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:function(e){if(!P){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),ae(!0,e))}},onMouseDown:h||P?null:function(e){0===e.button&&(e.preventDefault(),G.current.focus(),ae(!0,e))},onBlur:function(e){!se&&E&&(Object.defineProperty(e,"target",{writable:!0,value:{value:z,name:S}}),E(e))},onFocus:T},D,{ownerState:ve,className:m(me.select,s,D.className),id:pe,children:Ms(re)?Ts||(Ts=(0,di.jsx)("span",{className:"notranslate",children:"\u200b"})):re})),(0,di.jsx)(Os,p({value:Array.isArray(z)?z.join(","):z,name:S,ref:H,"aria-hidden":!0,onChange:function(e){var t=oe.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=oe[t];q(n.props.value),C&&C(e,n)}},tabIndex:-1,disabled:h,className:me.nativeInput,autoFocus:a,ownerState:ve},V)),(0,di.jsx)(As,{as:g,className:me.icon,ownerState:ve}),(0,di.jsx)(ms,p({id:"menu-".concat(S||""),anchorEl:$,open:se,onClose:function(e){ae(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},_,{MenuListProps:p({"aria-labelledby":k,role:"listbox",disableListWrap:!0},_.MenuListProps),PaperProps:p({},_.PaperProps,{style:p({minWidth:de},null!=_.PaperProps?_.PaperProps.style:null)}),children:fe}))]})})),Fs=Ls;function js(e){return gi("MuiSvgIcon",e)}bi("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var Vs=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Us=Ir("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(Wi(n.color))],t["fontSize".concat(Wi(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,u,s,c,l,f,h,d,p,v,m,y,g=e.theme,b=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=g.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=g.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=g.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(u=g.typography)||null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(c=g.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875"}[b.fontSize],color:null!=(f=null==(h=g.palette)||null==(d=h[b.color])?void 0:d.main)?f:{action:null==(p=g.palette)||null==(v=p.action)?void 0:v.active,disabled:null==(m=g.palette)||null==(y=m.action)?void 0:y.disabled,inherit:void 0}[b.color]}})),zs=t.forwardRef((function(e,t){var n=Lr({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"inherit":a,u=n.component,s=void 0===u?"svg":u,c=n.fontSize,l=void 0===c?"medium":c,f=n.htmlColor,h=n.inheritViewBox,v=void 0!==h&&h,g=n.titleAccess,b=n.viewBox,k=void 0===b?"0 0 24 24":b,w=d(n,Vs),_=p({},n,{color:o,component:s,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:v,viewBox:k}),x={};v||(x.viewBox=k);var S=function(e){var t=e.color,n=e.fontSize,r=e.classes;return y({root:["root","inherit"!==t&&"color".concat(Wi(t)),"fontSize".concat(Wi(n))]},js,r)}(_);return(0,di.jsxs)(Us,p({as:s,className:m(S.root,i),ownerState:_,focusable:"false",color:f,"aria-hidden":!g||void 0,role:g?"img":void 0,ref:t},x,w,{children:[r,g?(0,di.jsx)("title",{children:g}):null]}))}));zs.muiName="SvgIcon";var qs=zs;function Bs(e,n){var r=function(t,r){return(0,di.jsx)(qs,p({"data-testid":"".concat(n,"Icon"),ref:r},t,{children:e}))};return r.muiName=qs.muiName,t.memo(t.forwardRef(r))}var Ws,Ks,Hs=Bs((0,di.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Gs=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Qs={name:"MuiSelect",overridesResolver:function(e,t){return t.root},shouldForwardProp:function(e){return Sr(e)&&"variant"!==e},slot:"Root"},$s=Ir(ja,Qs)(""),Ys=Ir(ro,Qs)(""),Xs=Ir(Ha,Qs)(""),Js=t.forwardRef((function(e,n){var r=Lr({name:"MuiSelect",props:e}),i=r.autoWidth,a=void 0!==i&&i,o=r.children,u=r.classes,s=void 0===u?{}:u,c=r.className,l=r.defaultOpen,f=void 0!==l&&l,h=r.displayEmpty,v=void 0!==h&&h,y=r.IconComponent,g=void 0===y?Hs:y,b=r.id,k=r.input,w=r.inputProps,_=r.label,x=r.labelId,S=r.MenuProps,E=r.multiple,C=void 0!==E&&E,I=r.native,T=void 0!==I&&I,N=r.onClose,R=r.onOpen,P=r.open,A=r.renderValue,O=r.SelectDisplayProps,D=r.variant,M=void 0===D?"outlined":D,L=d(r,Gs),F=T?Es:Fs,j=pa({props:r,muiFormControl:ma(),states:["variant"]}).variant||M,V=k||{standard:Ws||(Ws=(0,di.jsx)($s,{})),outlined:(0,di.jsx)(Ys,{label:_}),filled:Ks||(Ks=(0,di.jsx)(Xs,{}))}[j],U=function(e){return e.classes}(p({},r,{variant:j,classes:s})),z=Vr(n,V.ref);return t.cloneElement(V,p({inputComponent:F,inputProps:p({children:o,IconComponent:g,variant:j,type:void 0,multiple:C},T?{id:b}:{autoWidth:a,defaultOpen:f,displayEmpty:v,labelId:x,MenuProps:S,onClose:N,onOpen:R,open:P,renderValue:A,SelectDisplayProps:p({id:b},O)},w,{classes:w?Ze(U,w.classes):U},k?k.props.inputProps:{})},C&&T&&"outlined"===j?{notched:!0}:{},{ref:z,className:m(V.props.className,c),variant:j},L))}));Js.muiName="Select";var Zs=Js;function ec(e){return gi("MuiTextField",e)}bi("MuiTextField",["root"]);var tc=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],nc={standard:ja,filled:Ha,outlined:ro},rc=Ir(_o,{name:"MuiTextField",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),ic=t.forwardRef((function(e,t){var n=Lr({props:e,name:"MuiTextField"}),r=n.autoComplete,i=n.autoFocus,a=void 0!==i&&i,o=n.children,u=n.className,s=n.color,c=void 0===s?"primary":s,l=n.defaultValue,f=n.disabled,h=void 0!==f&&f,v=n.error,g=void 0!==v&&v,b=n.FormHelperTextProps,k=n.fullWidth,w=void 0!==k&&k,_=n.helperText,x=n.id,S=n.InputLabelProps,E=n.inputProps,C=n.InputProps,I=n.inputRef,T=n.label,N=n.maxRows,R=n.minRows,P=n.multiline,A=void 0!==P&&P,O=n.name,D=n.onBlur,M=n.onChange,L=n.onFocus,F=n.placeholder,j=n.required,V=void 0!==j&&j,U=n.rows,z=n.select,q=void 0!==z&&z,B=n.SelectProps,W=n.type,K=n.value,H=n.variant,G=void 0===H?"outlined":H,Q=d(n,tc),$=p({},n,{autoFocus:a,color:c,disabled:h,error:g,fullWidth:w,multiline:A,required:V,select:q,variant:G}),Y=function(e){return y({root:["root"]},ec,e.classes)}($);var X={};"outlined"===G&&(S&&"undefined"!==typeof S.shrink&&(X.notched=S.shrink),X.label=T),q&&(B&&B.native||(X.id=void 0),X["aria-describedby"]=void 0);var J=ia(x),Z=_&&J?"".concat(J,"-helper-text"):void 0,ee=T&&J?"".concat(J,"-label"):void 0,te=nc[G],ne=(0,di.jsx)(te,p({"aria-describedby":Z,autoComplete:r,autoFocus:a,defaultValue:l,fullWidth:w,multiline:A,name:O,rows:U,maxRows:N,minRows:R,type:W,value:K,id:J,inputRef:I,onBlur:D,onChange:M,onFocus:L,placeholder:F,inputProps:E},X,C));return(0,di.jsxs)(rc,p({className:m(Y.root,u),disabled:h,error:g,fullWidth:w,ref:t,required:V,color:c,variant:G,ownerState:$},Q,{children:[null!=T&&""!==T&&(0,di.jsx)(mo,p({htmlFor:J,id:ee},S,{children:T})),q?(0,di.jsx)(Zs,p({"aria-describedby":Z,id:J,labelId:ee,value:K,input:ne},B,{children:o})):ne,_&&(0,di.jsx)(No,p({id:Z},b,{children:_}))]}))})),ac=ic;function oc(e){return oc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},oc(e)}function uc(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=oc(e)););return e}function sc(){return sc="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=uc(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},sc.apply(this,arguments)}function cc(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ei(e,t)}function lc(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function fc(e){return fc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fc(e)}function hc(e,t){if(t&&("object"===fc(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Zr(e)}function dc(e){var t=lc();return function(){var n,r=oc(e);if(t){var i=oc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return hc(this,n)}}function pc(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function vc(e,t,n){return vc=lc()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ei(i,n.prototype),i},vc.apply(null,arguments)}function mc(e){var t="function"===typeof Map?new Map:void 0;return mc=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return vc(e,arguments,oc(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ei(n,e)},mc(e)}var yc=!1,gc=!1,bc="${JSCORE_VERSION}",kc=function(e,t){if(!e)throw wc(t)},wc=function(e){return new Error("Firebase Database ("+bc+") INTERNAL ASSERT FAILED: "+e)},_c=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},xc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(_c(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Sc=function(e){var t=_c(e);return xc.encodeByteArray(t,!0)},Ec=function(e){return Sc(e).replace(/\./g,"")},Cc=function(e){try{return xc.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ic(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ic(e[n],t[n]));return e}var Tc=function(){function e(){var t=this;ku(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return _u(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Nc(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ec(JSON.stringify({alg:"none",type:"JWT"})),Ec(JSON.stringify(a)),""].join(".")}function Rc(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Pc(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rc())}function Ac(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Oc(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Dc(){var e=Rc();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Mc(){return!0===yc||!0===gc}function Lc(){return!function(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fc(){return"object"===typeof indexedDB}var jc=function(e){cc(n,e);var t=dc(n);function n(e,r,i){var a;return ku(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Zr(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Zr(a),Vc.prototype.create),a}return _u(n)}(mc(Error)),Vc=function(){function e(t,n,r){ku(this,e),this.service=t,this.serviceName=n,this.errors=r}return _u(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Uc(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new jc(n,a,t);return o}}]),e}();function Uc(e,t){return e.replace(zc,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var zc=/\{\$([^}]+)}/g;function qc(e){return JSON.parse(e)}function Bc(e){return JSON.stringify(e)}var Wc=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=qc(Cc(a[0])||""),n=qc(Cc(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function Kc(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Hc(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Gc(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Qc(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function $c(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Yc(u)&&Yc(s)){if(!$c(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Yc(e){return null!==e&&"object"===typeof e}function Xc(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Jc(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Zc(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var el=function(){function e(){ku(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return _u(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var u,s,c=this.chain_[0],l=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(u=h^l&(f^h),s=1518500249):(u=l^f^h,s=1859775393):p<60?(u=l&f|h&(l|f),s=2400959708):(u=l^f^h,s=3395469782);var v=(c<<5|c>>>27)+u+d+s+n[p]&4294967295;d=h,h=f,f=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function tl(e,t){var n=new nl(e,t);return n.subscribe.bind(n)}var nl=function(){function e(t,n){var r=this;ku(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return _u(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=pc(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=rl),void 0===r.error&&(r.error=rl),void 0===r.complete&&(r.complete=rl);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function rl(){}var il=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function al(e,t){return"".concat(e," failed: ").concat(t," argument ")}function ol(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(al(e,t)+"must be a valid function.")}function ul(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(al(e,t)+"must be a valid context object.")}var sl=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function cl(e){return e&&e._delegate?e._delegate:e}function ll(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var fl=function(){function e(t){ku(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return _u(e,[{key:"transaction",value:function(e,t){return new hl(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new dl(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),hl=function(){function e(t){var n=this;ku(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return _u(e,[{key:"objectStore",value:function(e){return new dl(this._transaction.objectStore(e))}}]),e}(),dl=function(){function e(t){ku(this,e),this._store=t}return _u(e,[{key:"index",value:function(e){return new pl(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new pl(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return ll(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return ll(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return ll(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return ll(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),pl=function(){function e(t){ku(this,e),this._index=t}return _u(e,[{key:"get",value:function(e){return ll(this._index.get(e),"Error reading from IndexedDB")}}]),e}();var vl=function(){function e(t,n,r){ku(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return _u(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),ml="[DEFAULT]",yl=function(){function e(t,n){ku(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return _u(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Tc;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ml})}catch(s){}var t,n=pc(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ml;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=o(l.mark((function e(){var t;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(g(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),g(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ml;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ml;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=pc(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=c(i.value,2),s=u[0],l=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=pc(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(SO){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:gl(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(SO){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ml;return this.component?this.component.multipleInstances?e:ml:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function gl(e){return e===ml?void 0:e}var bl,kl,wl=function(){function e(t){ku(this,e),this.name=t,this.providers=new Map}return _u(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new yl(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),_l=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(kl||(kl={}));var xl,Sl,El={debug:kl.DEBUG,verbose:kl.VERBOSE,info:kl.INFO,warn:kl.WARN,error:kl.ERROR,silent:kl.SILENT},Cl=kl.INFO,Il=(h(bl={},kl.DEBUG,"log"),h(bl,kl.VERBOSE,"log"),h(bl,kl.INFO,"info"),h(bl,kl.WARN,"warn"),h(bl,kl.ERROR,"error"),bl),Tl=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Il[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Nl=function(){function e(t){ku(this,e),this.name=t,this._logLevel=Cl,this._logHandler=Tl,this._userLogHandler=null,_l.push(this)}return _u(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in kl))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?El[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,kl.DEBUG].concat(t)),this._logHandler.apply(this,[this,kl.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,kl.VERBOSE].concat(t)),this._logHandler.apply(this,[this,kl.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,kl.INFO].concat(t)),this._logHandler.apply(this,[this,kl.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,kl.WARN].concat(t)),this._logHandler.apply(this,[this,kl.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,kl.ERROR].concat(t)),this._logHandler.apply(this,[this,kl.ERROR].concat(t))}}]),e}();var Rl=function(){function e(t){ku(this,e),this.container=t}return _u(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Pl="@firebase/app",Al="0.7.20",Ol=new Nl("@firebase/app"),Dl="[DEFAULT]",Ml=(h(xl={},Pl,"fire-core"),h(xl,"@firebase/app-compat","fire-core-compat"),h(xl,"@firebase/analytics","fire-analytics"),h(xl,"@firebase/analytics-compat","fire-analytics-compat"),h(xl,"@firebase/app-check","fire-app-check"),h(xl,"@firebase/app-check-compat","fire-app-check-compat"),h(xl,"@firebase/auth","fire-auth"),h(xl,"@firebase/auth-compat","fire-auth-compat"),h(xl,"@firebase/database","fire-rtdb"),h(xl,"@firebase/database-compat","fire-rtdb-compat"),h(xl,"@firebase/functions","fire-fn"),h(xl,"@firebase/functions-compat","fire-fn-compat"),h(xl,"@firebase/installations","fire-iid"),h(xl,"@firebase/installations-compat","fire-iid-compat"),h(xl,"@firebase/messaging","fire-fcm"),h(xl,"@firebase/messaging-compat","fire-fcm-compat"),h(xl,"@firebase/performance","fire-perf"),h(xl,"@firebase/performance-compat","fire-perf-compat"),h(xl,"@firebase/remote-config","fire-rc"),h(xl,"@firebase/remote-config-compat","fire-rc-compat"),h(xl,"@firebase/storage","fire-gcs"),h(xl,"@firebase/storage-compat","fire-gcs-compat"),h(xl,"@firebase/firestore","fire-fst"),h(xl,"@firebase/firestore-compat","fire-fst-compat"),h(xl,"fire-js","fire-js"),h(xl,"firebase","fire-js-all"),xl),Ll=new Map,Fl=new Map;function jl(e,t){try{e.container.addComponent(t)}catch(n){Ol.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Vl(e,t){e.container.addOrOverwriteComponent(t)}function Ul(e){var t=e.name;if(Fl.has(t))return Ol.debug("There were multiple attempts to register component ".concat(t,".")),!1;Fl.set(t,e);var n,r=pc(Ll.values());try{for(r.s();!(n=r.n()).done;){jl(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function zl(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ql(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dl;zl(e,t).clearInstance(n)}function Bl(){Fl.clear()}var Wl=(h(Sl={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),h(Sl,"bad-app-name","Illegal App name: '{$appName}"),h(Sl,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),h(Sl,"app-deleted","Firebase App named '{$appName}' already deleted"),h(Sl,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),h(Sl,"invalid-log-argument","First argument to `onLog` must be null or a function."),h(Sl,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),h(Sl,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),h(Sl,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),h(Sl,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Sl),Kl=new Vc("app","Firebase",Wl),Hl=function(){function e(t,n,r){var i=this;ku(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vl("app",(function(){return i}),"PUBLIC"))}return _u(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Kl.create("app-deleted",{appName:this._name})}}]),e}(),Gl="9.6.10";function Ql(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Dl,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Kl.create("bad-app-name",{appName:String(i)});var a=Ll.get(i);if(a){if($c(e,a.options)&&$c(r,a.config))return a;throw Kl.create("duplicate-app",{appName:i})}var o,u=new wl(i),s=pc(Fl.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Hl(e,r,u);return Ll.set(i,l),l}function $l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dl,t=Ll.get(e);if(!t)throw Kl.create("no-app",{appName:e});return t}function Yl(){return Array.from(Ll.values())}function Xl(e){return Jl.apply(this,arguments)}function Jl(){return Jl=o(l.mark((function e(t){var n;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Ll.has(n)){e.next=6;break}return Ll.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Jl.apply(this,arguments)}function Zl(e,t,n){var r,i=null!==(r=Ml[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ol.warn(u.join(" "))}Ul(new vl("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function ef(e,t){if(null!==e&&"function"!==typeof e)throw Kl.create("invalid-log-argument");!function(e,t){var n,r=pc(_l);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=El[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:kl[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function tf(e){var t;t=e,_l.forEach((function(e){e.setLogLevel(t)}))}var nf="firebase-heartbeat-store",rf=null;function af(){var e,t,n;return rf||(rf=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(nf)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new fl(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new fl(a.result),e.oldVersion,e.newVersion,new hl(a.transaction))}}catch(o){i("Error opening indexedDB: ".concat(o.message))}}))).catch((function(e){throw Kl.create("storage-open",{originalErrorMessage:e.message})}))),rf}function of(e){return uf.apply(this,arguments)}function uf(){return uf=o(l.mark((function e(t){var n;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,af();case 3:return n=e.sent,e.abrupt("return",n.transaction(nf).objectStore(nf).get(lf(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Kl.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),uf.apply(this,arguments)}function sf(e,t){return cf.apply(this,arguments)}function cf(){return cf=o(l.mark((function e(t,n){var r,i,a;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,af();case 3:return r=e.sent,i=r.transaction(nf,"readwrite"),a=i.objectStore(nf),e.next=8,a.put(n,lf(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),Kl.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),cf.apply(this,arguments)}function lf(e){return"".concat(e.name,"!").concat(e.options.appId)}var ff=function(){function e(t){var n=this;ku(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new vf(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return _u(e,[{key:"triggerHeartbeat",value:function(){var e=o(l.mark((function e(){var t,n,r;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=hf(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=o(l.mark((function e(){var t,n,r,i,a;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=hf(),n=df(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Ec(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function hf(){return(new Date).toISOString().substring(0,10)}function df(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=pc(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),mf(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),mf(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var pf,vf=function(){function e(t){ku(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return _u(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=o(l.mark((function e(){return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Fc()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(eF){t(eF)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=o(l.mark((function e(){var t;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,of(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=o(l.mark((function e(t){var n,r;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",sf(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=o(l.mark((function e(t){var n,r;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",sf(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(g(r.heartbeats),g(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function mf(e){return Ec(JSON.stringify({version:2,heartbeats:e})).length}pf="",Ul(new vl("platform-logger",(function(e){return new Rl(e)}),"PRIVATE")),Ul(new vl("heartbeat",(function(e){return new ff(e)}),"PRIVATE")),Zl(Pl,Al,pf),Zl(Pl,Al,"esm2017"),Zl("fire-js","");function yf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var gf;Object.create;function bf(){return h({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var kf=bf,wf=new Vc("auth","Firebase",bf()),_f=new Nl("@firebase/auth");function xf(e){if(_f.logLevel<=kl.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];_f.error.apply(_f,["Auth (".concat(Gl,"): ").concat(e)].concat(n))}}function Sf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw If.apply(void 0,[e].concat(n))}function Ef(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return If.apply(void 0,[e].concat(n))}function Cf(e,t,n){var r=Object.assign(Object.assign({},kf()),h({},t,n));return new Vc("auth","Firebase",r).create(t,{appName:e.name})}function If(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=g(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(g(o)))}return wf.create.apply(wf,[e].concat(n))}function Tf(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw If.apply(void 0,[t].concat(r))}}function Nf(e){var t="INTERNAL ASSERTION FAILED: "+e;throw xf(t),new Error(t)}function Rf(e,t){e||Nf(t)}var Pf=new Map;function Af(e){Rf(e instanceof Function,"Expected a class definition");var t=Pf.get(e);return t?(Rf(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Pf.set(e,t),t)}function Of(e,t){var n=zl(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if($c(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;Sf(r,"already-initialized")}return n.initialize({options:t})}function Df(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Mf(){return"http:"===Lf()||"https:"===Lf()}function Lf(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Ff=function(){function e(t,n){ku(this,e),this.shortDelay=t,this.longDelay=n,Rf(n>t,"Short delay should be less than long delay!"),this.isMobile=Pc()||Oc()}return _u(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Mf()||Ac()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function jf(e,t){Rf(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Vf=function(){function e(){ku(this,e)}return _u(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Nf("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Nf("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Nf("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Uf=(h(gf={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),h(gf,"MISSING_CUSTOM_TOKEN","internal-error"),h(gf,"INVALID_IDENTIFIER","invalid-email"),h(gf,"MISSING_CONTINUE_URI","internal-error"),h(gf,"INVALID_PASSWORD","wrong-password"),h(gf,"MISSING_PASSWORD","internal-error"),h(gf,"EMAIL_EXISTS","email-already-in-use"),h(gf,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),h(gf,"INVALID_IDP_RESPONSE","invalid-credential"),h(gf,"INVALID_PENDING_TOKEN","invalid-credential"),h(gf,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),h(gf,"MISSING_REQ_TYPE","internal-error"),h(gf,"EMAIL_NOT_FOUND","user-not-found"),h(gf,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),h(gf,"EXPIRED_OOB_CODE","expired-action-code"),h(gf,"INVALID_OOB_CODE","invalid-action-code"),h(gf,"MISSING_OOB_CODE","internal-error"),h(gf,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),h(gf,"INVALID_ID_TOKEN","invalid-user-token"),h(gf,"TOKEN_EXPIRED","user-token-expired"),h(gf,"USER_NOT_FOUND","user-token-expired"),h(gf,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),h(gf,"INVALID_CODE","invalid-verification-code"),h(gf,"INVALID_SESSION_INFO","invalid-verification-id"),h(gf,"INVALID_TEMPORARY_PROOF","invalid-credential"),h(gf,"MISSING_SESSION_INFO","missing-verification-id"),h(gf,"SESSION_EXPIRED","code-expired"),h(gf,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),h(gf,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),h(gf,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),h(gf,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),h(gf,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),h(gf,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),h(gf,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),h(gf,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),h(gf,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),h(gf,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),h(gf,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),gf),zf=new Ff(3e4,6e4);function qf(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Bf(e,t,n,r){return Wf.apply(this,arguments)}function Wf(){return Wf=o(f().mark((function e(t,n,r,i){var a,u=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.abrupt("return",Kf(t,a,o(f().mark((function e(){var a,o,u,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Xc(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Vf.fetch()($f(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Wf.apply(this,arguments)}function Kf(e,t,n){return Hf.apply(this,arguments)}function Hf(){return Hf=o(f().mark((function e(t,n,r){var i,a,o,u,s,l,h,d,p,v;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Uf),n),e.prev=2,a=new Yf(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Xf(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,l=s.split(" : "),h=c(l,2),d=h[0],p=h[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw Xf(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==d){e.next=25;break}throw Xf(t,"email-already-in-use",u);case 25:if(v=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!p){e.next=30;break}throw Cf(t,v,p);case 30:Sf(t,v);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof jc)){e.next=37;break}throw e.t0;case 37:Sf(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),Hf.apply(this,arguments)}function Gf(e,t,n,r){return Qf.apply(this,arguments)}function Qf(){return Qf=o(f().mark((function e(t,n,r,i){var a,o,u=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Bf(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Sf(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Qf.apply(this,arguments)}function $f(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?jf(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Yf=function(){function e(t){var n=this;ku(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Ef(n.auth,"network-request-failed"))}),zf.get())}))}return _u(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Xf(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Ef(e,t,r);return i.customData._tokenResponse=n,i}function Jf(e,t){return Zf.apply(this,arguments)}function Zf(){return Zf=o(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bf(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Zf.apply(this,arguments)}function eh(e,t){return th.apply(this,arguments)}function th(){return th=o(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bf(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),th.apply(this,arguments)}function nh(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function rh(){return rh=o(f().mark((function e(t){var n,r,i,a,o,u,s=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=cl(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Tf((a=ah(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:nh(ih(a.auth_time)),issuedAtTime:nh(ih(a.iat)),expirationTime:nh(ih(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),rh.apply(this,arguments)}function ih(e){return 1e3*Number(e)}function ah(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return xf("JWT malformed, contained fewer than 3 sections"),null;try{var a=Cc(r);return a?JSON.parse(a):(xf("Failed to decode base64 JWT payload"),null)}catch(o){return xf("Caught error parsing JWT payload as JSON",o),null}}function oh(e,t){return uh.apply(this,arguments)}function uh(){return uh=o(f().mark((function e(t,n){var r=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof jc&&sh(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),uh.apply(this,arguments)}function sh(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var ch=function(){function e(t){ku(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return _u(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(o(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),lh=function(){function e(t,n){ku(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return _u(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=nh(this.lastLoginAt),this.creationTime=nh(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function fh(e){return hh.apply(this,arguments)}function hh(){return hh=o(f().mark((function e(t){var n,r,i,a,o,u,s,c,l,h,d;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,oh(t,eh(r,{idToken:i}));case 6:Tf(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?vh(o.providerUserInfo):[],s=ph(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),h=!!c&&l,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new lh(o.createdAt,o.lastLoginAt),isAnonymous:h},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),hh.apply(this,arguments)}function dh(){return(dh=o(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cl(t),e.next=3,fh(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ph(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(g(n),g(t))}function vh(e){return e.map((function(e){var t=e.providerId,n=yf(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function mh(e,t){return yh.apply(this,arguments)}function yh(){return yh=o(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kf(t,{},o(f().mark((function e(){var r,i,a,o,u,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xc({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=$f(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Vf.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),yh.apply(this,arguments)}var gh=function(){function e(){ku(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return _u(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Tf(e.idToken,"internal-error"),Tf("undefined"!==typeof e.idToken,"internal-error"),Tf("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=ah(e);return Tf(t,"internal-error"),Tf("undefined"!==typeof t.exp,"internal-error"),Tf("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=o(f().mark((function e(t){var n,r=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Tf(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=o(f().mark((function e(t,n){var r,i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mh(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Nf("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Tf("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Tf("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Tf("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function bh(e,t){Tf("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var kh=function(){function e(t){ku(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=yf(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ch(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?g(a.providerData):[],this.metadata=new lh(a.createdAt||void 0,a.lastLoginAt||void 0)}return _u(e,[{key:"getIdToken",value:function(){var e=o(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oh(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Tf(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return rh.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return dh.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Tf(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Tf(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=o(f().mark((function e(t){var n,r,i=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,fh(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=o(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,oh(this,Jf(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;Tf(b&&x,t,"internal-error");var S=gh.fromJSON(this.name,x);Tf("string"===typeof b,t,"internal-error"),bh(f,t.name),bh(h,t.name),Tf("boolean"===typeof k,t,"internal-error"),Tf("boolean"===typeof w,t,"internal-error"),bh(d,t.name),bh(p,t.name),bh(v,t.name),bh(m,t.name),bh(y,t.name),bh(g,t.name);var E=new e({uid:b,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(E.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=o(f().mark((function t(n,r){var i,a,o,u=arguments;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new gh).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,fh(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),wh=function(){function e(){ku(this,e),this.type="NONE",this.storage={}}return _u(e,[{key:"_isAvailable",value:function(){var e=o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=o(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=o(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();wh.type="NONE";var _h=wh;function xh(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Sh=function(){function e(t,n,r){ku(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=xh(this.userKey,a.apiKey,o),this.fullPersistenceKey=xh("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return _u(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=o(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?kh._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=o(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=o(f().mark((function t(n,r){var i,a,u,s,c,l,h,d,p,v,m,y=arguments;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=y.length>2&&void 0!==y[2]?y[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Af(_h),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),u=a[0]||Af(_h),s=xh(i,n.config.apiKey,n.name),c=null,l=pc(r),t.prev=10,l.s();case 12:if((h=l.n()).done){t.next=29;break}return d=h.value,t.prev=14,t.next=17,d._get(s);case 17:if(!(p=t.sent)){t.next=23;break}return v=kh._fromJSON(n,p),d!==u&&(c=v),u=d,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),l.e(t.t1);case 34:return t.prev=34,l.f(),t.finish(34);case 37:if(m=a.filter((function(e){return e._shouldAllowMigration})),u._shouldAllowMigration&&m.length){t.next=40;break}return t.abrupt("return",new e(u,n,i));case 40:if(u=m[0],!c){t.next=44;break}return t.next=44,u._set(s,c.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===u){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(u,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Eh(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Nh(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ch(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ph(t))return"Blackberry";if(Ah(t))return"Webos";if(Ih(t))return"Safari";if((t.includes("chrome/")||Th(t))&&!t.includes("edge/"))return"Chrome";if(Rh(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Ch(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rc();return/firefox\//i.test(e)}function Ih(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rc(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Th(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rc();return/crios\//i.test(e)}function Nh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rc();return/iemobile/i.test(e)}function Rh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rc();return/android/i.test(e)}function Ph(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rc();return/blackberry/i.test(e)}function Ah(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rc();return/webos/i.test(e)}function Oh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rc();return/iphone|ipad|ipod/i.test(e)}function Dh(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rc();return Oh(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Mh(){return Dc()&&10===document.documentMode}function Lh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rc();return Oh(e)||Rh(e)||Ah(e)||Ph(e)||/windows phone/i.test(e)||Nh(e)}function Fh(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Eh(Rc());break;case"Worker":t="".concat(Eh(Rc()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Gl,"/").concat(r)}var jh=function(){function e(t,n,r){ku(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uh(this),this.idTokenSubscription=new Uh(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wf,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return _u(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Af(t)),this._initializationPromise=this.queue(o(f().mark((function r(){var i,a;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Sh.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=o(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=o(f().mark((function e(t){var n,r,i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Tf(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=o(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fh(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=o(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?cl(t):null)&&Tf(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=o(f().mark((function e(t){var n=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Tf(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(o(f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Af(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Vc("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=o(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=o(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Tf(n=t&&Af(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Sh.create(this,[Af(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=o(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=o(f().mark((function e(t){var n=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Tf(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Tf(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Fh(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=o(f().mark((function e(){var t,n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Vh(e){return cl(e)}var Uh=function(){function e(t){var n=this;ku(this,e),this.auth=t,this.observer=null,this.addObserver=tl((function(e){return n.observer=e}))}return _u(e,[{key:"next",get:function(){return Tf(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();var zh=function(){function e(t,n){ku(this,e),this.providerId=t,this.signInMethod=n}return _u(e,[{key:"toJSON",value:function(){return Nf("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Nf("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Nf("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Nf("not implemented")}}]),e}();function qh(e,t){return Bh.apply(this,arguments)}function Bh(){return Bh=o(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bf(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Bh.apply(this,arguments)}function Wh(e,t){return Kh.apply(this,arguments)}function Kh(){return Kh=o(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gf(t,"POST","/v1/accounts:signInWithPassword",qf(t,n)));case 1:case"end":return e.stop()}}),e)}))),Kh.apply(this,arguments)}function Hh(e,t){return Gh.apply(this,arguments)}function Gh(){return Gh=o(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gf(t,"POST","/v1/accounts:signInWithEmailLink",qf(t,n)));case 1:case"end":return e.stop()}}),e)}))),Gh.apply(this,arguments)}function Qh(e,t){return $h.apply(this,arguments)}function $h(){return $h=o(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gf(t,"POST","/v1/accounts:signInWithEmailLink",qf(t,n)));case 1:case"end":return e.stop()}}),e)}))),$h.apply(this,arguments)}var Yh=function(e){cc(n,e);var t=dc(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return ku(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return _u(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Wh(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Hh(t,{email:this._email,oobCode:this._password}));case 5:Sf(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=o(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",qh(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Qh(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Sf(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(zh);function Xh(e,t){return Jh.apply(this,arguments)}function Jh(){return Jh=o(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gf(t,"POST","/v1/accounts:signInWithIdp",qf(t,n)));case 1:case"end":return e.stop()}}),e)}))),Jh.apply(this,arguments)}var Zh=function(e){cc(n,e);var t=dc(n);function n(){var e;return ku(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return _u(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Xh(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Xh(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Xh(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Xc(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Sf("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=yf(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(zh);function ed(e,t){return td.apply(this,arguments)}function td(){return td=o(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bf(t,"POST","/v1/accounts:sendVerificationCode",qf(t,n)));case 1:case"end":return e.stop()}}),e)}))),td.apply(this,arguments)}function nd(){return nd=o(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gf(t,"POST","/v1/accounts:signInWithPhoneNumber",qf(t,n)));case 1:case"end":return e.stop()}}),e)}))),nd.apply(this,arguments)}function rd(){return rd=o(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gf(t,"POST","/v1/accounts:signInWithPhoneNumber",qf(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Xf(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),rd.apply(this,arguments)}var id=h({},"USER_NOT_FOUND","user-not-found");function ad(){return ad=o(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Gf(t,"POST","/v1/accounts:signInWithPhoneNumber",qf(t,r),id));case 2:case"end":return e.stop()}}),e)}))),ad.apply(this,arguments)}var od=function(e){cc(n,e);var t=dc(n);function n(e){var r;return ku(this,n),(r=t.call(this,"phone","phone")).params=e,r}return _u(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return nd.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return rd.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ad.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(zh);var ud=function(){function e(t){var n,r,i,a,o,u;ku(this,e);var s=Jc(Zc(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Tf(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return _u(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Jc(Zc(e)).link,n=t?Jc(Zc(t)).deep_link_id:null,r=Jc(Zc(e)).deep_link_id;return(r?Jc(Zc(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(SO){return null}}}]),e}();var sd=function(){function e(){ku(this,e),this.providerId=e.PROVIDER_ID}return _u(e,null,[{key:"credential",value:function(e,t){return Yh._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=ud.parseLink(t);return Tf(n,"argument-error"),Yh._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();sd.PROVIDER_ID="password",sd.EMAIL_PASSWORD_SIGN_IN_METHOD="password",sd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var cd=function(){function e(t){ku(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return _u(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),ld=function(e){cc(n,e);var t=dc(n);function n(){var e;return ku(this,n),(e=t.apply(this,arguments)).scopes=[],e}return _u(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return g(this.scopes)}}]),n}(cd),fd=function(e){cc(n,e);var t=dc(n);function n(){return ku(this,n),t.call(this,"facebook.com")}return _u(n,null,[{key:"credential",value:function(e){return Zh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(SO){return null}}}]),n}(ld);fd.FACEBOOK_SIGN_IN_METHOD="facebook.com",fd.PROVIDER_ID="facebook.com";var hd=function(e){cc(n,e);var t=dc(n);function n(){var e;return ku(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return _u(n,null,[{key:"credential",value:function(e,t){return Zh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(SO){return null}}}]),n}(ld);hd.GOOGLE_SIGN_IN_METHOD="google.com",hd.PROVIDER_ID="google.com";var dd=function(e){cc(n,e);var t=dc(n);function n(){return ku(this,n),t.call(this,"github.com")}return _u(n,null,[{key:"credential",value:function(e){return Zh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(SO){return null}}}]),n}(ld);dd.GITHUB_SIGN_IN_METHOD="github.com",dd.PROVIDER_ID="github.com";var pd=function(e){cc(n,e);var t=dc(n);function n(){return ku(this,n),t.call(this,"twitter.com")}return _u(n,null,[{key:"credential",value:function(e,t){return Zh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(SO){return null}}}]),n}(ld);function vd(e,t){return md.apply(this,arguments)}function md(){return md=o(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gf(t,"POST","/v1/accounts:signUp",qf(t,n)));case 1:case"end":return e.stop()}}),e)}))),md.apply(this,arguments)}pd.TWITTER_SIGN_IN_METHOD="twitter.com",pd.PROVIDER_ID="twitter.com";var yd=function(){function e(t){ku(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return _u(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=o(f().mark((function t(n,r,i){var a,o,u,s,c=arguments;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,kh._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=gd(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=o(f().mark((function t(n,r,i){var a;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=gd(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function gd(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var bd=function(e){cc(n,e);var t=dc(n);function n(e,r,i,a){var o,u;return ku(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Zr(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return _u(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(jc);function kd(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw bd._fromErrorAndOperation(e,n,t,r);throw n}))}function wd(e,t){return _d.apply(this,arguments)}function _d(){return _d=o(f().mark((function e(t,n){var r,i,a=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=oh,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",yd._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),_d.apply(this,arguments)}function xd(e,t){return Sd.apply(this,arguments)}function Sd(){return Sd=o(f().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,oh(t,kd(i,a,n,t),r);case 6:return Tf((o=e.sent).idToken,i,"internal-error"),Tf(u=ah(o.idToken),i,"internal-error"),s=u.sub,Tf(t.uid===s,i,"user-mismatch"),e.abrupt("return",yd._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Sf(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Sd.apply(this,arguments)}function Ed(e,t){return Cd.apply(this,arguments)}function Cd(){return Cd=o(f().mark((function e(t,n){var r,i,a,o,u=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,kd(t,i,n);case 4:return a=e.sent,e.next=7,yd._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Cd.apply(this,arguments)}function Id(e,t){return Td.apply(this,arguments)}function Td(){return Td=o(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ed(Vh(t),n));case 1:case"end":return e.stop()}}),e)}))),Td.apply(this,arguments)}function Nd(e,t,n){return Rd.apply(this,arguments)}function Rd(){return Rd=o(f().mark((function e(t,n,r){var i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Vh(t),e.next=3,vd(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,yd._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Rd.apply(this,arguments)}function Pd(e,t,n){return Id(cl(e),sd.credential(t,n))}function Ad(e){return cl(e).signOut()}function Od(e,t){return Bf(e,"POST","/v2/accounts/mfaEnrollment:start",qf(e,t))}new WeakMap;var Dd="__sak",Md=function(){function e(t,n){ku(this,e),this.storageRetriever=t,this.type=n}return _u(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Dd,"1"),this.storage.removeItem(Dd),Promise.resolve(!0)):Promise.resolve(!1)}catch(SO){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Ld=function(e){cc(n,e);var t=dc(n);function n(){var e;return ku(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Rc();return Ih(e)||Oh(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Lh(),e._shouldAllowMigration=!0,e}return _u(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Mh()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=o(f().mark((function e(t,r){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sc(oc(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=o(f().mark((function e(t){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sc(oc(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sc(oc(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Md);Ld.type="LOCAL";var Fd=Ld,jd=function(e){cc(n,e);var t=dc(n);function n(){return ku(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return _u(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Md);jd.type="SESSION";var Vd=jd;function Ud(e){return Promise.all(e.map(function(){var e=o(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var zd=function(){function e(t){ku(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return _u(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=o(f().mark((function e(t){var n,r,i,a,u,s,c,l;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,u=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),c=Array.from(s).map(function(){var e=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,u));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Ud(c);case 9:l=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:l});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function qd(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}zd.receivers=[];var Bd=function(){function e(t){ku(this,e),this.target=t,this.handlers=new Set}return _u(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=o(f().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=qd("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Wd(){return window}function Kd(){return"undefined"!==typeof Wd().WorkerGlobalScope&&"function"===typeof Wd().importScripts}function Hd(){return Gd.apply(this,arguments)}function Gd(){return(Gd=o(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Qd(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var $d="firebaseLocalStorageDb",Yd="firebaseLocalStorage",Xd="fbase_key",Jd=function(){function e(t){ku(this,e),this.request=t}return _u(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Zd(e,t){return e.transaction([Yd],t?"readwrite":"readonly").objectStore(Yd)}function ep(){var e=indexedDB.deleteDatabase($d);return new Jd(e).toPromise()}function tp(){var e=indexedDB.open($d,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Yd,{keyPath:Xd})}catch(r){n(r)}})),e.addEventListener("success",o(f().mark((function n(){var r;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Yd)){n.next=12;break}return r.close(),n.next=5,ep();case 5:return n.t0=t,n.next=8,tp();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function np(e,t,n){return rp.apply(this,arguments)}function rp(){return rp=o(f().mark((function e(t,n,r){var i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Zd(t,!0).put((h(i={},Xd,n),h(i,"value",r),i)),e.abrupt("return",new Jd(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),rp.apply(this,arguments)}function ip(e,t){return ap.apply(this,arguments)}function ap(){return ap=o(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zd(t,!1).get(n),e.next=3,new Jd(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),ap.apply(this,arguments)}function op(e,t){var n=Zd(e,!0).delete(t);return new Jd(n).toPromise()}var up=function(){function e(){ku(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return _u(e,[{key:"_openDb",value:function(){var e=o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,tp();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=o(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kd()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=o(f().mark((function e(){var t=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=zd._getInstance(Kd()?self:null),this.receiver._subscribe("keyChanged",function(){var e=o(f().mark((function e(n,r){var i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=o(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=o(f().mark((function e(){var t,n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hd();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Bd(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Qd()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=o(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,tp();case 5:return t=e.sent,e.next=8,np(t,Dd,"1");case 8:return e.next=10,op(t,Dd);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=o(f().mark((function e(t,n){var r=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return np(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=o(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return ip(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=o(f().mark((function e(t){var n=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return op(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=o(f().mark((function e(){var t,n,r,i,a,o,u,s,c,l,h;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Zd(e,!1).getAll();return new Jd(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=pc(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(f){i.e(f)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)h=l[c],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(o(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();up.type="LOCAL";var sp=up;function cp(e,t){return Bf(e,"POST","/v2/accounts/mfaSignIn:start",qf(e,t))}function lp(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Ef("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function fp(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}fp("rcb"),new Ff(3e4,6e4);var hp="recaptcha";function dp(e,t,n){return pp.apply(this,arguments)}function pp(){return pp=o(f().mark((function e(t,n,r){var i,a,o,u,s,c,l,h,d;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Tf("string"===typeof a,t,"argument-error"),Tf(r.type===hp,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Tf("enroll"===u.type,t,"internal-error"),e.next=13,Od(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Tf("signin"===u.type,t,"internal-error"),Tf(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,cp(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,ed(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return h=e.sent,d=h.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),pp.apply(this,arguments)}var vp=function(){function e(t){ku(this,e),this.providerId=e.PROVIDER_ID,this.auth=Vh(t)}return _u(e,[{key:"verifyPhoneNumber",value:function(e,t){return dp(this.auth,e,cl(t))}}],[{key:"credential",value:function(e,t){return od._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?od._fromTokenResponse(n,r):null}}]),e}();function mp(e,t){return t?Af(t):(Tf(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}vp.PROVIDER_ID="phone",vp.PHONE_SIGN_IN_METHOD="phone";var yp=function(e){cc(n,e);var t=dc(n);function n(e){var r;return ku(this,n),(r=t.call(this,"custom","custom")).params=e,r}return _u(n,[{key:"_getIdTokenResponse",value:function(e){return Xh(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Xh(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Xh(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(zh);function gp(e){return Ed(e.auth,new yp(e),e.bypassAuthState)}function bp(e){var t=e.auth,n=e.user;return Tf(n,t,"internal-error"),xd(n,new yp(e),e.bypassAuthState)}function kp(e){return wp.apply(this,arguments)}function wp(){return wp=o(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Tf(r=t.user,n,"internal-error"),e.abrupt("return",wd(r,new yp(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),wp.apply(this,arguments)}var _p=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];ku(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return _u(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=o(f().mark((function t(n,r){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=o(f().mark((function e(t){var n,r,i,a,o,u,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gp;case"linkViaPopup":case"linkViaRedirect":return kp;case"reauthViaPopup":case"reauthViaRedirect":return bp;default:Sf(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Rf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Rf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),xp=new Ff(2e3,1e4);var Sp=function(e){cc(n,e);var t=dc(n);function n(e,r,i,a,o){var u;return ku(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Zr(u),u}return _u(n,[{key:"executeNotNull",value:function(){var e=o(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Tf(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=o(f().mark((function e(){var t,n=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rf(1===this.filter.length,"Popup operations only handle one event"),t=qd(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Ef(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Ef(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Ef(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,xp.get())}()}}]),n}(_p);Sp.currentPopupAction=null;var Ep=new Map,Cp=function(e){cc(n,e);var t=dc(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ku(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return _u(n,[{key:"execute",value:function(){var e=o(f().mark((function e(){var t,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Ep.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Ip(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,sc(oc(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Ep.set(this.auth._key(),t);case 21:return this.bypassAuthState||Ep.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=o(f().mark((function e(t){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",sc(oc(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",sc(oc(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(_p);function Ip(e,t){return Tp.apply(this,arguments)}function Tp(){return Tp=o(f().mark((function e(t,n){var r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rp(n),i=Np(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Tp.apply(this,arguments)}function Np(e){return Af(e._redirectPersistence)}function Rp(e){return xh("pendingRedirect",e.config.apiKey,e.name)}function Pp(e,t){return Ap.apply(this,arguments)}function Ap(){return Ap=o(f().mark((function e(t,n){var r,i,a,o,u,s=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Vh(t),a=mp(i,n),o=new Cp(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Ap.apply(this,arguments)}var Op=function(){function e(t){ku(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return _u(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Mp(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Mp(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ef(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dp(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Dp(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Dp(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Mp(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Lp(e){return Fp.apply(this,arguments)}function Fp(){return Fp=o(f().mark((function e(t){var n,r=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Bf(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Fp.apply(this,arguments)}var jp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vp=/^https?/;function Up(){return Up=o(f().mark((function e(t){var n,r,i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Lp(t);case 4:n=e.sent,r=n.authorizedDomains,i=pc(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!zp(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Sf(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Up.apply(this,arguments)}function zp(e){var t=Df(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Vp.test(r))return!1;if(jp.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var qp=new Ff(3e4,6e4);function Bp(){var e=Wd().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=g(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Wp=null;function Kp(e){return Wp=Wp||function(e){return new Promise((function(t,n){var r,i,a;function o(){Bp(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Bp(),n(Ef(e,"network-request-failed"))},timeout:qp.get()})}if(null===(i=null===(r=Wd().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Wd().gapi)||void 0===a?void 0:a.load)){var u=fp("iframefcb");return Wd()[u]=function(){gapi.load?o():n(Ef(e,"network-request-failed"))},lp("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Wp=null,e}))}(e),Wp}var Hp=new Ff(5e3,15e3),Gp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $p(e){var t=e.config;Tf(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?jf(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Gl},i=Qp.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Xc(r).slice(1))}function Yp(e){return Xp.apply(this,arguments)}function Xp(){return Xp=o(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kp(t);case 2:return n=e.sent,Tf(r=Wd().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:$p(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Gp,dontclear:!0},(function(e){return new Promise(function(){var n=o(f().mark((function n(r,i){var a,o,u;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Wd().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Ef(t,"network-request-failed"),o=Wd().setTimeout((function(){i(a)}),Hp.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Xp.apply(this,arguments)}var Jp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zp="_blank",ev="http://localhost",tv=function(){function e(t){ku(this,e),this.window=t,this.associatedEvent=null}return _u(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function nv(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Jp),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Rc().toLowerCase();n&&(u=Th(l)?Zp:n),Ch(l)&&(t=t||ev,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Dh(l)&&"_self"!==u)return rv(t||"",u),new tv(null);var h=window.open(t||"",u,f);Tf(h,e,"popup-blocked");try{h.focus()}catch(d){}return new tv(h)}function rv(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var iv="__/auth/handler",av="emulator/auth/handler";function ov(e,t,n,r,i,a){Tf(e.config.authDomain,e,"auth-domain-config-required"),Tf(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Gl,eventId:i};if(t instanceof cd){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Gc(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var l=c(s[u],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof ld){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(iv);return jf(t,av)}(e),"?").concat(Xc(p).slice(1))}var uv="webStorageSupport",sv=function(){function e(){ku(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vd,this._completeRedirectFn=Pp}return _u(e,[{key:"_openPopup",value:function(){var e=o(f().mark((function e(t,n,r,i){var a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rf(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=ov(t,n,r,Df(),i),e.abrupt("return",nv(t,o,qd()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=o(f().mark((function e(t,n,r,i){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=ov(t,n,r,Df(),i),Wd().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Rf(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=o(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yp(t);case 2:return n=e.sent,r=new Op(t),n.register("authEvent",(function(e){return Tf(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(uv,{type:uv},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Sf(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Up.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Lh()||Ih()||Oh()}}]),e}(),cv=sv,lv=function(){function e(t){ku(this,e),this.factorId=t}return _u(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Nf("unexpected MultiFactorSessionType")}}}]),e}(),fv=function(e){cc(n,e);var t=dc(n);function n(e){var r;return ku(this,n),(r=t.call(this,"phone")).credential=e,r}return _u(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Bf(e,"POST","/v2/accounts/mfaEnrollment:finalize",qf(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Bf(e,"POST","/v2/accounts/mfaSignIn:finalize",qf(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(lv);(function(){function e(){ku(this,e)}return _u(e,null,[{key:"assertion",value:function(e){return fv._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var hv,dv="@firebase/auth",pv="0.19.11",vv=function(){function e(t){ku(this,e),this.auth=t,this.internalListeners=new Map}return _u(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=o(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Tf(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function mv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mv(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gv(e,t){if(null==e)return{};var n,r,i=d(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}hv="Browser",Ul(new vl("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){Tf(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Tf(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:hv,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fh(hv)},i=new jh(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Af);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ul(new vl("auth-internal",(function(e){return function(e){return new vv(e)}(Vh(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Zl(dv,pv,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(hv)),Zl(dv,pv,"esm2017");var bv=n(694),kv=n.n(bv),wv=["xxl","xl","lg","md","sm","xs"],_v=t.createContext({prefixes:{},breakpoints:wv});_v.Consumer,_v.Provider;function xv(e,n){var r=(0,t.useContext)(_v).prefixes;return e||r[n]||n}var Sv=["bsPrefix","fluid","as","className"],Ev=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=e.as,a=void 0===i?"div":i,o=e.className,u=gv(e,Sv),s=xv(n,"container"),c="string"===typeof r?"-".concat(r):"-fluid";return(0,di.jsx)(a,yv(yv({ref:t},u),{},{className:kv()(o,r?"".concat(s).concat(c):s)}))}));Ev.displayName="Container",Ev.defaultProps={fluid:!1};var Cv=Ev,Iv=/-(.)/g;var Tv=["className","bsPrefix","as"],Nv=function(e){return e[0].toUpperCase()+(t=e,t.replace(Iv,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function Rv(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.displayName,i=void 0===r?Nv(e):r,a=n.Component,o=n.defaultProps,u=t.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,o=t.as,u=void 0===o?a||"div":o,s=gv(t,Tv),c=xv(i,e);return(0,di.jsx)(u,yv({ref:n,className:kv()(r,c)},s))}));return u.defaultProps=o,u.displayName=i,u}var Pv=function(e){return t.forwardRef((function(t,n){return(0,di.jsx)("div",yv(yv({},t),{},{ref:n,className:kv()(t.className,e)}))}))},Av=["bsPrefix","className","variant","as"],Ov=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.variant,a=e.as,o=void 0===a?"img":a,u=gv(e,Av),s=xv(n,"card-img");return(0,di.jsx)(o,yv({ref:t,className:kv()(i?"".concat(s,"-").concat(i):s,r)},u))}));Ov.displayName="CardImg";var Dv=Ov,Mv=t.createContext(null);Mv.displayName="CardHeaderContext";var Lv=Mv,Fv=["bsPrefix","className","as"],jv=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.as,o=void 0===a?"div":a,u=gv(e,Fv),s=xv(r,"card-header"),c=(0,t.useMemo)((function(){return{cardHeaderBsPrefix:s}}),[s]);return(0,di.jsx)(Lv.Provider,{value:c,children:(0,di.jsx)(o,yv(yv({ref:n},u),{},{className:kv()(i,s)}))})}));jv.displayName="CardHeader";var Vv=jv,Uv=["bsPrefix","className","bg","text","border","body","children","as"],zv=Pv("h5"),qv=Pv("h6"),Bv=Rv("card-body"),Wv=Rv("card-title",{Component:zv}),Kv=Rv("card-subtitle",{Component:qv}),Hv=Rv("card-link",{Component:"a"}),Gv=Rv("card-text",{Component:"p"}),Qv=Rv("card-footer"),$v=Rv("card-img-overlay"),Yv=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.bg,a=e.text,o=e.border,u=e.body,s=e.children,c=e.as,l=void 0===c?"div":c,f=gv(e,Uv),h=xv(n,"card");return(0,di.jsx)(l,yv(yv({ref:t},f),{},{className:kv()(r,h,i&&"bg-".concat(i),a&&"text-".concat(a),o&&"border-".concat(o)),children:u?(0,di.jsx)(Bv,{children:s}):s}))}));Yv.displayName="Card",Yv.defaultProps={body:!1};var Xv=Object.assign(Yv,{Img:Dv,Title:Wv,Subtitle:Kv,Body:Bv,Link:Hv,Text:Gv,Header:Vv,Footer:Qv,ImgOverlay:$v});function Jv(e){var t=e.quote,n=e.author;return(0,di.jsxs)(Xv,{className:"mt-4",children:[(0,di.jsxs)(Xv.Body,{align:"left",children:['"',t,'"']}),""!==n&&(0,di.jsxs)(Xv.Footer,{className:"pt-1 pb-1",align:"right",children:[" - ",n]})]})}function Zv(e){var t=e.quotes;return(0,di.jsx)(Cv,{className:"mt-4",children:t.map((function(e,t){return(0,di.jsx)(Jv,{quote:e.quote,author:e.author},t)}))})}var em=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},tm=t.createContext(null);n(176);function nm(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function rm(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function im(e,n){return Object.keys(n).reduce((function(r,i){var a,o=r,u=o[nm(i)],s=o[i],c=d(o,[nm(i),i].map(rm)),l=n[i],f=function(e,n,r){var i=(0,t.useRef)(void 0!==e),a=(0,t.useState)(n),o=a[0],u=a[1],s=void 0!==e,c=i.current;return i.current=s,!s&&c&&o!==n&&u(n),[s?e:o,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),u(e)}),[r])]}(s,u,e[l]),h=f[0],v=f[1];return p({},c,((a={})[i]=h,a[l]=v,a))}),e)}function am(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function om(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function um(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}am.__suppressDeprecationWarning=!0,om.__suppressDeprecationWarning=!0,um.__suppressDeprecationWarning=!0;var sm=["bsPrefix","className","as"],cm=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=gv(e,sm);n=xv(n,"navbar-brand");var o=i||(a.href?"a":"span");return(0,di.jsx)(o,yv(yv({},a),{},{ref:t,className:kv()(r,n)}))}));cm.displayName="NavbarBrand";var lm=cm;function fm(e){return e&&e.ownerDocument||document}function hm(e,t){return function(e){var t=fm(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var dm=/([A-Z])/g;var pm=/^ms-/;function vm(e){return function(e){return e.replace(dm,"-$1").toLowerCase()}(e).replace(pm,"-ms-")}var mm=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var ym=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(vm(t))||hm(e).getPropertyValue(vm(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!mm.test(e))}(i)?n+=vm(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(vm(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},gm=!("undefined"===typeof window||!window.document||!window.document.createElement),bm=!1,km=!1;try{var wm={get passive(){return bm=!0},get once(){return km=bm=!0}};gm&&(window.addEventListener("test",wm,wm),window.removeEventListener("test",wm,!0))}catch(jB){}var _m=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!km){var i=r.once,a=r.capture,o=n;!km&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,bm?r:a)}e.addEventListener(t,n,r)};var xm=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var Sm=function(e,t,n,r){return _m(e,t,n,r),function(){xm(e,t,n,r)}};function Em(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=Sm(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function Cm(e,t,n,r){null==n&&(n=function(e){var t=ym(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=Em(e,n,r),a=Sm(e,"transitionend",t);return function(){i(),a()}}function Im(e,t){var n=ym(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function Tm(e,t){var n=Im(e,"transitionDuration"),r=Im(e,"transitionDelay"),i=Cm(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var Nm=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};function Rm(e){e.offsetHeight}var Pm=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var Am=function(e,n){return(0,t.useMemo)((function(){return function(e,t){var n=Pm(e),r=Pm(t);return function(e){n&&n(e),r&&r(e)}}(e,n)}),[e,n])};var Om,Dm=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],Mm=t.forwardRef((function(e,n){var r=e.onEnter,a=e.onEntering,o=e.onEntered,u=e.onExit,s=e.onExiting,c=e.onExited,l=e.addEndListener,f=e.children,h=e.childRef,d=gv(e,Dm),p=(0,t.useRef)(null),v=Am(p,h),m=function(e){var t;v((t=e)&&"setState"in t?i.findDOMNode(t):null!=t?t:null)},y=function(e){return function(t){e&&p.current&&e(p.current,t)}},g=(0,t.useCallback)(y(r),[r]),b=(0,t.useCallback)(y(a),[a]),k=(0,t.useCallback)(y(o),[o]),w=(0,t.useCallback)(y(u),[u]),_=(0,t.useCallback)(y(s),[s]),x=(0,t.useCallback)(y(c),[c]),S=(0,t.useCallback)(y(l),[l]);return(0,di.jsx)(su,yv(yv({ref:n},d),{},{onEnter:g,onEntered:k,onEntering:b,onExit:w,onExited:x,onExiting:_,addEndListener:S,nodeRef:p,children:"function"===typeof f?function(e,t){return f(e,yv(yv({},t),{},{ref:m}))}:t.cloneElement(f,{ref:m})}))})),Lm=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],Fm={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function jm(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=Fm[e];return n+parseInt(ym(t,r[0]),10)+parseInt(ym(t,r[1]),10)}var Vm=(h(Om={},nu,"collapse"),h(Om,au,"collapsing"),h(Om,ru,"collapsing"),h(Om,iu,"collapse show"),Om),Um={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:jm},zm=t.forwardRef((function(e,n){var r=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,u=e.onExiting,s=e.className,c=e.children,l=e.dimension,f=void 0===l?"height":l,h=e.getDimensionValue,d=void 0===h?jm:h,p=gv(e,Lm),v="function"===typeof f?f():f,m=(0,t.useMemo)((function(){return Nm((function(e){e.style[v]="0"}),r)}),[v,r]),y=(0,t.useMemo)((function(){return Nm((function(e){var t="scroll".concat(v[0].toUpperCase()).concat(v.slice(1));e.style[v]="".concat(e[t],"px")}),i)}),[v,i]),g=(0,t.useMemo)((function(){return Nm((function(e){e.style[v]=null}),a)}),[v,a]),b=(0,t.useMemo)((function(){return Nm((function(e){e.style[v]="".concat(d(v,e),"px"),Rm(e)}),o)}),[o,d,v]),k=(0,t.useMemo)((function(){return Nm((function(e){e.style[v]=null}),u)}),[v,u]);return(0,di.jsx)(Mm,yv(yv({ref:n,addEndListener:Tm},p),{},{"aria-expanded":p.role?p.in:null,onEnter:m,onEntering:y,onEntered:g,onExit:b,onExiting:k,childRef:c.ref,children:function(e,n){return t.cloneElement(c,yv(yv({},n),{},{className:kv()(s,c.props.className,Vm[e],"width"===v&&"collapse-horizontal")}))}}))}));zm.defaultProps=Um;var qm=zm,Bm=t.createContext(null);Bm.displayName="NavbarContext";var Wm=Bm,Km=["children","bsPrefix"],Hm=t.forwardRef((function(e,n){var r=e.children,i=e.bsPrefix,a=gv(e,Km);i=xv(i,"navbar-collapse");var o=(0,t.useContext)(Wm);return(0,di.jsx)(qm,yv(yv({in:!(!o||!o.expanded)},a),{},{children:(0,di.jsx)("div",{ref:n,className:i,children:r})}))}));Hm.displayName="NavbarCollapse";var Gm=Hm;var Qm=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n};function $m(e){var n=Qm(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var Ym=["bsPrefix","className","children","label","as","onClick"],Xm=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=e.label,u=e.as,s=void 0===u?"button":u,c=e.onClick,l=gv(e,Ym);r=xv(r,"navbar-toggler");var f=(0,t.useContext)(Wm)||{},h=f.onToggle,d=f.expanded,p=$m((function(e){c&&c(e),h&&h()}));return"button"===s&&(l.type="button"),(0,di.jsx)(s,yv(yv({},l),{},{ref:n,onClick:p,"aria-label":o,className:kv()(i,r,!d&&"collapsed"),children:a||(0,di.jsx)("span",{className:"".concat(r,"-icon")})}))}));Xm.displayName="NavbarToggle",Xm.defaultProps={label:"Toggle navigation"};var Jm=Xm;function Zm(e){void 0===e&&(e=fm());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(jB){return e.body}}function ey(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function ty(e){var n=function(e){var n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((function(){return function(){return n.current()}}),[])}function ny(e){return"".concat("data-rr-ui-").concat(e)}var ry=ny("modal-open"),iy=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,i=void 0===r||r,a=t.isRTL,o=void 0!==a&&a;ku(this,e),this.handleContainerOverflow=i,this.isRTL=o,this.modals=[],this.ownerDocument=n}return _u(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=h({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(ym(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(ry,""),ym(r,t)}},{key:"reset",value:function(){var e=this;g(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(ry),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),ay=iy,oy=(0,t.createContext)(gm?window:void 0);oy.Provider;function uy(){return(0,t.useContext)(oy)}var sy=function(e,t){var n;return gm?null==e?(t||fm()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(n=e)&&n.nodeType&&e||null):null};var cy,ly=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function fy(e){var n=uy(),r=e||function(e){return cy||(cy=new ay({ownerDocument:null==e?void 0:e.document})),cy}(n),i=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(){return r.add(i.current)},remove:function(){return r.remove(i.current)},isTopModal:function(){return r.isTopModal(i.current)},setDialogRef:(0,t.useCallback)((function(e){i.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((function(e){i.current.backdrop=e}),[])})}var hy=(0,t.forwardRef)((function(e,n){var r=e.show,a=void 0!==r&&r,o=e.role,u=void 0===o?"dialog":o,s=e.className,l=e.style,f=e.children,h=e.backdrop,d=void 0===h||h,p=e.keyboard,v=void 0===p||p,m=e.onBackdropClick,y=e.onEscapeKeyDown,g=e.transition,b=e.backdropTransition,k=e.autoFocus,w=void 0===k||k,_=e.enforceFocus,x=void 0===_||_,S=e.restoreFocus,E=void 0===S||S,C=e.restoreFocusOptions,I=e.renderDialog,T=e.renderBackdrop,N=void 0===T?function(e){return(0,di.jsx)("div",Object.assign({},e))}:T,R=e.manager,P=e.container,A=e.onShow,O=e.onHide,D=void 0===O?function(){}:O,M=e.onExit,L=e.onExited,F=e.onExiting,j=e.onEnter,V=e.onEntering,U=e.onEntered,z=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ly),q=function(e,n){var r=uy(),i=c((0,t.useState)((function(){return sy(e,null==r?void 0:r.document)})),2),a=i[0],o=i[1];if(!a){var u=sy(e);u&&o(u)}return(0,t.useEffect)((function(){n&&a&&n(a)}),[n,a]),(0,t.useEffect)((function(){var t=sy(e);t!==a&&o(t)}),[e,a]),a}(P),B=fy(R),W=function(){var e=(0,t.useRef)(!0),n=(0,t.useRef)((function(){return e.current}));return(0,t.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),n.current}(),K=function(e){var n=(0,t.useRef)(null);return(0,t.useEffect)((function(){n.current=e})),n.current}(a),H=c((0,t.useState)(!a),2),G=H[0],Q=H[1],$=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(function(){return B}),[B]),gm&&!K&&a&&($.current=Zm()),g||a||G?a&&G&&Q(!1):Q(!0);var Y=$m((function(){if(B.add(),ne.current=Sm(document,"keydown",ee),te.current=Sm(document,"focus",(function(){return setTimeout(J)}),!0),A&&A(),w){var e=Zm(document);B.dialog&&e&&!ey(B.dialog,e)&&($.current=e,B.dialog.focus())}})),X=$m((function(){var e;(B.remove(),null==ne.current||ne.current(),null==te.current||te.current(),E)&&(null==(e=$.current)||null==e.focus||e.focus(C),$.current=null)}));(0,t.useEffect)((function(){a&&q&&Y()}),[a,q,Y]),(0,t.useEffect)((function(){G&&X()}),[G,X]),ty((function(){X()}));var J=$m((function(){if(x&&W()&&B.isTopModal()){var e=Zm();B.dialog&&e&&!ey(B.dialog,e)&&B.dialog.focus()}})),Z=$m((function(e){e.target===e.currentTarget&&(null==m||m(e),!0===d&&D())})),ee=$m((function(e){v&&27===e.keyCode&&B.isTopModal()&&(null==y||y(e),e.defaultPrevented||D())})),te=(0,t.useRef)(),ne=(0,t.useRef)(),re=g;if(!q||!(a||re&&!G))return null;var ie=Object.assign({role:u,ref:B.setDialogRef,"aria-modal":"dialog"===u||void 0},z,{style:l,className:s,tabIndex:-1}),ae=I?I(ie):(0,di.jsx)("div",Object.assign({},ie,{children:t.cloneElement(f,{role:"document"})}));re&&(ae=(0,di.jsx)(re,{appear:!0,unmountOnExit:!0,in:!!a,onExit:M,onExiting:F,onExited:function(){Q(!0),null==L||L.apply(void 0,arguments)},onEnter:j,onEntering:V,onEntered:U,children:ae}));var oe=null;if(d){var ue=b;oe=N({ref:B.setBackdropRef,onClick:Z}),ue&&(oe=(0,di.jsx)(ue,{appear:!0,in:!!a,children:oe}))}return(0,di.jsx)(di.Fragment,{children:i.createPortal((0,di.jsxs)(di.Fragment,{children:[oe,ae]}),q)})}));hy.displayName="Modal";var dy,py=Object.assign(hy,{Manager:ay}),vy=["className","children","transitionClasses"],my=(h(dy={},ru,"show"),h(dy,iu,"show"),dy),yy=t.forwardRef((function(e,n){var r=e.className,i=e.children,a=e.transitionClasses,o=void 0===a?{}:a,u=gv(e,vy),s=(0,t.useCallback)((function(e,t){Rm(e),null==u.onEnter||u.onEnter(e,t)}),[u]);return(0,di.jsx)(Mm,yv(yv({ref:n,addEndListener:Tm},u),{},{onEnter:s,childRef:i.ref,children:function(e,n){return t.cloneElement(i,yv(yv({},n),{},{className:kv()("fade",r,i.props.className,my[e],o[e])}))}}))}));yy.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},yy.displayName="Fade";var gy,by=yy,ky=Rv("offcanvas-body"),wy=["bsPrefix","className","children"],_y=(h(gy={},ru,"show"),h(gy,iu,"show"),gy),xy=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=gv(e,wy);return r=xv(r,"offcanvas"),(0,di.jsx)(Mm,yv(yv({ref:n,addEndListener:Tm},o),{},{childRef:a.ref,children:function(e,n){return t.cloneElement(a,yv(yv({},n),{},{className:kv()(i,a.props.className,(e===ru||e===au)&&"".concat(r,"-toggling"),_y[e])}))}}))}));xy.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},xy.displayName="OffcanvasToggling";var Sy=xy,Ey=t.createContext({onHide:function(){}}),Cy=n(7),Iy=n.n(Cy),Ty=["className","variant"],Ny={"aria-label":Iy().string,onClick:Iy().func,variant:Iy().oneOf(["white"])},Ry=t.forwardRef((function(e,t){var n=e.className,r=e.variant,i=gv(e,Ty);return(0,di.jsx)("button",yv({ref:t,type:"button",className:kv()("btn-close",r&&"btn-close-".concat(r),n)},i))}));Ry.displayName="CloseButton",Ry.propTypes=Ny,Ry.defaultProps={"aria-label":"Close"};var Py=Ry,Ay=["closeLabel","closeVariant","closeButton","onHide","children"],Oy=t.forwardRef((function(e,n){var r=e.closeLabel,i=e.closeVariant,a=e.closeButton,o=e.onHide,u=e.children,s=gv(e,Ay),c=(0,t.useContext)(Ey),l=$m((function(){null==c||c.onHide(),null==o||o()}));return(0,di.jsxs)("div",yv(yv({ref:n},s),{},{children:[u,a&&(0,di.jsx)(Py,{"aria-label":r,variant:i,onClick:l})]}))}));Oy.defaultProps={closeLabel:"Close",closeButton:!1};var Dy=Oy,My=["bsPrefix","className"],Ly=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=gv(e,My);return n=xv(n,"offcanvas-header"),(0,di.jsx)(Dy,yv(yv({ref:t},i),{},{className:kv()(r,n)}))}));Ly.displayName="OffcanvasHeader",Ly.defaultProps={closeLabel:"Close",closeButton:!1};var Fy=Ly,jy=Rv("offcanvas-title",{Component:Pv("h5")});var Vy=Function.prototype.bind.call(Function.prototype.call,[].slice);function Uy(e,t){return Vy(e.querySelectorAll(t))}function zy(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var qy,By=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Wy=".sticky-top",Ky=".navbar-toggler",Hy=function(e){cc(n,e);var t=dc(n);function n(){return ku(this,n),t.apply(this,arguments)}return _u(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,ym(t,h({},e,"".concat(parseFloat(ym(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],ym(t,h({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;sc(oc(n.prototype),"setContainerStyle",this).call(this,e);var r,i,a=this.getElement();if(i="modal-open",(r=a).classList?r.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(r,i)||("string"===typeof r.className?r.className=r.className+" "+i:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+i)),e.scrollBarWidth){var o=this.isRTL?"paddingLeft":"paddingRight",u=this.isRTL?"marginLeft":"marginRight";Uy(a,By).forEach((function(n){return t.adjustAndStore(o,n,e.scrollBarWidth)})),Uy(a,Wy).forEach((function(n){return t.adjustAndStore(u,n,-e.scrollBarWidth)})),Uy(a,Ky).forEach((function(n){return t.adjustAndStore(u,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;sc(oc(n.prototype),"removeContainerStyle",this).call(this,e);var r,i,a=this.getElement();i="modal-open",(r=a).classList?r.classList.remove(i):"string"===typeof r.className?r.className=zy(r.className,i):r.setAttribute("class",zy(r.className&&r.className.baseVal||"",i));var o=this.isRTL?"paddingLeft":"paddingRight",u=this.isRTL?"marginLeft":"marginRight";Uy(a,By).forEach((function(e){return t.restore(o,e)})),Uy(a,Wy).forEach((function(e){return t.restore(u,e)})),Uy(a,Ky).forEach((function(e){return t.restore(u,e)}))}}]),n}(ay);function Gy(e){return qy||(qy=new Hy(e)),qy}var Qy=Hy,$y=["bsPrefix","className","children","aria-labelledby","placement","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"];function Yy(e){return(0,di.jsx)(Sy,yv({},e))}function Xy(e){return(0,di.jsx)(by,yv({},e))}var Jy=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=e["aria-labelledby"],u=e.placement,s=e.show,c=e.backdrop,l=e.keyboard,f=e.scroll,h=e.onEscapeKeyDown,d=e.onShow,p=e.onHide,v=e.container,m=e.autoFocus,y=e.enforceFocus,g=e.restoreFocus,b=e.restoreFocusOptions,k=e.onEntered,w=e.onExit,_=e.onExiting,x=e.onEnter,S=e.onEntering,E=e.onExited,C=e.backdropClassName,I=e.manager,T=gv(e,$y),N=(0,t.useRef)();r=xv(r,"offcanvas");var R=((0,t.useContext)(Wm)||{}).onToggle,P=$m((function(){null==R||R(),null==p||p()})),A=(0,t.useMemo)((function(){return{onHide:P}}),[P]);var O=(0,t.useCallback)((function(e){return(0,di.jsx)("div",yv(yv({},e),{},{className:kv()("".concat(r,"-backdrop"),C)}))}),[C,r]);return(0,di.jsx)(Ey.Provider,{value:A,children:(0,di.jsx)(py,{show:s,ref:n,backdrop:c,container:v,keyboard:l,autoFocus:m,enforceFocus:y&&!f,restoreFocus:g,restoreFocusOptions:b,onEscapeKeyDown:h,onShow:d,onHide:P,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==x||x.apply(void 0,[e].concat(n))},onEntering:S,onEntered:k,onExit:w,onExiting:_,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==E||E.apply(void 0,n)},manager:I||(f?(N.current||(N.current=new Qy({handleContainerOverflow:!1})),N.current):Gy()),transition:Yy,backdropTransition:Xy,renderBackdrop:O,renderDialog:function(e){return(0,di.jsx)("div",yv(yv(yv({role:"dialog"},e),T),{},{className:kv()(i,r,"".concat(r,"-").concat(u)),"aria-labelledby":o,children:a}))}})})}));Jy.displayName="Offcanvas",Jy.defaultProps={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start"};var Zy=Object.assign(Jy,{Body:ky,Header:Fy,Title:jy}),eg=t.forwardRef((function(e,n){var r=(0,t.useContext)(Wm);return(0,di.jsx)(Zy,yv({ref:n,show:!(null==r||!r.expanded)},e))}));eg.displayName="NavbarOffcanvas";var tg=eg,ng=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],rg=Rv("navbar-text",{Component:"span"}),ig=t.forwardRef((function(e,n){var r=im(e,{expanded:"onToggle"}),i=r.bsPrefix,a=r.expand,o=r.variant,u=r.bg,s=r.fixed,c=r.sticky,l=r.className,f=r.as,h=void 0===f?"nav":f,d=r.expanded,p=r.onToggle,v=r.onSelect,m=r.collapseOnSelect,y=gv(r,ng),g=xv(i,"navbar"),b=(0,t.useCallback)((function(){null==v||v.apply(void 0,arguments),m&&d&&(null==p||p(!1))}),[v,m,d,p]);void 0===y.role&&"nav"!==h&&(y.role="navigation");var k="".concat(g,"-expand");"string"===typeof a&&(k="".concat(k,"-").concat(a));var w=(0,t.useMemo)((function(){return{onToggle:function(){return null==p?void 0:p(!d)},bsPrefix:g,expanded:!!d}}),[g,d,p]);return(0,di.jsx)(Wm.Provider,{value:w,children:(0,di.jsx)(tm.Provider,{value:b,children:(0,di.jsx)(h,yv(yv({ref:n},y),{},{className:kv()(l,g,a&&k,o&&"".concat(g,"-").concat(o),u&&"bg-".concat(u),c&&"sticky-".concat(c),s&&"fixed-".concat(s))}))})})}));ig.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},ig.displayName="Navbar";var ag=Object.assign(ig,{Brand:lm,Collapse:Gm,Offcanvas:tg,Text:rg,Toggle:Jm});n(573);var og=t.createContext(null);og.displayName="NavContext";var ug=og,sg=t.createContext(null),cg=["as","disabled"];function lg(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.onClick,u=e.tabIndex,s=void 0===u?0:u,c=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var l={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},l];var f=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==o||o(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:"button",disabled:void 0,tabIndex:n?void 0:s,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:f,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),f(e))}},l]}var fg=t.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,cg),a=c(lg(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],u=a[1].tagName;return(0,di.jsx)(u,Object.assign({},i,o,{ref:t}))}));fg.displayName="Button";var hg=fg,dg=["as","active","eventKey"];function pg(e){var n=e.key,r=e.onClick,i=e.active,a=e.id,o=e.role,u=e.disabled,s=(0,t.useContext)(tm),c=(0,t.useContext)(ug),l=(0,t.useContext)(sg),f=i,h={role:o};if(c){o||"tablist"!==c.role||(h.role="tab");var d=c.getControllerId(null!=n?n:null),p=c.getControlledId(null!=n?n:null);h[ny("event-key")]=n,h.id=d||a,!(f=null==i&&null!=n?c.activeKey===n:i)&&(null!=l&&l.unmountOnExit||null!=l&&l.mountOnEnter)||(h["aria-controls"]=p)}return"tab"===h.role&&(u&&(h.tabIndex=-1,h["aria-disabled"]=!0),f?h["aria-selected"]=f:h.tabIndex=-1),h.onClick=$m((function(e){u||(null==r||r(e),null!=n&&s&&!e.isPropagationStopped()&&s(n,e))})),[h,{isActive:f}]}var vg=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?hg:n,i=e.active,a=e.eventKey,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,dg),u=c(pg(Object.assign({key:em(a,o.href),active:i},o)),2),s=u[0],l=u[1];return s[ny("active")]=l.isActive,(0,di.jsx)(r,Object.assign({},o,s,{ref:t}))}));vg.displayName="NavItem";var mg=vg,yg=["as","onSelect","activeKey","role","onKeyDown"];var gg=function(){},bg=ny("event-key"),kg=t.forwardRef((function(e,n){var r,i,a=e.as,o=void 0===a?"div":a,u=e.onSelect,s=e.activeKey,c=e.role,l=e.onKeyDown,f=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,yg),h=(0,t.useReducer)((function(e){return!e}),!1)[1],d=(0,t.useRef)(!1),p=(0,t.useContext)(tm),v=(0,t.useContext)(sg);v&&(c=c||"tablist",s=v.activeKey,r=v.getControlledId,i=v.getControllerId);var m=(0,t.useRef)(null),y=function(e){var t=m.current;if(!t)return null;var n=Uy(t,"[".concat(bg,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;var i=n.indexOf(r);if(-1===i)return null;var a=i+e;return a>=n.length&&(a=0),a<0&&(a=n.length-1),n[a]},g=function(e,t){null!=e&&(null==u||u(e,t),null==p||p(e,t))};(0,t.useEffect)((function(){if(m.current&&d.current){var e=m.current.querySelector("[".concat(bg,"][aria-selected=true]"));null==e||e.focus()}d.current=!1}));var b=Am(n,m);return(0,di.jsx)(tm.Provider,{value:g,children:(0,di.jsx)(ug.Provider,{value:{role:c,activeKey:em(s),getControlledId:r||gg,getControllerId:i||gg},children:(0,di.jsx)(o,Object.assign({},f,{onKeyDown:function(e){if(null==l||l(e),v){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=y(-1);break;case"ArrowRight":case"ArrowDown":t=y(1);break;default:return}if(t)e.preventDefault(),g(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),d.current=!0,h()}},ref:b,role:c}))})})}));kg.displayName="Nav";var wg=Object.assign(kg,{Item:mg}),_g=Rv("nav-item");var xg="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product;"undefined"!==typeof document||xg?t.useLayoutEffect:t.useEffect,new WeakMap;var Sg=["onKeyDown"];var Eg=t.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Sg),a=c(lg(Object.assign({tagName:"a"},i)),1)[0],o=$m((function(e){a.onKeyDown(e),null==r||r(e)}));return((n=i.href)&&"#"!==n.trim()||i.role)&&"button"!==i.role?(0,di.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,di.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));Eg.displayName="Anchor";var Cg=Eg,Ig=["bsPrefix","className","as","active","eventKey"],Tg=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?Cg:i,o=e.active,u=e.eventKey,s=gv(e,Ig);n=xv(n,"nav-link");var l=c(pg(yv({key:em(u,s.href),active:o},s)),2),f=l[0],h=l[1];return(0,di.jsx)(a,yv(yv(yv({},s),f),{},{ref:t,className:kv()(r,n,s.disabled&&"disabled",h.isActive&&"active")}))}));Tg.displayName="NavLink",Tg.defaultProps={disabled:!1};var Ng=Tg,Rg=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],Pg=t.forwardRef((function(e,n){var r,i,a,o=im(e,{activeKey:"onSelect"}),u=o.as,s=void 0===u?"div":u,c=o.bsPrefix,l=o.variant,f=o.fill,d=o.justify,p=o.navbar,v=o.navbarScroll,m=o.className,y=o.activeKey,g=gv(o,Rg),b=xv(c,"nav"),k=!1,w=(0,t.useContext)(Wm),_=(0,t.useContext)(Lv);return w?(i=w.bsPrefix,k=null==p||p):_&&(a=_.cardHeaderBsPrefix),(0,di.jsx)(wg,yv({as:s,ref:n,activeKey:y,className:kv()(m,(r={},h(r,b,!k),h(r,"".concat(i,"-nav"),k),h(r,"".concat(i,"-nav-scroll"),k&&v),h(r,"".concat(a,"-").concat(l),!!a),h(r,"".concat(b,"-").concat(l),!!l),h(r,"".concat(b,"-fill"),f),h(r,"".concat(b,"-justified"),d),r))},g))}));Pg.displayName="Nav",Pg.defaultProps={justify:!1,fill:!1};var Ag=Object.assign(Pg,{Item:_g,Link:Ng}),Og=n.p+"static/media/logo-white.9a576ba71ea7e694a3b0.png",Dg=["sx"];function Mg(e){var t,n=e.sx,r=function(e){var t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((function(n){Cn[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]})),t}(d(e,Dg)),i=r.systemProps,a=r.otherProps;return t=Array.isArray(n)?[i].concat(g(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return Je(e)?p({},i,e):i}:p({},i,n),p({},a,{sx:t})}var Lg=["className","component"];var Fg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.defaultTheme,r=e.defaultClassName,i=void 0===r?"MuiBox-root":r,a=e.generateClassName,o=e.styleFunctionSx,u=void 0===o?Rn:o,s=Xe("div")(u),c=t.forwardRef((function(e,t){var r=Dr(n),o=Mg(e),u=o.className,c=o.component,l=void 0===c?"div":c,f=d(o,Lg);return(0,di.jsx)(s,p({as:l,ref:t,className:m(u,a?a(i):i),theme:r},f))}));return c}({defaultTheme:_r(),defaultClassName:"MuiBox-root",generateClassName:mi.generate}),jg=Fg;function Vg(e){return gi("MuiIconButton",e)}var Ug=bi("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),zg=["edge","children","className","color","disabled","disableFocusRipple","size"],qg=Ir(Bi,{name:"MuiIconButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"default"!==n.color&&t["color".concat(Wi(n.color))],n.edge&&t["edge".concat(Wi(n.edge))],t["size".concat(Wi(n.size))]]}})((function(e){var t=e.theme,n=e.ownerState;return p({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:t.palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:Kn(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(function(e){var t=e.theme,n=e.ownerState;return p({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&p({color:t.palette[n.color].main},!n.disableRipple&&{"&:hover":{backgroundColor:Kn(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},h({},"&.".concat(Ug.disabled),{backgroundColor:"transparent",color:t.palette.action.disabled}))})),Bg=t.forwardRef((function(e,t){var n=Lr({props:e,name:"MuiIconButton"}),r=n.edge,i=void 0!==r&&r,a=n.children,o=n.className,u=n.color,s=void 0===u?"default":u,c=n.disabled,l=void 0!==c&&c,f=n.disableFocusRipple,h=void 0!==f&&f,v=n.size,g=void 0===v?"medium":v,b=d(n,zg),k=p({},n,{edge:i,color:s,disabled:l,disableFocusRipple:h,size:g}),w=function(e){var t=e.classes,n=e.disabled,r=e.color,i=e.edge,a=e.size;return y({root:["root",n&&"disabled","default"!==r&&"color".concat(Wi(r)),i&&"edge".concat(Wi(i)),"size".concat(Wi(a))]},Vg,t)}(k);return(0,di.jsx)(qg,p({className:m(w.root,o),centerRipple:!0,focusRipple:!h,disabled:l,ref:t,ownerState:k},b,{children:a}))})),Wg=Bg;var Kg=bi("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);var Hg=bi("MuiListItemIcon",["root","alignItemsFlexStart"]);var Gg=bi("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function Qg(e){return gi("MuiMenuItem",e)}var $g=bi("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Yg=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex"],Xg=Ir(Bi,{shouldForwardProp:function(e){return Sr(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((function(e){var t,n=e.theme,r=e.ownerState;return p({},n.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!r.disableGutters&&{paddingLeft:16,paddingRight:16},r.divider&&{borderBottom:"1px solid ".concat(n.palette.divider),backgroundClip:"padding-box"},(h(t={"&:hover":{textDecoration:"none",backgroundColor:n.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat($g.selected),h({backgroundColor:Kn(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat($g.focusVisible),{backgroundColor:Kn(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),h(t,"&.".concat($g.selected,":hover"),{backgroundColor:Kn(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:Kn(n.palette.primary.main,n.palette.action.selectedOpacity)}}),h(t,"&.".concat($g.focusVisible),{backgroundColor:n.palette.action.focus}),h(t,"&.".concat($g.disabled),{opacity:n.palette.action.disabledOpacity}),h(t,"& + .".concat(Kg.root),{marginTop:n.spacing(1),marginBottom:n.spacing(1)}),h(t,"& + .".concat(Kg.inset),{marginLeft:52}),h(t,"& .".concat(Gg.root),{marginTop:0,marginBottom:0}),h(t,"& .".concat(Gg.inset),{paddingLeft:36}),h(t,"& .".concat(Hg.root),{minWidth:36}),t),!r.dense&&h({},n.breakpoints.up("sm"),{minHeight:"auto"}),r.dense&&p({minHeight:32,paddingTop:4,paddingBottom:4},n.typography.body2,h({},"& .".concat(Hg.root," svg"),{fontSize:"1.25rem"})))})),Jg=t.forwardRef((function(e,n){var r=Lr({props:e,name:"MuiMenuItem"}),i=r.autoFocus,a=void 0!==i&&i,o=r.component,u=void 0===o?"li":o,s=r.dense,c=void 0!==s&&s,l=r.divider,f=void 0!==l&&l,h=r.disableGutters,v=void 0!==h&&h,g=r.focusVisibleClassName,b=r.role,k=void 0===b?"menuitem":b,w=r.tabIndex,_=d(r,Yg),x=t.useContext(Po),S={dense:c||x.dense||!1,disableGutters:v},E=t.useRef(null);ya((function(){a&&E.current&&E.current.focus()}),[a]);var C,I=p({},r,{dense:S.dense,divider:f,disableGutters:v}),T=function(e){var t=e.disabled,n=e.dense,r=e.divider,i=e.disableGutters,a=e.selected,o=e.classes;return p({},o,y({root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",a&&"selected"]},Qg,o))}(r),N=Vr(E,n);return r.disabled||(C=void 0!==w?w:-1),(0,di.jsx)(Po.Provider,{value:S,children:(0,di.jsx)(Xg,p({ref:N,role:k,tabIndex:C,component:u,focusVisibleClassName:m(T.focusVisible,g)},_,{ownerState:I,classes:T}))})})),Zg=Jg;function eb(e){return gi("MuiTypography",e)}bi("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var tb=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],nb=Ir("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(Wi(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((function(e){var t=e.theme,n=e.ownerState;return p({margin:0},n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),rb={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},ib={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},ab=t.forwardRef((function(e,t){var n=Lr({props:e,name:"MuiTypography"}),r=function(e){return ib[e]||e}(n.color),i=Mg(p({},n,{color:r})),a=i.align,o=void 0===a?"inherit":a,u=i.className,s=i.component,c=i.gutterBottom,l=void 0!==c&&c,f=i.noWrap,h=void 0!==f&&f,v=i.paragraph,g=void 0!==v&&v,b=i.variant,k=void 0===b?"body1":b,w=i.variantMapping,_=void 0===w?rb:w,x=d(i,tb),S=p({},i,{align:o,color:r,className:u,component:s,gutterBottom:l,noWrap:h,paragraph:g,variant:k,variantMapping:_}),E=s||(g?"p":_[k]||rb[k])||"span",C=function(e){var t=e.align,n=e.gutterBottom,r=e.noWrap,i=e.paragraph,a=e.variant,o=e.classes;return y({root:["root",a,"inherit"!==e.align&&"align".concat(Wi(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},eb,o)}(S);return(0,di.jsx)(nb,p({as:E,ref:t,ownerState:S,className:m(C.root,u)},x))})),ob=ab,ub=Bs((0,di.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"}),"AccountCircle"),sb="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";var cb=function(e){var n=e.children,r=e.theme,i=Rr(),a=t.useMemo((function(){var e=null===i?r:function(e,t){return"function"===typeof t?t(e):p({},e,t)}(i,r);return null!=e&&(e[sb]=null!==i),e}),[r,i]);return(0,di.jsx)(Nr.Provider,{value:a,children:n})};function lb(e){var t=Dr();return(0,di.jsx)(je.Provider,{value:"object"===typeof t?t:{},children:e.children})}var fb=function(e){var t=e.children,n=e.theme;return(0,di.jsx)(cb,{theme:n,children:(0,di.jsx)(lb,{children:t})})};function hb(e){var n=c((0,t.useState)(null),2),r=n[0],i=n[1],a=function(){i(null)},o=_r({palette:{mode:"dark",primary:{main:"#1976d2"}}});return e.user?(0,di.jsx)(fb,{theme:o,children:(0,di.jsxs)(jg,{sx:{flexGrow:0},children:[(0,di.jsx)(Wg,{onClick:function(e){i(e.currentTarget)},sx:{p:0},children:(0,di.jsx)(ub,{fontSize:"large"})}),(0,di.jsxs)(ms,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:r,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(r),onClose:a,children:[(0,di.jsx)(Zg,{onClick:a,children:(0,di.jsx)(ob,{textAlign:"center",children:"Profile"})},"Profile"),(0,di.jsx)(Zg,{onClick:a,children:(0,di.jsx)(ob,{textAlign:"center",children:"Account"})},"Account"),(0,di.jsx)(Zg,{onClick:function(){console.log("Logging out ",e.user.email),e.logout(),i(null)},children:(0,di.jsx)(ob,{textAlign:"center",children:"Logout"})},"Logout")]})]})}):(0,di.jsxs)(Ag,{children:[(0,di.jsx)(Ag.Link,{onClick:e.login,children:"Sign In"}),(0,di.jsx)(Ag.Link,{onClick:e.register,children:"Register"})]})}function db(e){var t=e.login,n=e.logout,r=e.register,i=e.user;return(0,di.jsx)(ag,{bg:"dark",variant:"dark",children:(0,di.jsxs)(Cv,{children:[(0,di.jsxs)(ag.Brand,{href:"#home",children:[(0,di.jsx)("img",{alt:"",src:Og,height:"35",className:"d-inline-block align-top"})," "]}),(0,di.jsx)(ag.Collapse,{id:"responsive-navbar-nav",children:(0,di.jsxs)(Ag,{children:[(0,di.jsx)(Ag.Link,{href:"#deets",children:"More deets"}),(0,di.jsx)(Ag.Link,{eventKey:2,href:"#memes",children:"Dank memes"})]})}),(0,di.jsx)(hb,{login:function(){return t()},logout:function(){return n()},register:function(){return r()},user:i})]})})}var pb,vb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},mb=t.createContext&&t.createContext(vb),yb=function(){return yb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},yb.apply(this,arguments)},gb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function bb(e){return e&&e.map((function(e,n){return t.createElement(e.tag,yb({key:n},e.attr),bb(e.child))}))}function kb(e){return function(n){return t.createElement(wb,yb({attr:yb({},e.attr)},n),bb(e.child))}}function wb(e){var n=function(n){var r,i=e.attr,a=e.size,o=e.title,u=gb(e,["attr","size","title"]),s=a||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",yb({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,u,{className:r,style:yb(yb({color:e.color||n.color},n.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==mb?t.createElement(mb.Consumer,null,(function(e){return n(e)})):n(vb)}function _b(e){return kb({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"}}]})(e)}function xb(e){if((!pb&&0!==pb||e)&&gm){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),pb=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return pb}var Sb=Rv("modal-body"),Eb=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"],Cb=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.contentClassName,a=e.centered,o=e.size,u=e.fullscreen,s=e.children,c=e.scrollable,l=gv(e,Eb);n=xv(n,"modal");var f="".concat(n,"-dialog"),h="string"===typeof u?"".concat(n,"-fullscreen-").concat(u):"".concat(n,"-fullscreen");return(0,di.jsx)("div",yv(yv({},l),{},{ref:t,className:kv()(f,r,o&&"".concat(n,"-").concat(o),a&&"".concat(f,"-centered"),c&&"".concat(f,"-scrollable"),u&&h),children:(0,di.jsx)("div",{className:kv()("".concat(n,"-content"),i),children:s})}))}));Cb.displayName="ModalDialog";var Ib=Cb,Tb=Rv("modal-footer"),Nb=["bsPrefix","className"],Rb=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=gv(e,Nb);return n=xv(n,"modal-header"),(0,di.jsx)(Dy,yv(yv({ref:t},i),{},{className:kv()(r,n)}))}));Rb.displayName="ModalHeader",Rb.defaultProps={closeLabel:"Close",closeButton:!1};var Pb=Rb,Ab=Rv("modal-title",{Component:Pv("h4")}),Ob=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],Db={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:Ib};function Mb(e){return(0,di.jsx)(by,yv(yv({},e),{},{timeout:null}))}function Lb(e){return(0,di.jsx)(by,yv(yv({},e),{},{timeout:null}))}var Fb=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.style,o=e.dialogClassName,u=e.contentClassName,s=e.children,l=e.dialogAs,f=e["aria-labelledby"],h=e["aria-describedby"],d=e["aria-label"],p=e.show,v=e.animation,m=e.backdrop,y=e.keyboard,g=e.onEscapeKeyDown,b=e.onShow,k=e.onHide,w=e.container,_=e.autoFocus,x=e.enforceFocus,S=e.restoreFocus,E=e.restoreFocusOptions,C=e.onEntered,I=e.onExit,T=e.onExiting,N=e.onEnter,R=e.onEntering,P=e.onExited,A=e.backdropClassName,O=e.manager,D=gv(e,Ob),M=c((0,t.useState)({}),2),L=M[0],F=M[1],j=c((0,t.useState)(!1),2),V=j[0],U=j[1],z=(0,t.useRef)(!1),q=(0,t.useRef)(!1),B=(0,t.useRef)(null),W=c((0,t.useState)(null),2),K=W[0],H=W[1],G=Am(n,H),Q=$m(k),$="rtl"===(0,t.useContext)(_v).dir;r=xv(r,"modal");var Y=(0,t.useMemo)((function(){return{onHide:Q}}),[Q]);function X(){return O||Gy({isRTL:$})}function J(e){if(gm){var t=X().getScrollbarWidth()>0,n=e.scrollHeight>fm(e).documentElement.clientHeight;F({paddingRight:t&&!n?xb():void 0,paddingLeft:!t&&n?xb():void 0})}}var Z=$m((function(){K&&J(K.dialog)}));ty((function(){xm(window,"resize",Z),null==B.current||B.current()}));var ee=function(){z.current=!0},te=function(e){z.current&&K&&e.target===K.dialog&&(q.current=!0),z.current=!1},ne=function(){U(!0),B.current=Cm(K.dialog,(function(){U(!1)}))},re=function(e){"static"!==m?q.current||e.target!==e.currentTarget?q.current=!1:null==k||k():function(e){e.target===e.currentTarget&&ne()}(e)},ie=(0,t.useCallback)((function(e){return(0,di.jsx)("div",yv(yv({},e),{},{className:kv()("".concat(r,"-backdrop"),A,!v&&"show")}))}),[v,A,r]),ae=yv(yv({},a),L);ae.display="block";return(0,di.jsx)(Ey.Provider,{value:Y,children:(0,di.jsx)(py,{show:p,ref:G,backdrop:m,container:w,keyboard:!0,autoFocus:_,enforceFocus:x,restoreFocus:S,restoreFocusOptions:E,onEscapeKeyDown:function(e){y||"static"!==m?y&&g&&g(e):(e.preventDefault(),ne())},onShow:b,onHide:k,onEnter:function(e,t){e&&J(e),null==N||N(e,t)},onEntering:function(e,t){null==R||R(e,t),_m(window,"resize",Z)},onEntered:C,onExit:function(e){null==B.current||B.current(),null==I||I(e)},onExiting:T,onExited:function(e){e&&(e.style.display=""),null==P||P(e),xm(window,"resize",Z)},manager:X(),transition:v?Mb:void 0,backdropTransition:v?Lb:void 0,renderBackdrop:ie,renderDialog:function(e){return(0,di.jsx)("div",yv(yv({role:"dialog"},e),{},{style:ae,className:kv()(i,r,V&&"".concat(r,"-static")),onClick:m?re:void 0,onMouseUp:te,"aria-label":d,"aria-labelledby":f,"aria-describedby":h,children:(0,di.jsx)(l,yv(yv({},D),{},{onMouseDown:ee,className:o,contentClassName:u,children:s}))}))}})})}));Fb.displayName="Modal",Fb.defaultProps=Db;var jb=Object.assign(Fb,{Body:Sb,Header:Pb,Title:Ab,Footer:Tb,Dialog:Ib,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Vb=["component","direction","spacing","divider","children"];function Ub(e,n){var r=t.Children.toArray(e).filter(Boolean);return r.reduce((function(e,i,a){return e.push(i),a<r.length-1&&e.push(t.cloneElement(n,{key:"separator-".concat(a)})),e}),[])}var zb=Ir("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,t){return[t.root]}})((function(e){var t=e.ownerState,n=e.theme,r=p({display:"flex"},at({theme:n},st({values:t.direction,breakpoints:n.breakpoints.values}),(function(e){return{flexDirection:e}})));if(t.spacing){var i=xt(n),a=Object.keys(n.breakpoints.values).reduce((function(e,n){return null==t.spacing[n]&&null==t.direction[n]||(e[n]=!0),e}),{}),o=st({values:t.direction,base:a});r=Ze(r,at({theme:n},st({values:t.spacing,base:a}),(function(e,n){return{"& > :not(style) + :not(style)":h({margin:0},"margin".concat((r=n?o[n]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[r])),St(i,e))};var r})))}return r})),qb=t.forwardRef((function(e,t){var n=Mg(Lr({props:e,name:"MuiStack"})),r=n.component,i=void 0===r?"div":r,a=n.direction,o=void 0===a?"column":a,u=n.spacing,s=void 0===u?0:u,c=n.divider,l=n.children,f=d(n,Vb),h={direction:o,spacing:s};return(0,di.jsx)(zb,p({as:i,ownerState:h,ref:t},f,{children:c?Ub(l,c):l}))})),Bb=qb;function Wb(e){return gi("MuiButton",e)}var Kb=bi("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var Hb,Gb=t.createContext({}),Qb=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],$b=function(e){return p({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},Yb=Ir(Bi,{shouldForwardProp:function(e){return Sr(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(Wi(n.color))],t["size".concat(Wi(n.size))],t["".concat(n.variant,"Size").concat(Wi(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n,r,i=e.theme,a=e.ownerState;return p({},i.typography.button,(h(t={minWidth:64,padding:"6px 16px",borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":p({textDecoration:"none",backgroundColor:i.vars?"rgba(".concat(i.vars.palette.text.primaryChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):Kn(i.palette.text.primary,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===a.variant&&"inherit"!==a.color&&{backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):Kn(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===a.variant&&"inherit"!==a.color&&{border:"1px solid ".concat((i.vars||i).palette[a.color].main),backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):Kn(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===a.variant&&{backgroundColor:(i.vars||i).palette.grey.A100,boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2],backgroundColor:(i.vars||i).palette.grey[300]}},"contained"===a.variant&&"inherit"!==a.color&&{backgroundColor:(i.vars||i).palette[a.color].dark,"@media (hover: none)":{backgroundColor:(i.vars||i).palette[a.color].main}}),"&:active":p({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[8]})},"&.".concat(Kb.focusVisible),p({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[6]})),h(t,"&.".concat(Kb.disabled),p({color:(i.vars||i).palette.action.disabled},"outlined"===a.variant&&{border:"1px solid ".concat((i.vars||i).palette.action.disabledBackground)},"outlined"===a.variant&&"secondary"===a.color&&{border:"1px solid ".concat((i.vars||i).palette.action.disabled)},"contained"===a.variant&&{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground})),t),"text"===a.variant&&{padding:"6px 8px"},"text"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main},"outlined"===a.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main,border:i.vars?"1px solid rgba(".concat(i.vars.palette[a.color].mainChannel," / 0.5)"):"1px solid ".concat(Kn(i.palette[a.color].main,.5))},"contained"===a.variant&&{color:i.vars?i.vars.palette.text.primary:null==(n=(r=i.palette).getContrastText)?void 0:n.call(r,i.palette.grey[300]),backgroundColor:(i.vars||i).palette.grey[300],boxShadow:(i.vars||i).shadows[2]},"contained"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].contrastText,backgroundColor:(i.vars||i).palette[a.color].main},"inherit"===a.color&&{color:"inherit",borderColor:"currentColor"},"small"===a.size&&"text"===a.variant&&{padding:"4px 5px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"text"===a.variant&&{padding:"8px 11px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"outlined"===a.variant&&{padding:"3px 9px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"outlined"===a.variant&&{padding:"7px 21px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"contained"===a.variant&&{padding:"4px 10px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"contained"===a.variant&&{padding:"8px 22px",fontSize:i.typography.pxToRem(15)},a.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(h(t={boxShadow:"none","&:hover":{boxShadow:"none"}},"&.".concat(Kb.focusVisible),{boxShadow:"none"}),h(t,"&:active",{boxShadow:"none"}),h(t,"&.".concat(Kb.disabled),{boxShadow:"none"}),t)})),Xb=Ir("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat(Wi(n.size))]]}})((function(e){var t=e.ownerState;return p({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},$b(t))})),Jb=Ir("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat(Wi(n.size))]]}})((function(e){var t=e.ownerState;return p({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},$b(t))})),Zb=t.forwardRef((function(e,n){var r=t.useContext(Gb),i=Lr({props:Tr(r,e),name:"MuiButton"}),a=i.children,o=i.color,u=void 0===o?"primary":o,s=i.component,c=void 0===s?"button":s,l=i.className,f=i.disabled,h=void 0!==f&&f,v=i.disableElevation,g=void 0!==v&&v,b=i.disableFocusRipple,k=void 0!==b&&b,w=i.endIcon,_=i.focusVisibleClassName,x=i.fullWidth,S=void 0!==x&&x,E=i.size,C=void 0===E?"medium":E,I=i.startIcon,T=i.type,N=i.variant,R=void 0===N?"text":N,P=d(i,Qb),A=p({},i,{color:u,component:c,disabled:h,disableElevation:g,disableFocusRipple:k,fullWidth:S,size:C,type:T,variant:R}),O=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,a=e.variant,o=e.classes;return p({},o,y({root:["root",a,"".concat(a).concat(Wi(t)),"size".concat(Wi(i)),"".concat(a,"Size").concat(Wi(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(Wi(i))],endIcon:["endIcon","iconSize".concat(Wi(i))]},Wb,o))}(A),D=I&&(0,di.jsx)(Xb,{className:O.startIcon,ownerState:A,children:I}),M=w&&(0,di.jsx)(Jb,{className:O.endIcon,ownerState:A,children:w});return(0,di.jsxs)(Yb,p({ownerState:A,className:m(l,r.className),component:c,disabled:h,focusRipple:!k,focusVisibleClassName:m(O.focusVisible,_),ref:n,type:T},P,{classes:O,children:[D,a,M]}))})),ek=Zb,tk=function(){function e(t,n){var r=this;ku(this,e),this._delegate=t,this.firebase=n,jl(t,new vl("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return _u(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Xl(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dl;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dl;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){jl(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Vl(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),nk=(h(Hb={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),h(Hb,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Hb),rk=new Vc("app-compat","Firebase",nk);var ik=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Ql(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Kc(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Zl,setLogLevel:tf,onLog:ef,apps:null,SDK_VERSION:Gl,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Ul(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw rk.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Ic(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Kc(n,e=e||Dl))throw rk.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(tk);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ic(n,e)},createSubscribe:tl,ErrorFactory:Vc,deepExtend:Ic}),n}(),ak=new Nl("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ak.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ok=self.firebase.SDK_VERSION;ok&&ok.indexOf("LITE")>=0&&ak.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var uk=ik;!function(e){Zl("@firebase/app-compat","0.1.21",e)}();uk.registerVersion("firebase","9.6.10","app-compat");var sk,ck="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},lk={},fk=fk||{},hk=ck||self;function dk(){}function pk(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function vk(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var mk="closure_uid_"+(1e9*Math.random()>>>0),yk=0;function gk(e,t,n){return e.call.apply(e.bind,arguments)}function bk(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function kk(e,t,n){return(kk=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gk:bk).apply(null,arguments)}function wk(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function _k(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function xk(){this.s=this.s,this.o=this.o}var Sk={};xk.prototype.s=!1,xk.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,mk)&&e[mk]||(e[mk]=++yk)}(this);delete Sk[e]}},xk.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ek=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ck=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Ik(e){return Array.prototype.concat.apply([],arguments)}function Tk(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Nk(e){return/^[\s\xa0]*$/.test(e)}var Rk,Pk=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ak(e,t){return-1!=e.indexOf(t)}function Ok(e,t){return e<t?-1:e>t?1:0}e:{var Dk=hk.navigator;if(Dk){var Mk=Dk.userAgent;if(Mk){Rk=Mk;break e}}Rk=""}function Lk(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Fk(e){var t={};for(var n in e)t[n]=e[n];return t}var jk="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Vk(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<jk.length;a++)n=jk[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Uk(e){return Uk[" "](e),e}Uk[" "]=dk;var zk,qk=Ak(Rk,"Opera"),Bk=Ak(Rk,"Trident")||Ak(Rk,"MSIE"),Wk=Ak(Rk,"Edge"),Kk=Wk||Bk,Hk=Ak(Rk,"Gecko")&&!(Ak(Rk.toLowerCase(),"webkit")&&!Ak(Rk,"Edge"))&&!(Ak(Rk,"Trident")||Ak(Rk,"MSIE"))&&!Ak(Rk,"Edge"),Gk=Ak(Rk.toLowerCase(),"webkit")&&!Ak(Rk,"Edge");function Qk(){var e=hk.document;return e?e.documentMode:void 0}e:{var $k="",Yk=function(){var e=Rk;return Hk?/rv:([^\);]+)(\)|;)/.exec(e):Wk?/Edge\/([\d\.]+)/.exec(e):Bk?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Gk?/WebKit\/(\S+)/.exec(e):qk?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Yk&&($k=Yk?Yk[1]:""),Bk){var Xk=Qk();if(null!=Xk&&Xk>parseFloat($k)){zk=String(Xk);break e}}zk=$k}var Jk,Zk={};function ew(){return function(e){var t=Zk;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Pk(String(zk)).split("."),n=Pk("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Ok(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Ok(0==a[2].length,0==o[2].length)||Ok(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(hk.document&&Bk){var tw=Qk();Jk=tw||(parseInt(zk,10)||void 0)}else Jk=void 0;var nw=Jk,rw=function(){if(!hk.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{hk.addEventListener("test",dk,t),hk.removeEventListener("test",dk,t)}catch(n){}return e}();function iw(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function aw(e,t){if(iw.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Hk){e:{try{Uk(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ow[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&aw.Z.h.call(this)}}iw.prototype.h=function(){this.defaultPrevented=!0},_k(aw,iw);var ow={2:"touch",3:"pen",4:"mouse"};aw.prototype.h=function(){aw.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var uw="closure_listenable_"+(1e6*Math.random()|0),sw=0;function cw(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++sw,this.ca=this.fa=!1}function lw(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function fw(e){this.src=e,this.g={},this.h=0}function hw(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Ek(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(lw(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function dw(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}fw.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=dw(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new cw(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var pw="closure_lm_"+(1e6*Math.random()|0),vw={};function mw(e,t,n,r,i){if(r&&r.once)return gw(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)mw(e,t[a],n,r,i);return null}return n=Ew(n),e&&e[uw]?e.N(t,n,vk(r)?!!r.capture:!!r,i):yw(e,t,n,!1,r,i)}function yw(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=vk(i)?!!i.capture:!!i,u=xw(e);if(u||(e[pw]=u=new fw(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=_w;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)rw||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ww(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function gw(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)gw(e,t[a],n,r,i);return null}return n=Ew(n),e&&e[uw]?e.O(t,n,vk(r)?!!r.capture:!!r,i):yw(e,t,n,!0,r,i)}function bw(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)bw(e,t[a],n,r,i);else r=vk(r)?!!r.capture:!!r,n=Ew(n),e&&e[uw]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=dw(a=e.g[t],n,r,i))&&(lw(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=xw(e))&&(t=e.g[t.toString()],e=-1,t&&(e=dw(t,n,r,i)),(n=-1<e?t[e]:null)&&kw(n))}function kw(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[uw])hw(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ww(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=xw(t))?(hw(n,e),0==n.h&&(n.src=null,t[pw]=null)):lw(e)}}}function ww(e){return e in vw?vw[e]:vw[e]="on"+e}function _w(e,t){if(e.ca)e=!0;else{t=new aw(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&kw(e),e=n.call(r,t)}return e}function xw(e){return(e=e[pw])instanceof fw?e:null}var Sw="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ew(e){return"function"===typeof e?e:(e[Sw]||(e[Sw]=function(t){return e.handleEvent(t)}),e[Sw])}function Cw(){xk.call(this),this.i=new fw(this),this.P=this,this.I=null}function Iw(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new iw(t,e);else if(t instanceof iw)t.target=t.target||e;else{var i=t;Vk(t=new iw(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Tw(o,r,!0,t)&&i}if(i=Tw(o=t.g=e,r,!0,t)&&i,i=Tw(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Tw(o=t.g=n[a],r,!1,t)&&i}function Tw(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&hw(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}_k(Cw,xk),Cw.prototype[uw]=!0,Cw.prototype.removeEventListener=function(e,t,n,r){bw(this,e,t,n,r)},Cw.prototype.M=function(){if(Cw.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)lw(n[r]);delete t.g[e],t.h--}}this.I=null},Cw.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Cw.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Nw=hk.JSON.stringify;function Rw(){var e=jw,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Pw,Aw=function(){function e(){ku(this,e),this.h=this.g=null}return _u(e,[{key:"add",value:function(e,t){var n=Ow.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Ow=new(function(){function e(t,n){ku(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return _u(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Dw}),(function(e){return e.reset()})),Dw=function(){function e(){ku(this,e),this.next=this.g=this.h=null}return _u(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Mw(e){hk.setTimeout((function(){throw e}),0)}function Lw(e,t){Pw||function(){var e=hk.Promise.resolve(void 0);Pw=function(){e.then(Vw)}}(),Fw||(Pw(),Fw=!0),jw.add(e,t)}var Fw=!1,jw=new Aw;function Vw(){for(var e;e=Rw();){try{e.h.call(e.g)}catch(n){Mw(n)}var t=Ow;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Fw=!1}function Uw(e,t){Cw.call(this),this.h=e||1,this.g=t||hk,this.j=kk(this.kb,this),this.l=Date.now()}function zw(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function qw(e,t,n){if("function"===typeof e)n&&(e=kk(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=kk(e.handleEvent,e)}return 2147483647<Number(t)?-1:hk.setTimeout(e,t||0)}function Bw(e){e.g=qw((function(){e.g=null,e.i&&(e.i=!1,Bw(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}_k(Uw,Cw),(sk=Uw.prototype).da=!1,sk.S=null,sk.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Iw(this,"tick"),this.da&&(zw(this),this.start()))}},sk.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},sk.M=function(){Uw.Z.M.call(this),zw(this),delete this.g};var Ww=function(e){cc(n,e);var t=dc(n);function n(e,r){var i;return ku(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return _u(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Bw(this)}},{key:"M",value:function(){sc(oc(n.prototype),"M",this).call(this),this.g&&(hk.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(xk);function Kw(e){xk.call(this),this.h=e,this.g={}}_k(Kw,xk);var Hw=[];function Gw(e,t,n,r){Array.isArray(n)||(n&&(Hw[0]=n.toString()),n=Hw);for(var i=0;i<n.length;i++){var a=mw(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Qw(e){Lk(e.g,(function(e,t){this.g.hasOwnProperty(t)&&kw(e)}),e),e.g={}}function $w(){this.g=!0}function Yw(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Nw(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Kw.prototype.M=function(){Kw.Z.M.call(this),Qw(this)},Kw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$w.prototype.Aa=function(){this.g=!1},$w.prototype.info=function(){};var Xw={},Jw=null;function Zw(){return Jw=Jw||new Cw}function e_(e){iw.call(this,Xw.Ma,e)}function t_(e){var t=Zw();Iw(t,new e_(t,e))}function n_(e,t){iw.call(this,Xw.STAT_EVENT,e),this.stat=t}function r_(e){var t=Zw();Iw(t,new n_(t,e))}function i_(e,t){iw.call(this,Xw.Na,e),this.size=t}function a_(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return hk.setTimeout((function(){e()}),t)}Xw.Ma="serverreachability",_k(e_,iw),Xw.STAT_EVENT="statevent",_k(n_,iw),Xw.Na="timingevent",_k(i_,iw);var o_={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},u_={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function s_(){}function c_(e){return e.h||(e.h=e.i())}function l_(){}s_.prototype.h=null;var f_,h_={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function d_(){iw.call(this,"d")}function p_(){iw.call(this,"c")}function v_(){}function m_(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Kw(this),this.P=g_,e=Kk?125:void 0,this.W=new Uw(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new y_}function y_(){this.i=null,this.g="",this.h=!1}_k(d_,iw),_k(p_,iw),_k(v_,s_),v_.prototype.g=function(){return new XMLHttpRequest},v_.prototype.i=function(){return{}},f_=new v_;var g_=45e3,b_={},k_={};function w_(e,t,n){e.K=1,e.v=W_(j_(t)),e.s=n,e.U=!0,__(e,null)}function __(e,t){e.F=Date.now(),C_(e),e.A=j_(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),rx(n.h,"t",r),e.C=0,n=e.l.H,e.h=new y_,e.g=aS(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Ww(kk(e.Ia,e,e.g),e.O)),Gw(e.V,e.g,"readystatechange",e.gb),t=e.H?Fk(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),t_(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function x_(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function S_(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=E_(e,n))==k_){4==t&&(e.o=4,r_(14),i=!1),Yw(e.j,e.m,null,"[Incomplete Response]");break}if(r==b_){e.o=4,r_(15),Yw(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Yw(e.j,e.m,r,null),P_(e,r)}x_(e)&&r!=k_&&r!=b_&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,r_(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Xx(t),t.L=!0,r_(11))):(Yw(e.j,e.m,n,"[Invalid Chunked Response]"),R_(e),N_(e))}function E_(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?k_:(n=Number(t.substring(n,r)),isNaN(n)?b_:(r+=1)+n>t.length?k_:(t=t.substr(r,n),e.C=r+n,t))}function C_(e){e.Y=Date.now()+e.P,I_(e,e.P)}function I_(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=a_(kk(e.eb,e),t)}function T_(e){e.B&&(hk.clearTimeout(e.B),e.B=null)}function N_(e){0==e.l.G||e.I||eS(e.l,e)}function R_(e){T_(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,zw(e.W),Qw(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function P_(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||fx(n.i,e)))if(n.I=e.N,!e.J&&fx(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Zx(n),qx(n)}Yx(n),r_(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=a_(kk(n.ab,n),6e3));if(1>=lx(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else nS(n,11)}else if((e.J||n.g==e)&&Zx(n),!Nk(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Ak(l,"spdy")||Ak(l,"quic")||Ak(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(hx(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,B_(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=iS(r,r.H?r.la:null,r.W),d.J){dx(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(T_(p),C_(p)),r.g=d}else $x(r);0<n.l.length&&Kx(n)}else"stop"!=a[0]&&"close"!=a[0]||nS(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?nS(n,7):zx(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}t_(4)}catch(a){}}function A_(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(pk(e)||"string"===typeof e)Ck(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(pk(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(pk(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function O_(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof O_)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function D_(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];M_(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)M_(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function M_(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(sk=m_.prototype).setTimeout=function(e){this.P=e},sk.gb=function(e){e=e.target;var t=this.L;t&&3==Lx(e)?t.l():this.Ia(e)},sk.Ia=function(e){try{if(e==this.g)e:{var t=Lx(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Kk||this.g&&(this.h.h||this.g.ga()||Fx(this.g)))){this.I||4!=t||7==n||t_(8==n||0>=r?3:2),T_(this);var i=this.g.ba();this.N=i;t:if(x_(this)){var a=Fx(this.g);e="";var o=a.length,u=4==Lx(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){R_(this),N_(this);var s="";break t}this.h.i=new hk.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nk(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,r_(12),R_(this),N_(this);break e}Yw(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,P_(this,i)}this.U?(S_(this,t,s),Kk&&this.i&&3==t&&(Gw(this.V,this.W,"tick",this.fb),this.W.start())):(Yw(this.j,this.m,s,null),P_(this,s)),4==t&&R_(this),this.i&&!this.I&&(4==t?eS(this.l,this):(this.i=!1,C_(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,r_(12)):(this.o=0,r_(13)),R_(this),N_(this)}}}catch(t){}},sk.fb=function(){if(this.g){var e=Lx(this.g),t=this.g.ga();this.C<t.length&&(T_(this),S_(this,e,t),this.i&&4!=e&&C_(this))}},sk.cancel=function(){this.I=!0,R_(this)},sk.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(t_(3),r_(17)),R_(this),this.o=2,N_(this)):I_(this,this.Y-e)},(sk=O_.prototype).R=function(){D_(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},sk.T=function(){return D_(this),this.g.concat()},sk.get=function(e,t){return M_(this.h,e)?this.h[e]:t},sk.set=function(e,t){M_(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},sk.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var L_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function F_(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof F_){this.g=void 0!==t?t:e.g,V_(this,e.j),this.s=e.s,U_(this,e.i),z_(this,e.m),this.l=e.l,t=e.h;var n=new Z_;n.i=t.i,t.g&&(n.g=new O_(t.g),n.h=t.h),q_(this,n),this.o=e.o}else e&&(n=String(e).match(L_))?(this.g=!!t,V_(this,n[1]||"",!0),this.s=K_(n[2]||""),U_(this,n[3]||"",!0),z_(this,n[4]),this.l=K_(n[5]||"",!0),q_(this,n[6]||"",!0),this.o=K_(n[7]||"")):(this.g=!!t,this.h=new Z_(null,this.g))}function j_(e){return new F_(e)}function V_(e,t,n){e.j=n?K_(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function U_(e,t,n){e.i=n?K_(t,!0):t}function z_(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function q_(e,t,n){t instanceof Z_?(e.h=t,function(e,t){t&&!e.j&&(ex(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(tx(this,t),rx(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=H_(t,X_)),e.h=new Z_(t,e.g))}function B_(e,t,n){e.h.set(t,n)}function W_(e){return B_(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function K_(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function H_(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,G_),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function G_(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}F_.prototype.toString=function(){var e=[],t=this.j;t&&e.push(H_(t,Q_,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(H_(t,Q_,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(H_(n,"/"==n.charAt(0)?Y_:$_,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",H_(n,J_)),e.join("")};var Q_=/[#\/\?@]/g,$_=/[#\?:]/g,Y_=/[#\?]/g,X_=/[#\?@]/g,J_=/#/g;function Z_(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ex(e){e.g||(e.g=new O_,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function tx(e,t){ex(e),t=ix(e,t),M_(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,M_((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&D_(e)))}function nx(e,t){return ex(e),t=ix(e,t),M_(e.g.h,t)}function rx(e,t,n){tx(e,t),0<n.length&&(e.i=null,e.g.set(ix(e,t),Tk(n)),e.h+=n.length)}function ix(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(sk=Z_.prototype).add=function(e,t){ex(this),this.i=null,e=ix(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},sk.forEach=function(e,t){ex(this),this.g.forEach((function(n,r){Ck(n,(function(n){e.call(t,n,r,this)}),this)}),this)},sk.T=function(){ex(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},sk.R=function(e){ex(this);var t=[];if("string"===typeof e)nx(this,e)&&(t=Ik(t,this.g.get(ix(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Ik(t,e[n])}return t},sk.set=function(e,t){return ex(this),this.i=null,nx(this,e=ix(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},sk.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},sk.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var ax=_u((function e(t,n){ku(this,e),this.h=t,this.g=n}));function ox(e){this.l=e||sx,hk.PerformanceNavigationTiming?e=0<(e=hk.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(hk.g&&hk.g.Ea&&hk.g.Ea()&&hk.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ux,sx=10;function cx(e){return!!e.h||!!e.g&&e.g.size>=e.j}function lx(e){return e.h?1:e.g?e.g.size:0}function fx(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function hx(e,t){e.g?e.g.add(t):e.h=t}function dx(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function px(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=pc(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Tk(e.i)}function vx(){}function mx(){this.g=new vx}function yx(e,t,n){var r=n||"";try{A_(e,(function(e,n){var i=e;vk(e)&&(i=Nw(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(jB){throw t.push(r+"type="+encodeURIComponent("_badmap")),jB}}function gx(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function bx(e){this.l=e.$b||null,this.j=e.ib||!1}function kx(e,t){Cw.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=wx,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ox.prototype.cancel=function(){if(this.i=px(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=pc(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},vx.prototype.stringify=function(e){return hk.JSON.stringify(e,void 0)},vx.prototype.parse=function(e){return hk.JSON.parse(e,void 0)},_k(bx,s_),bx.prototype.g=function(){return new kx(this.l,this.j)},bx.prototype.i=(ux={},function(){return ux}),_k(kx,Cw);var wx=0;function _x(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function xx(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Sx(e)}function Sx(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(sk=kx.prototype).open=function(e,t){if(this.readyState!=wx)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Sx(this)},sk.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||hk).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},sk.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,xx(this)),this.readyState=wx},sk.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Sx(this)),this.g&&(this.readyState=3,Sx(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof hk.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_x(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},sk.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?xx(this):Sx(this),3==this.readyState&&_x(this)}},sk.Ua=function(e){this.g&&(this.response=this.responseText=e,xx(this))},sk.Ta=function(e){this.g&&(this.response=e,xx(this))},sk.ha=function(){this.g&&xx(this)},sk.setRequestHeader=function(e,t){this.v.append(e,t)},sk.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},sk.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(kx.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ex=hk.JSON.parse;function Cx(e){Cw.call(this),this.headers=new O_,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ix,this.K=this.L=!1}_k(Cx,Cw);var Ix="",Tx=/^https?$/i,Nx=["POST","PUT"];function Rx(e){return"content-type"==e.toLowerCase()}function Px(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ax(e),Dx(e)}function Ax(e){e.D||(e.D=!0,Iw(e,"complete"),Iw(e,"error"))}function Ox(e){if(e.h&&"undefined"!=typeof fk&&(!e.C[1]||4!=Lx(e)||2!=e.ba()))if(e.v&&4==Lx(e))qw(e.Fa,0,e);else if(Iw(e,"readystatechange"),4==Lx(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(L_)[1]||null;if(!a&&hk.self&&hk.self.location){var o=hk.self.location.protocol;a=o.substr(0,o.length-1)}i=!Tx.test(a?a.toLowerCase():"")}t=i}if(t)Iw(e,"complete"),Iw(e,"success");else{e.m=6;try{var u=2<Lx(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Ax(e)}}finally{Dx(e)}}}function Dx(e,t){if(e.g){Mx(e);var n=e.g,r=e.C[0]?dk:null;e.g=null,e.C=null,t||Iw(e,"ready");try{n.onreadystatechange=r}catch(jB){}}}function Mx(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(hk.clearTimeout(e.A),e.A=null)}function Lx(e){return e.g?e.g.readyState:0}function Fx(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Ix:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function jx(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Lk(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):B_(e,t,n))}function Vx(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ux(e){this.za=0,this.l=[],this.h=new $w,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Vx("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Vx("baseRetryDelayMs",5e3,e),this.$a=Vx("retryDelaySeedMs",1e4,e),this.Ya=Vx("forwardChannelMaxRetries",2,e),this.ra=Vx("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new ox(e&&e.concurrentRequestLimit),this.Ca=new mx,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function zx(e){if(Bx(e),3==e.G){var t=e.V++,n=j_(e.F);B_(n,"SID",e.J),B_(n,"RID",t),B_(n,"TYPE","terminate"),Gx(e,n),(t=new m_(e,e.h,t,void 0)).K=2,t.v=W_(j_(n)),n=!1,hk.navigator&&hk.navigator.sendBeacon&&(n=hk.navigator.sendBeacon(t.v.toString(),"")),!n&&hk.Image&&((new Image).src=t.v,n=!0),n||(t.g=aS(t.l,null),t.g.ea(t.v)),t.F=Date.now(),C_(t)}rS(e)}function qx(e){e.g&&(Xx(e),e.g.cancel(),e.g=null)}function Bx(e){qx(e),e.u&&(hk.clearTimeout(e.u),e.u=null),Zx(e),e.i.cancel(),e.m&&("number"===typeof e.m&&hk.clearTimeout(e.m),e.m=null)}function Wx(e,t){e.l.push(new ax(e.Za++,t)),3==e.G&&Kx(e)}function Kx(e){cx(e.i)||e.m||(e.m=!0,Lw(e.Ha,e),e.C=0)}function Hx(e,t){var n;n=t?t.m:e.V++;var r=j_(e.F);B_(r,"SID",e.J),B_(r,"RID",n),B_(r,"AID",e.U),Gx(e,r),e.o&&e.s&&jx(r,e.o,e.s),n=new m_(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Qx(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),hx(e.i,n),w_(n,r,t)}function Gx(e,t){e.j&&A_({},(function(e,n){B_(t,n,e)}))}function Qx(e,t,n){n=Math.min(e.l.length,n);var r=e.j?kk(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{yx(l,o,"req"+c+"_")}catch(AS){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function $x(e){e.g||e.u||(e.Y=1,Lw(e.Ga,e),e.A=0)}function Yx(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=a_(kk(e.Ga,e),tS(e,e.A)),e.A++,!0)}function Xx(e){null!=e.B&&(hk.clearTimeout(e.B),e.B=null)}function Jx(e){e.g=new m_(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=j_(e.oa);B_(t,"RID","rpc"),B_(t,"SID",e.J),B_(t,"CI",e.N?"0":"1"),B_(t,"AID",e.U),Gx(e,t),B_(t,"TYPE","xmlhttp"),e.o&&e.s&&jx(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=W_(j_(t)),n.s=null,n.U=!0,__(n,e)}function Zx(e){null!=e.v&&(hk.clearTimeout(e.v),e.v=null)}function eS(e,t){var n=null;if(e.g==t){Zx(e),Xx(e),e.g=null;var r=2}else{if(!fx(e.i,t))return;n=t.D,dx(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Iw(r=Zw(),new i_(r,n,t,i)),Kx(e)}else $x(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(lx(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=a_(kk(e.Ha,e,t),tS(e,e.C)),e.C++,!0))}(e,t)||2==r&&Yx(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:nS(e,5);break;case 4:nS(e,10);break;case 3:nS(e,6);break;default:nS(e,2)}}function tS(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function nS(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=kk(e.jb,e);n||(n=new F_("//www.google.com/images/cleardot.gif"),hk.location&&"http"==hk.location.protocol||V_(n,"https"),W_(n)),function(e,t){var n=new $w;if(hk.Image){var r=new Image;r.onload=wk(gx,n,r,"TestLoadImage: loaded",!0,t),r.onerror=wk(gx,n,r,"TestLoadImage: error",!1,t),r.onabort=wk(gx,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=wk(gx,n,r,"TestLoadImage: timeout",!1,t),hk.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else r_(2);e.G=0,e.j&&e.j.va(t),rS(e),Bx(e)}function rS(e){e.G=0,e.I=-1,e.j&&(0==px(e.i).length&&0==e.l.length||(e.i.i.length=0,Tk(e.l),e.l.length=0),e.j.ua())}function iS(e,t,n){var r=function(e){return e instanceof F_?j_(e):new F_(e,void 0)}(n);if(""!=r.i)t&&U_(r,t+"."+r.i),z_(r,r.m);else{var i=hk.location;r=function(e,t,n,r){var i=new F_(null,void 0);return e&&V_(i,e),t&&U_(i,t),n&&z_(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Lk(e.aa,(function(e,t){B_(r,t,e)})),t=e.D,n=e.sa,t&&n&&B_(r,t,n),B_(r,"VER",e.ma),Gx(e,r),r}function aS(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Cx(new bx({ib:!0})):new Cx(e.qa)).L=e.H,t}function oS(){}function uS(){if(Bk&&!(10<=Number(nw)))throw Error("Environmental error: no available transport.")}function sS(e,t){Cw.call(this),this.g=new Ux(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Nk(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Nk(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new fS(this)}function cS(e){d_.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function lS(){p_.call(this),this.status=1}function fS(e){this.g=e}(sk=Cx.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():f_.g(),this.C=this.u?c_(this.u):c_(f_),this.g.onreadystatechange=kk(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Px(this,a)}e=n||"";var i=new O_(this.headers);r&&A_(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Rx,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=hk.FormData&&e instanceof hk.FormData,!(0<=Ek(Nx,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Mx(this),0<this.B&&((this.K=function(e){return Bk&&ew()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=kk(this.pa,this)):this.A=qw(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Px(this,a)}},sk.pa=function(){"undefined"!=typeof fk&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Iw(this,"timeout"),this.abort(8))},sk.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Iw(this,"complete"),Iw(this,"abort"),Dx(this))},sk.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Dx(this,!0)),Cx.Z.M.call(this)},sk.Fa=function(){this.s||(this.F||this.v||this.l?Ox(this):this.cb())},sk.cb=function(){Ox(this)},sk.ba=function(){try{return 2<Lx(this)?this.g.status:-1}catch(ux){return-1}},sk.ga=function(){try{return this.g?this.g.responseText:""}catch(ux){return""}},sk.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ex(t)}},sk.Da=function(){return this.m},sk.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(sk=Ux.prototype).ma=8,sk.G=1,sk.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},sk.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new m_(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Vk(n=Fk(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Qx(this,t,r),B_(i=j_(this.F),"RID",e),B_(i,"CVER",22),this.D&&B_(i,"X-HTTP-Session-Id",this.D),Gx(this,i),this.o&&n&&jx(i,this.o,n),hx(this.i,t),this.Ra&&B_(i,"TYPE","init"),this.ja?(B_(i,"$req",r),B_(i,"SID","null"),t.$=!0,w_(t,i,null)):w_(t,i,r),this.G=2}}else 3==this.G&&(e?Hx(this,e):0==this.l.length||cx(this.i)||Hx(this))},sk.Ga=function(){if(this.u=null,Jx(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=a_(kk(this.bb,this),e)}},sk.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,r_(10),qx(this),Jx(this))},sk.ab=function(){null!=this.v&&(this.v=null,qx(this),Yx(this),r_(19))},sk.jb=function(e){e?(this.h.info("Successfully pinged google.com"),r_(2)):(this.h.info("Failed to ping google.com"),r_(1))},(sk=oS.prototype).xa=function(){},sk.wa=function(){},sk.va=function(){},sk.ua=function(){},sk.Oa=function(){},uS.prototype.g=function(e,t){return new sS(e,t)},_k(sS,Cw),sS.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Lw(kk(e.hb,e,t))),r_(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=iS(e,null,e.W),Kx(e)},sS.prototype.close=function(){zx(this.g)},sS.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Wx(this.g,t)}else this.v?((t={}).__data__=Nw(e),Wx(this.g,t)):Wx(this.g,e)},sS.prototype.M=function(){this.g.j=null,delete this.j,zx(this.g),delete this.g,sS.Z.M.call(this)},_k(cS,d_),_k(lS,p_),_k(fS,oS),fS.prototype.xa=function(){Iw(this.g,"a")},fS.prototype.wa=function(e){Iw(this.g,new cS(e))},fS.prototype.va=function(e){Iw(this.g,new lS(e))},fS.prototype.ua=function(){Iw(this.g,"b")},uS.prototype.createWebChannel=uS.prototype.g,sS.prototype.send=sS.prototype.u,sS.prototype.open=sS.prototype.m,sS.prototype.close=sS.prototype.close,o_.NO_ERROR=0,o_.TIMEOUT=8,o_.HTTP_ERROR=6,u_.COMPLETE="complete",l_.EventType=h_,h_.OPEN="a",h_.CLOSE="b",h_.ERROR="c",h_.MESSAGE="d",Cw.prototype.listen=Cw.prototype.N,Cx.prototype.listenOnce=Cx.prototype.O,Cx.prototype.getLastError=Cx.prototype.La,Cx.prototype.getLastErrorCode=Cx.prototype.Da,Cx.prototype.getStatus=Cx.prototype.ba,Cx.prototype.getResponseJson=Cx.prototype.Qa,Cx.prototype.getResponseText=Cx.prototype.ga,Cx.prototype.send=Cx.prototype.ea;var hS=lk.createWebChannelTransport=function(){return new uS},dS=lk.getStatEventTarget=function(){return Zw()},pS=lk.ErrorCode=o_,vS=lk.EventType=u_,mS=lk.Event=Xw,yS=lk.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},gS=lk.FetchXmlHttpFactory=bx,bS=lk.WebChannel=l_,kS=lk.XhrIo=Cx,wS="@firebase/firestore",_S=function(){function e(t){ku(this,e),this.uid=t}return _u(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();_S.UNAUTHENTICATED=new _S(null),_S.GOOGLE_CREDENTIALS=new _S("google-credentials-uid"),_S.FIRST_PARTY=new _S("first-party-uid"),_S.MOCK_USER=new _S("mock-user");var xS="9.6.10",SS=new Nl("@firebase/firestore");function ES(){return SS.logLevel}function CS(e){if(SS.logLevel<=kl.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(NS);SS.debug.apply(SS,["Firestore (".concat(xS,"): ").concat(e)].concat(g(i)))}}function IS(e){if(SS.logLevel<=kl.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(NS);SS.error.apply(SS,["Firestore (".concat(xS,"): ").concat(e)].concat(g(i)))}}function TS(e){if(SS.logLevel<=kl.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(NS);SS.warn.apply(SS,["Firestore (".concat(xS,"): ").concat(e)].concat(g(i)))}}function NS(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function RS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(xS,") INTERNAL ASSERTION FAILED: ")+e;throw IS(t),new Error(t)}function PS(e,t){e||RS()}function AS(e,t){return e}var OS={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},DS=function(e){cc(n,e);var t=dc(n);function n(e,r){var i;return ku(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return _u(n)}(jc),MS=_u((function e(){var t=this;ku(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),LS=_u((function e(t,n){ku(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),FS=function(){function e(){ku(this,e)}return _u(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(_S.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),jS=function(){function e(t){ku(this,e),this.token=t,this.changeListener=null}return _u(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),VS=function(){function e(t){ku(this,e),this.t=t,this.currentUser=_S.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return _u(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new MS;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new MS,e.enqueueRetryable((function(){return i(n.currentUser)}))};var u=function(){var t=a;e.enqueueRetryable(o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){CS("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),u()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(CS("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new MS)}}),0),u()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(CS("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(PS("string"==typeof n.accessToken),new LS(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return PS(null===e||"string"==typeof e),new _S(e)}}]),e}(),US=_u((function e(t,n,r){ku(this,e),this.type="FirstParty",this.user=_S.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),zS=function(){function e(t,n,r){ku(this,e),this.h=t,this.l=n,this.m=r}return _u(e,[{key:"getToken",value:function(){return Promise.resolve(new US(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(_S.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),qS=_u((function e(t){ku(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),BS=function(){function e(t){ku(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return _u(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&CS("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,CS("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){CS("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):CS("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(PS("string"==typeof t.token),e.p=t.token,new qS(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),WS=function(){function e(t,n){var r=this;ku(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return _u(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function KS(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}WS.A=-1;var HS=function(){function e(){ku(this,e)}return _u(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=KS(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function GS(e,t){return e<t?-1:e>t?1:0}function QS(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function $S(e){return e+"\0"}var YS=function(){function e(t,n){if(ku(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new DS(OS.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new DS(OS.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new DS(OS.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new DS(OS.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return _u(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?GS(this.nanoseconds,e.nanoseconds):GS(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),XS=function(){function e(t){ku(this,e),this.timestamp=t}return _u(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new YS(0,0))}},{key:"max",value:function(){return new e(new YS(253402300799,999999999))}}]),e}();function JS(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ZS(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function eE(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var tE=function(){function e(t,n,r){ku(this,e),void 0===n?n=0:n>t.length&&RS(),void 0===r?r=t.length-n:r>t.length-n&&RS(),this.segments=t,this.offset=n,this.len=r}return _u(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),nE=function(e){cc(n,e);var t=dc(n);function n(){return ku(this,n),t.apply(this,arguments)}return _u(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new DS(OS.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,g(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(tE),rE=/^[_a-zA-Z][_a-zA-Z0-9]*$/,iE=function(e){cc(n,e);var t=dc(n);function n(){return ku(this,n),t.apply(this,arguments)}return _u(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return rE.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new DS(OS.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new DS(OS.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new DS(OS.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new DS(OS.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(tE),aE=function(){function e(t){ku(this,e),this.fields=t,t.sort(iE.comparator)}return _u(e,[{key:"covers",value:function(e){var t,n=pc(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return QS(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var oE=function(e){function t(e){ku(this,t),this.binaryString=e}return _u(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return GS(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();oE.EMPTY_BYTE_STRING=new oE("");var uE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sE(e){if(PS(!!e),"string"==typeof e){var t=0,n=uE.exec(e);if(PS(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:cE(e.seconds),nanos:cE(e.nanos)}}function cE(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function lE(e){return"string"==typeof e?oE.fromBase64String(e):oE.fromUint8Array(e)}function fE(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function hE(e){var t=e.mapValue.fields.__previous_value__;return fE(t)?hE(t):t}function dE(e){var t=sE(e.mapValue.fields.__local_write_time__.timestampValue);return new YS(t.seconds,t.nanos)}var pE=_u((function e(t,n,r,i,a,o,u,s){ku(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),vE=function(){function e(t,n){ku(this,e),this.projectId=t,this.database=n||"(default)"}return _u(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function mE(e){return null==e}function yE(e){return 0===e&&1/e==-1/0}function gE(e){return"number"==typeof e&&Number.isInteger(e)&&!yE(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var bE=function(){function e(t){ku(this,e),this.path=t}return _u(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===nE.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(nE.fromString(t))}},{key:"fromName",value:function(t){return new e(nE.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(nE.emptyPath())}},{key:"comparator",value:function(e,t){return nE.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new nE(t.slice()))}}]),e}(),kE={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},wE={nullValue:"NULL_VALUE"};function _E(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?fE(e)?4:LE(e)?9:10:RS()}function xE(e,t){if(e===t)return!0;var n=_E(e);if(n!==_E(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return dE(e).isEqual(dE(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=sE(e.timestampValue),r=sE(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return lE(e.bytesValue).isEqual(lE(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return cE(e.geoPointValue.latitude)===cE(t.geoPointValue.latitude)&&cE(e.geoPointValue.longitude)===cE(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return cE(e.integerValue)===cE(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=cE(e.doubleValue),r=cE(t.doubleValue);return n===r?yE(n)===yE(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return QS(e.arrayValue.values||[],t.arrayValue.values||[],xE);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(JS(n)!==JS(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!xE(n[i],r[i])))return!1;return!0}(e,t);default:return RS()}}function SE(e,t){return void 0!==(e.values||[]).find((function(e){return xE(e,t)}))}function EE(e,t){if(e===t)return 0;var n=_E(e),r=_E(t);if(n!==r)return GS(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return GS(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=cE(e.integerValue||e.doubleValue),r=cE(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return CE(e.timestampValue,t.timestampValue);case 4:return CE(dE(e),dE(t));case 5:return GS(e.stringValue,t.stringValue);case 6:return function(e,t){var n=lE(e),r=lE(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=GS(n[i],r[i]);if(0!==a)return a}return GS(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=GS(cE(e.latitude),cE(t.latitude));return 0!==n?n:GS(cE(e.longitude),cE(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=EE(n[i],r[i]);if(a)return a}return GS(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=GS(r[o],a[o]);if(0!==u)return u;var s=EE(n[r[o]],i[a[o]]);if(0!==s)return s}return GS(r.length,a.length)}(e.mapValue,t.mapValue);default:throw RS()}}function CE(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return GS(e,t);var n=sE(e),r=sE(t),i=GS(n.seconds,r.seconds);return 0!==i?i:GS(n.nanos,r.nanos)}function IE(e){return TE(e)}function TE(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=sE(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?lE(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,bE.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=pc(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=TE(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=pc(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(TE(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):RS();var t,n}function NE(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function RE(e){return!!e&&"integerValue"in e}function PE(e){return!!e&&"arrayValue"in e}function AE(e){return!!e&&"nullValue"in e}function OE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function DE(e){return!!e&&"mapValue"in e}function ME(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ZS(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=ME(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=ME(e.arrayValue.values[r]);return n}return Object.assign({},e)}function LE(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function FE(e,t){return void 0===e?t:void 0===t||EE(e,t)>0?e:t}function jE(e,t){return void 0===e?t:void 0===t||EE(e,t)<0?e:t}var VE=function(){function e(t){ku(this,e),this.value=t}return _u(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!DE(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ME(t)}},{key:"setAll",value:function(e){var t=this,n=iE.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=ME(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());DE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return xE(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];DE(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){ZS(t,(function(t,n){return e[t]=n}));var r,i=pc(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(ME(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function UE(e){var t=[];return ZS(e.fields,(function(e,n){var r=new iE([e]);if(DE(n)){var i=UE(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=pc(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new aE(t)}var zE=function(){function e(t,n,r,i,a,o){ku(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return _u(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=VE.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=VE.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,XS.min(),XS.min(),VE.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,XS.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,XS.min(),VE.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,XS.min(),VE.empty(),2)}}]),e}(),qE=_u((function e(t,n,r,i){ku(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function BE(e){return e.fields.find((function(e){return 2===e.kind}))}function WE(e){return e.fields.filter((function(e){return 2!==e.kind}))}qE.UNKNOWN_ID=-1;var KE=_u((function e(t,n){ku(this,e),this.fieldPath=t,this.kind=n})),HE=function(){function e(t,n){ku(this,e),this.sequenceNumber=t,this.offset=n}return _u(e,null,[{key:"empty",value:function(){return new e(0,$E.min())}}]),e}();function GE(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=XS.fromTimestamp(1e9===r?new YS(n+1,0):new YS(n,r));return new $E(i,bE.empty(),t)}function QE(e){return new $E(e.readTime,e.key,-1)}var $E=function(){function e(t,n,r){ku(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return _u(e,null,[{key:"min",value:function(){return new e(XS.min(),bE.empty(),-1)}},{key:"max",value:function(){return new e(XS.max(),bE.empty(),-1)}}]),e}();function YE(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=bE.comparator(e.documentKey,t.documentKey))?n:GS(e.largestBatchId,t.largestBatchId)}var XE=_u((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;ku(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function JE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new XE(e,t,n,r,i,a,o)}function ZE(e){var t=AS(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+IE(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),mE(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return IE(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return IE(e)})).join(",")),t.P=n}return t.P}function eC(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!pC(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!xE(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!mC(e.startAt,t.startAt)&&mC(e.endAt,t.endAt)}function tC(e){return bE.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function nC(e,t){return e.filters.filter((function(e){return e instanceof rC&&e.field.isEqual(t)}))}var rC=function(e){cc(n,e);var t=dc(n);function n(e,r,i){var a;return ku(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return _u(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(EE(t,this.value)):null!==t&&_E(this.value)===_E(t)&&this.v(EE(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return RS()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new iC(e,t,r):"array-contains"===t?new sC(e,r):"in"===t?new cC(e,r):"not-in"===t?new lC(e,r):"array-contains-any"===t?new fC(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new aC(e,n):new oC(e,n)}}]),n}(function(){return _u((function e(){ku(this,e)}))}()),iC=function(e){cc(n,e);var t=dc(n);function n(e,r,i){var a;return ku(this,n),(a=t.call(this,e,r,i)).key=bE.fromName(i.referenceValue),a}return _u(n,[{key:"matches",value:function(e){var t=bE.comparator(e.key,this.key);return this.v(t)}}]),n}(rC),aC=function(e){cc(n,e);var t=dc(n);function n(e,r){var i;return ku(this,n),(i=t.call(this,e,"in",r)).keys=uC("in",r),i}return _u(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(rC),oC=function(e){cc(n,e);var t=dc(n);function n(e,r){var i;return ku(this,n),(i=t.call(this,e,"not-in",r)).keys=uC("not-in",r),i}return _u(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(rC);function uC(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return bE.fromName(e.referenceValue)}))}var sC=function(e){cc(n,e);var t=dc(n);function n(e,r){return ku(this,n),t.call(this,e,"array-contains",r)}return _u(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return PE(t)&&SE(t.arrayValue,this.value)}}]),n}(rC),cC=function(e){cc(n,e);var t=dc(n);function n(e,r){return ku(this,n),t.call(this,e,"in",r)}return _u(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&SE(this.value.arrayValue,t)}}]),n}(rC),lC=function(e){cc(n,e);var t=dc(n);function n(e,r){return ku(this,n),t.call(this,e,"not-in",r)}return _u(n,[{key:"matches",value:function(e){if(SE(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!SE(this.value.arrayValue,t)}}]),n}(rC),fC=function(e){cc(n,e);var t=dc(n);function n(e,r){return ku(this,n),t.call(this,e,"array-contains-any",r)}return _u(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!PE(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return SE(t.value.arrayValue,e)}))}}]),n}(rC),hC=_u((function e(t,n){ku(this,e),this.position=t,this.inclusive=n})),dC=_u((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";ku(this,e),this.field=t,this.dir=n}));function pC(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function vC(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?bE.comparator(bE.fromName(o.referenceValue),n.key):EE(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function mC(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!xE(e.position[n],t.position[n]))return!1;return!0}var yC=_u((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;ku(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function gC(e,t,n,r,i,a,o,u){return new yC(e,t,n,r,i,a,o,u)}function bC(e){return new yC(e)}function kC(e){return!mE(e.limit)&&"F"===e.limitType}function wC(e){return!mE(e.limit)&&"L"===e.limitType}function _C(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function xC(e){var t,n=pc(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function SC(e){return null!==e.collectionGroup}function EC(e){var t=AS(e);if(null===t.D){t.D=[];var n=xC(t),r=_C(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new dC(n)),t.D.push(new dC(iE.keyField(),"asc"));else{var i,a=!1,o=pc(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new dC(iE.keyField(),s))}}}return t.D}function CC(e){var t=AS(e);if(!t.C)if("F"===t.limitType)t.C=JE(t.path,t.collectionGroup,EC(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=pc(EC(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new dC(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new hC(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new hC(t.startAt.position,!t.startAt.inclusive):null;t.C=JE(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function IC(e,t,n){return new yC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function TC(e,t){return eC(CC(e),CC(t))&&e.limitType===t.limitType}function NC(e){return"".concat(ZE(CC(e)),"|lt:").concat(e.limitType)}function RC(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(IE(t.value));var t})).join(", "),"]")),mE(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return IE(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return IE(e)})).join(",")),"Target(".concat(t,")")}(CC(e)),"; limitType=").concat(e.limitType,")")}function PC(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):bE.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=pc(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=pc(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=vC(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,EC(e),t))&&!(e.endAt&&!function(e,t,n){var r=vC(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,EC(e),t))}(e,t)}function AC(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function OC(e){return function(t,n){var r,i=!1,a=pc(EC(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=DC(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function DC(e,t,n){var r=e.field.isKeyField()?bE.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?EE(r,i):RS()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return RS()}}function MC(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yE(t)?"-0":t}}function LC(e){return{integerValue:""+e}}function FC(e,t){return gE(t)?LC(t):MC(e,t)}var jC=_u((function e(){ku(this,e),this._=void 0}));function VC(e,t,n){return e instanceof qC?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof BC?WC(e,t):e instanceof KC?HC(e,t):function(e,t){var n=zC(e,t),r=QC(n)+QC(e.k);return RE(n)&&RE(e.k)?LC(r):MC(e.M,r)}(e,t)}function UC(e,t,n){return e instanceof BC?WC(e,t):e instanceof KC?HC(e,t):n}function zC(e,t){return e instanceof GC?RE(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var qC=function(e){cc(n,e);var t=dc(n);function n(){return ku(this,n),t.apply(this,arguments)}return _u(n)}(jC),BC=function(e){cc(n,e);var t=dc(n);function n(e){var r;return ku(this,n),(r=t.call(this)).elements=e,r}return _u(n)}(jC);function WC(e,t){var n,r=$C(t),i=pc(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return xE(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var KC=function(e){cc(n,e);var t=dc(n);function n(e){var r;return ku(this,n),(r=t.call(this)).elements=e,r}return _u(n)}(jC);function HC(e,t){var n,r=$C(t),i=pc(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!xE(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var GC=function(e){cc(n,e);var t=dc(n);function n(e,r){var i;return ku(this,n),(i=t.call(this)).M=e,i.k=r,i}return _u(n)}(jC);function QC(e){return cE(e.integerValue||e.doubleValue)}function $C(e){return PE(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var YC=_u((function e(t,n){ku(this,e),this.field=t,this.transform=n}));var XC=_u((function e(t,n){ku(this,e),this.version=t,this.transformResults=n})),JC=function(){function e(t,n){ku(this,e),this.updateTime=t,this.exists=n}return _u(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function ZC(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var eI=_u((function e(){ku(this,e)}));function tI(e,t,n){e instanceof oI?function(e,t,n){var r=e.value.clone(),i=cI(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof uI?function(e,t,n){if(ZC(e.precondition,t)){var r=cI(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(sI(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function nI(e,t,n){e instanceof oI?function(e,t,n){if(ZC(e.precondition,t)){var r=e.value.clone(),i=lI(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(aI(t),r).setHasLocalMutations()}}(e,t,n):e instanceof uI?function(e,t,n){if(ZC(e.precondition,t)){var r=lI(e.fieldTransforms,n,t),i=t.data;i.setAll(sI(e)),i.setAll(r),t.convertToFoundDocument(aI(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){ZC(e.precondition,t)&&t.convertToNoDocument(XS.min())}(e,t)}function rI(e,t){var n,r=null,i=pc(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=zC(a.transform,o||null);null!=u&&(null==r&&(r=VE.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function iI(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&QS(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof BC&&t instanceof BC||e instanceof KC&&t instanceof KC?QS(e.elements,t.elements,xE):e instanceof GC&&t instanceof GC?xE(e.k,t.k):e instanceof qC&&t instanceof qC}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function aI(e){return e.isFoundDocument()?e.version:XS.min()}var oI=function(e){cc(n,e);var t=dc(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return ku(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return _u(n)}(eI),uI=function(e){cc(n,e);var t=dc(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return ku(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return _u(n)}(eI);function sI(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function cI(e,t,n){var r=new Map;PS(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,UC(o,u,n[i]))}return r}function lI(e,t,n){var r,i=new Map,a=pc(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,VC(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var fI,hI,dI=function(e){cc(n,e);var t=dc(n);function n(e,r){var i;return ku(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return _u(n)}(eI),pI=function(e){cc(n,e);var t=dc(n);function n(e,r){var i;return ku(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return _u(n)}(eI),vI=_u((function e(t){ku(this,e),this.count=t}));function mI(e){switch(e){default:return RS();case OS.CANCELLED:case OS.UNKNOWN:case OS.DEADLINE_EXCEEDED:case OS.RESOURCE_EXHAUSTED:case OS.INTERNAL:case OS.UNAVAILABLE:case OS.UNAUTHENTICATED:return!1;case OS.INVALID_ARGUMENT:case OS.NOT_FOUND:case OS.ALREADY_EXISTS:case OS.PERMISSION_DENIED:case OS.FAILED_PRECONDITION:case OS.ABORTED:case OS.OUT_OF_RANGE:case OS.UNIMPLEMENTED:case OS.DATA_LOSS:return!0}}function yI(e){if(void 0===e)return IS("GRPC error has no .code"),OS.UNKNOWN;switch(e){case fI.OK:return OS.OK;case fI.CANCELLED:return OS.CANCELLED;case fI.UNKNOWN:return OS.UNKNOWN;case fI.DEADLINE_EXCEEDED:return OS.DEADLINE_EXCEEDED;case fI.RESOURCE_EXHAUSTED:return OS.RESOURCE_EXHAUSTED;case fI.INTERNAL:return OS.INTERNAL;case fI.UNAVAILABLE:return OS.UNAVAILABLE;case fI.UNAUTHENTICATED:return OS.UNAUTHENTICATED;case fI.INVALID_ARGUMENT:return OS.INVALID_ARGUMENT;case fI.NOT_FOUND:return OS.NOT_FOUND;case fI.ALREADY_EXISTS:return OS.ALREADY_EXISTS;case fI.PERMISSION_DENIED:return OS.PERMISSION_DENIED;case fI.FAILED_PRECONDITION:return OS.FAILED_PRECONDITION;case fI.ABORTED:return OS.ABORTED;case fI.OUT_OF_RANGE:return OS.OUT_OF_RANGE;case fI.UNIMPLEMENTED:return OS.UNIMPLEMENTED;case fI.DATA_LOSS:return OS.DATA_LOSS;default:return RS()}}(hI=fI||(fI={}))[hI.OK=0]="OK",hI[hI.CANCELLED=1]="CANCELLED",hI[hI.UNKNOWN=2]="UNKNOWN",hI[hI.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hI[hI.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hI[hI.NOT_FOUND=5]="NOT_FOUND",hI[hI.ALREADY_EXISTS=6]="ALREADY_EXISTS",hI[hI.PERMISSION_DENIED=7]="PERMISSION_DENIED",hI[hI.UNAUTHENTICATED=16]="UNAUTHENTICATED",hI[hI.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hI[hI.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hI[hI.ABORTED=10]="ABORTED",hI[hI.OUT_OF_RANGE=11]="OUT_OF_RANGE",hI[hI.UNIMPLEMENTED=12]="UNIMPLEMENTED",hI[hI.INTERNAL=13]="INTERNAL",hI[hI.UNAVAILABLE=14]="UNAVAILABLE",hI[hI.DATA_LOSS=15]="DATA_LOSS";var gI=function(){function e(t,n){ku(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return _u(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=pc(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){ZS(this.inner,(function(t,n){var r,i=pc(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return eE(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),bI=function(){function e(t,n){ku(this,e),this.comparator=t,this.root=n||wI.EMPTY}return _u(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,wI.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,wI.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new kI(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new kI(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new kI(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new kI(this.root,e,this.comparator,!0)}}]),e}(),kI=function(){function e(t,n,r,i){ku(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return _u(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),wI=function(){function e(t,n,r,i,a){ku(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return _u(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw RS();if(this.right.isRed())throw RS();var e=this.left.check();if(e!==this.right.check())throw RS();return e+(this.isRed()?0:1)}}]),e}();wI.EMPTY=null,wI.RED=!0,wI.BLACK=!1,wI.EMPTY=new(function(){function e(){ku(this,e),this.size=0}return _u(e,[{key:"key",get:function(){throw RS()}},{key:"value",get:function(){throw RS()}},{key:"color",get:function(){throw RS()}},{key:"left",get:function(){throw RS()}},{key:"right",get:function(){throw RS()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new wI(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var _I=function(){function e(t){ku(this,e),this.comparator=t,this.data=new bI(this.comparator)}return _u(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new xI(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new xI(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),xI=function(){function e(t){ku(this,e),this.iter=t}return _u(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function SI(e){return e.hasNext()?e.getNext():void 0}var EI=new bI(bE.comparator);function CI(){return EI}var II=new bI(bE.comparator);function TI(){return II}function NI(){return new gI((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var RI=new bI(bE.comparator),PI=new _I(bE.comparator);function AI(){for(var e=PI,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var OI=new _I(GS);function DI(){return OI}var MI=function(){function e(t,n,r,i,a){ku(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return _u(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,LI.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(XS.min(),r,DI(),CI(),AI())}}]),e}(),LI=function(){function e(t,n,r,i,a){ku(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return _u(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(oE.EMPTY_BYTE_STRING,n,AI(),AI(),AI())}}]),e}(),FI=_u((function e(t,n,r,i){ku(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),jI=_u((function e(t,n){ku(this,e),this.targetId=t,this.$=n})),VI=_u((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:oE.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;ku(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),UI=function(){function e(){ku(this,e),this.B=0,this.L=BI(),this.U=oE.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}return _u(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"K",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.G}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}},{key:"H",value:function(){var e=AI(),t=AI(),n=AI();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:RS()}})),new LI(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.G=!1,this.L=BI()}},{key:"Y",value:function(e,t){this.G=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.G=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.G=!0,this.q=!0}}]),e}(),zI=function(){function e(t){ku(this,e),this.nt=t,this.st=new Map,this.it=CI(),this.rt=qI(),this.ot=new _I(GS)}return _u(e,[{key:"ut",value:function(e){var t,n=pc(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=pc(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:RS()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(tC(i))if(0===n){var a=new bE(i.path);this.ct(t,a,zE.newNoDocument(a,XS.min()))}else PS(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&tC(a.target)){var o=new bE(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,zE.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=AI();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new MI(e,n,this.ot,this.it,r);return this.it=CI(),this.rt=qI(),this.ot=new _I(GS),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new UI,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new _I(GS),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||CS("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new UI),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function qI(){return new bI(bE.comparator)}function BI(){return new bI(bE.comparator)}var WI={asc:"ASCENDING",desc:"DESCENDING"},KI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HI=_u((function e(t,n){ku(this,e),this.databaseId=t,this.N=n}));function GI(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function QI(e,t){return e.N?t.toBase64():t.toUint8Array()}function $I(e,t){return GI(e,t.toTimestamp())}function YI(e){return PS(!!e),XS.fromTimestamp(function(e){var t=sE(e);return new YS(t.seconds,t.nanos)}(e))}function XI(e,t){return function(e){return new nE(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function JI(e){var t=nE.fromString(e);return PS(wT(t)),t}function ZI(e,t){return XI(e.databaseId,t.path)}function eT(e,t){var n=JI(t);if(n.get(1)!==e.databaseId.projectId)throw new DS(OS.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new DS(OS.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new bE(iT(n))}function tT(e,t){return XI(e.databaseId,t)}function nT(e){var t=JI(e);return 4===t.length?nE.emptyPath():iT(t)}function rT(e){return new nE(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function iT(e){return PS(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function aT(e,t,n){return{name:ZI(e,t),fields:n.value.mapValue.fields}}function oT(e,t,n){var r=eT(e,t.name),i=YI(t.updateTime),a=new VE({mapValue:{fields:t.fields}}),o=zE.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function uT(e,t){return"found"in t?function(e,t){PS(!!t.found),t.found.name,t.found.updateTime;var n=eT(e,t.found.name),r=YI(t.found.updateTime),i=new VE({mapValue:{fields:t.found.fields}});return zE.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){PS(!!t.missing),PS(!!t.readTime);var n=eT(e,t.missing),r=YI(t.readTime);return zE.newNoDocument(n,r)}(e,t):RS()}function sT(e,t){var n;if(t instanceof oI)n={update:aT(e,t.key,t.value)};else if(t instanceof dI)n={delete:ZI(e,t.key)};else if(t instanceof uI)n={update:aT(e,t.key,t.data),updateMask:kT(t.fieldMask)};else{if(!(t instanceof pI))return RS();n={verify:ZI(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof qC)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof BC)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof KC)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof GC)return{fieldPath:t.field.canonicalString(),increment:n.k};throw RS()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:$I(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:RS()}(e,t.precondition)),n}function cT(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?JC.updateTime(YI(e.updateTime)):void 0!==e.exists?JC.exists(e.exists):JC.none()}(t.currentDocument):JC.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)PS("REQUEST_TIME"===t.setToServerValue),n=new qC;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new BC(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new KC(i)}else"increment"in t?n=new GC(e,t.increment):RS();var a=iE.fromServerFormat(t.fieldPath);return new YC(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=eT(e,t.update.name),a=new VE({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new aE(t.map((function(e){return iE.fromServerFormat(e)})))}(t.updateMask);return new uI(i,a,o,n,r)}return new oI(i,a,n,r)}if(t.delete){var u=eT(e,t.delete);return new dI(u,n)}if(t.verify){var s=eT(e,t.verify);return new pI(s,n)}return RS()}function lT(e,t){return{documents:[tT(e,t.path)]}}function fT(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=tT(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=tT(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(OE(e.value))return{unaryFilter:{field:mT(e.field),op:"IS_NAN"}};if(AE(e.value))return{unaryFilter:{field:mT(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(OE(e.value))return{unaryFilter:{field:mT(e.field),op:"IS_NOT_NAN"}};if(AE(e.value))return{unaryFilter:{field:mT(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mT(e.field),op:vT(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:mT(e.field),direction:pT(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||mE(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function hT(e){var t=nT(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){PS(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=dT(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new dC(yT(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return mE(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new hC(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new hC(n,t)}(n.endAt)),gC(t,i,u,o,s,"F",c,l)}function dT(e){return e?void 0!==e.unaryFilter?[bT(e)]:void 0!==e.fieldFilter?[gT(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return dT(e)})).reduce((function(e,t){return e.concat(t)})):RS():[]}function pT(e){return WI[e]}function vT(e){return KI[e]}function mT(e){return{fieldPath:e.canonicalString()}}function yT(e){return iE.fromServerFormat(e.fieldPath)}function gT(e){return rC.create(yT(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return RS()}}(e.fieldFilter.op),e.fieldFilter.value)}function bT(e){switch(e.unaryFilter.op){case"IS_NAN":var t=yT(e.unaryFilter.field);return rC.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=yT(e.unaryFilter.field);return rC.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=yT(e.unaryFilter.field);return rC.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=yT(e.unaryFilter.field);return rC.create(i,"!=",{nullValue:"NULL_VALUE"});default:return RS()}}function kT(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function wT(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function _T(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=ST(t)),t=xT(e.get(n),t);return ST(t)}function xT(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function ST(e){return e+"\x01\x01"}function ET(e){var t=e.length;if(PS(t>=2),2===t)return PS("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),nE.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&RS(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:RS()}a=o+2}return new nE(r)}var CT=["userId","batchId"];function IT(e,t){return[e,_T(t)]}function TT(e,t,n){return[e,_T(t),n]}var NT={},RT=["prefixPath","collectionGroup","readTime","documentId"],PT=["prefixPath","collectionGroup","documentId"],AT=["collectionGroup","readTime","prefixPath","documentId"],OT=["canonicalId","targetId"],DT=["targetId","path"],MT=["path","targetId"],LT=["collectionId","parent"],FT=["indexId","uid"],jT=["uid","sequenceNumber"],VT=["indexId","uid","arrayValue","directionalValue","documentKey"],UT=["indexId","uid","documentKey"],zT=["userId","collectionPath","documentId"],qT=["userId","collectionPath","largestBatchId"],BT=["userId","collectionGroup","largestBatchId"],WT=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),KT=[].concat(g(WT),["documentOverlays"]),HT=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],GT=[].concat(HT,["indexConfiguration","indexState","indexEntries"]),QT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",$T=function(){function e(){ku(this,e),this.onCommittedListeners=[]}return _u(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),YT=function(){function e(t){var n=this;ku(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return _u(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&RS(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=pc(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),XT=function(){function e(t,n){var r=this;ku(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new MS,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new eN(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=aN(e.target.error);r.At.reject(new eN(t,n))}}return _u(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(CS("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new nN(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new eN(n,t)}}}]),e}(),JT=function(){function e(t,n,r){ku(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt(Rc())&&IS("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return _u(e,[{key:"Nt",value:function(){var e=o(f().mark((function e(t){var n=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return CS("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new eN(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new DS(OS.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new DS(OS.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new eN(t,n))},i.onupgradeneeded=function(e){CS("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){CS("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=o(f().mark((function e(t,n,r,i){var a,o,u,s,c=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(f().mark((function e(){var n,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=XT.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),YT.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,CS("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return CS("SimpleDb","Removing database:",e),rN(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!Fc())return!1;if(e.St())return!0;var t=Rc(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/memento",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),ZT=function(){function e(t){ku(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return _u(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return rN(this.Ft.delete())}}]),e}(),eN=function(e){cc(n,e);var t=dc(n);function n(e,r){var i;return ku(this,n),(i=t.call(this,OS.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return _u(n)}(DS);function tN(e){return"IndexedDbTransactionError"===e.name}var nN=function(){function e(t){ku(this,e),this.store=t}return _u(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(CS("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(CS("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),rN(n)}},{key:"add",value:function(e){return CS("SimpleDb","ADD",this.store.name,e,e),rN(this.store.add(e))}},{key:"get",value:function(e){var t=this;return rN(this.store.get(e)).next((function(n){return void 0===n&&(n=null),CS("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return CS("SimpleDb","DELETE",this.store.name,e),rN(this.store.delete(e))}},{key:"count",value:function(){return CS("SimpleDb","COUNT",this.store.name),rN(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Gt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new YT((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Kt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new YT((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){CS("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Gt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Gt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new YT((function(n,r){t.onerror=function(e){var t=aN(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Gt",value:function(e,t){var n=[];return new YT((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new ZT(i),o=t(i.primaryKey,i.value,a);if(o instanceof YT){var u=o.catch((function(e){return a.done(),YT.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return YT.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function rN(e){return new YT((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=aN(e.target.error);n(t)}}))}var iN=!1;function aN(e){var t=JT.Vt(Rc());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new DS("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return iN||(iN=!0,setTimeout((function(){throw r}),0)),r}}return e}var oN=function(e){cc(n,e);var t=dc(n);function n(e,r){var i;return ku(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return _u(n)}($T);function uN(e,t){var n=AS(e);return JT.xt(n.Ht,t)}var sN=function(){function e(t,n,r,i){ku(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return _u(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&tI(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=pc(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&nI(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=pc(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&nI(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(XS.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),AI())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&QS(this.mutations,e.mutations,(function(e,t){return iI(e,t)}))&&QS(this.baseMutations,e.baseMutations,(function(e,t){return iI(e,t)}))}}]),e}(),cN=function(){function e(t,n,r,i){ku(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return _u(e,null,[{key:"from",value:function(t,n,r){PS(t.mutations.length===r.length);for(var i=RI,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),lN=function(){function e(t,n){ku(this,e),this.largestBatchId=t,this.mutation=n}return _u(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),fN=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:XS.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:XS.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:oE.EMPTY_BYTE_STRING;ku(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return _u(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),hN=_u((function e(t){ku(this,e),this.Jt=t}));function dN(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:pN(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:ZI(e,t.key),fields:t.data.value.mapValue.fields,updateTime:GI(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:vN(t.version)};else{if(!t.isUnknownDocument())return RS();r.unknownDocument={path:n.path.toArray(),version:vN(t.version)}}return r}function pN(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function vN(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function mN(e){var t=new YS(e.seconds,e.nanoseconds);return XS.fromTimestamp(t)}function yN(e,t){for(var n=(t.baseMutations||[]).map((function(t){return cT(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return cT(e.Jt,t)})),u=YS.fromMillis(t.localWriteTimeMs);return new sN(t.batchId,u,n,o)}function gN(e){var t,n,r=mN(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?mN(e.lastLimboFreeSnapshotVersion):XS.min();return void 0!==e.query.documents?(PS(1===(n=e.query).documents.length),t=CC(bC(nT(n.documents[0])))):t=function(e){return CC(hT(e))}(e.query),new fN(t,e.targetId,0,e.lastListenSequenceNumber,r,i,oE.fromBase64String(e.resumeToken))}function bN(e,t){var n,r=vN(t.snapshotVersion),i=vN(t.lastLimboFreeSnapshotVersion);n=tC(t.target)?lT(e.Jt,t.target):fT(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ZE(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function kN(e){var t=hT({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?IC(t,t.limit,"L"):t}function wN(e,t){return new lN(t.largestBatchId,cT(e.Jt,t.overlayMutation))}function _N(e,t){var n=t.path.lastSegment();return[e,_T(t.path.popLast()),n]}var xN=function(){function e(){ku(this,e)}return _u(e,[{key:"getBundleMetadata",value:function(e,t){return SN(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:mN(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return SN(e).put({bundleId:(n=t).id,createTime:vN(YI(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return EN(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:kN(t.bundledQuery),readTime:mN(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return EN(e).put(function(e){return{name:e.name,readTime:vN(YI(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function SN(e){return uN(e,"bundles")}function EN(e){return uN(e,"namedQueries")}var CN=function(){function e(t,n){ku(this,e),this.M=t,this.userId=n}return _u(e,[{key:"getOverlay",value:function(e,t){var n=this;return IN(e).get(_N(this.userId,t)).next((function(e){return e?wN(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new lN(t,a);i.push(r.Xt(e,o))})),YT.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(_T(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(IN(e).Qt("collectionPathOverlayIndex",i))})),YT.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=NI(),a=_T(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return IN(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=pc(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=wN(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=NI(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return IN(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=wN(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return IN(e).put(function(e,t,n){var r=c(_N(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:sT(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function IN(e){return uN(e,"documentOverlays")}var TN=function(){function e(){ku(this,e)}return _u(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(cE(e.integerValue));else if("doubleValue"in e){var n=cE(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),yE(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(lE(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?LE(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):RS()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=pc(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),bE.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function NN(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function RN(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=NN(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}TN.fe=new TN;var PN=function(){function e(){ku(this,e),this.buffer=new Uint8Array(1024),this.position=0}return _u(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=pc(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=pc(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=RN(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=RN(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),AN=function(){function e(t){ku(this,e),this.De=t}return _u(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),ON=function(){function e(t){ku(this,e),this.De=t}return _u(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),DN=function(){function e(){ku(this,e),this.De=new PN,this.Ce=new AN(this.De),this.xe=new ON(this.De)}return _u(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),MN=function(){function e(t,n,r,i){ku(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return _u(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function LN(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=FN(e.arrayValue,t.arrayValue))?n:0!==(n=FN(e.directionalValue,t.directionalValue))?n:bE.comparator(e.documentKey,t.documentKey)}function FN(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var jN=function(){function e(t){ku(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=pc(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return _u(e,[{key:"$e",value:function(e){var t=BE(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=WE(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=pc(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),VN=function(){function e(){ku(this,e),this.qe=new UN}return _u(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),YT.resolve()}},{key:"getCollectionParents",value:function(e,t){return YT.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return YT.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return YT.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return YT.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return YT.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return YT.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return YT.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return YT.resolve()}},{key:"updateIndexEntries",value:function(e,t){return YT.resolve()}}]),e}(),UN=function(){function e(){ku(this,e),this.index={}}return _u(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new _I(nE.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new _I(nE.comparator)).toArray()}}]),e}(),zN=new Uint8Array(0),qN=function(){function e(t){ku(this,e),this.user=t,this.Ge=new UN,this.Ke=new gI((function(e){return ZE(e)}),(function(e,t){return eC(e,t)})),this.uid=t.uid||""}return _u(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ge.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ge.add(t)}));var a={collectionId:r,parent:_T(i)};return BN(e).put(a)}return YT.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[$S(t),""],!1,!0);return BN(e).qt(r).next((function(e){var r,i=pc(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(ET(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=KN(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=KN(e),r=HN(e),i=WN(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=WN(e),i=!0,a=new Map;return YT.forEach(this.Qe(t),(function(t){return n.getFieldIndex(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=AI();return YT.forEach(a,(function(i,a){var o;CS("IndexedDbIndexManager","Using index ".concat((o=i,"id=".concat(o.indexId,"|cg=").concat(o.collectionGroup,"|f=").concat(o.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(ZE(t)));var u=function(e,t){var n=BE(t);if(void 0===n)return null;var r,i=pc(nC(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),s=function(e,t){var n,r=new Map,i=pc(WE(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=pc(nC(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r,i=[],a=!0,o=pc(WE(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=pc(nC(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var h=u.value,d=void 0,p=!0;switch(h.op){case"<":case"<=":d="nullValue"in(r=h.value)?wE:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?NE(vE.empty(),bE.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:RS();break;case"==":case"in":case">=":d=h.value;break;case">":d=h.value,p=!1;break;case"!=":case"not-in":d=wE}FE(c,d)===d&&(c=d,l=p)}}catch(y){f.e(y)}finally{f.f()}if(null!==e.startAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(s.fieldPath)){var m=e.startAt.position[v];FE(c,m)===m&&(c=m,l=e.startAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(y){o.e(y)}finally{o.f()}return new hC(i,a)}(a,i),l=function(e,t){var n,r,i=[],a=!0,o=pc(WE(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=pc(nC(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var h=u.value,d=void 0,p=!0;switch(h.op){case">=":case">":d="nullValue"in(r=h.value)?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?NE(vE.empty(),bE.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?kE:RS(),p=!1;break;case"==":case"in":case"<=":d=h.value;break;case"<":d=h.value,p=!1;break;case"!=":case"not-in":d=kE}jE(c,d)===d&&(c=d,l=p)}}catch(y){f.e(y)}finally{f.f()}if(null!==e.endAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(s.fieldPath)){var m=e.endAt.position[v];jE(c,m)===m&&(c=m,l=e.endAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(y){o.e(y)}finally{o.f()}return new hC(i,a)}(a,i),f=n.je(i,a,c),h=n.je(i,a,l),d=n.We(i,a,s),p=n.ze(i.indexId,u,f,!!c&&c.inclusive,h,!!l&&l.inclusive,d);return YT.forEach(p,(function(n){return r.Kt(n,t.limit).next((function(t){t.forEach((function(t){e=e.add(new bE(ET(t.documentKey)))}))}))}))})).next((function(){return e}))}return YT.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}},{key:"ze",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(null!=n?n.length:1,null!=i?i.length:1),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.He(t[s/c]):zN,h=n?u.Je(e,f,n[s%c],r):u.Ye(e),d=i?u.Xe(e,f,i[s%c],a):u.Ye(e+1);l.push.apply(l,g(u.createRange(h,d,o.map((function(t){return u.Je(e,f,t,!0)})))))},h=0;h<s;++h)f(h);return l}},{key:"Je",value:function(e,t,n,r){var i=new MN(e,bE.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new MN(e,bE.empty(),t,n);return r?i.ke():i}},{key:"Ye",value:function(e){return new MN(e,bE.empty(),zN,zN)}},{key:"getFieldIndex",value:function(e,t){var n=new jN(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t=e.filter((function(e){return n.$e(e)}));return t.sort((function(e,t){return t.fields.length-e.fields.length})),t.length>0?t[0]:null}))}},{key:"Ze",value:function(e,t){var n,r=new DN,i=pc(WE(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);TN.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"He",value:function(e){var t=new DN;return TN.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"We",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new DN);var i,a=0,o=pc(WE(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=pc(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.tn(t,s.fieldPath)&&PE(c))r=this.en(r,s,c);else{var h=f.Ne(s.kind);TN.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.nn(r)}},{key:"je",value:function(e,t,n){return null==n?null:this.We(e,t,n.position)}},{key:"nn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"en",value:function(e,t,n){var r,i=g(e),a=[],o=pc(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=pc(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new DN;f.seed(l.Se()),TN.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"tn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof rC&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=KN(e),i=HN(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return YT.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new HE(t.sequenceNumber,new $E(mN(t.readTime),new bE(ET(t.documentKey)),t.largestBatchId)):HE.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new KE(iE.fromServerFormat(n),r)}));return new qE(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:GS(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=KN(e),a=HN(e);return this.sn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return YT.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:vN(r.readTime),documentKey:_T(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return YT.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?YT.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),YT.forEach(a,(function(r){return n.rn(e,t,r).next((function(t){var a=n.on(i,r);return t.isEqual(a)?YT.resolve():n.un(e,i,t,a)}))}))}))}))}},{key:"an",value:function(e,t,n){return WN(e).put({indexId:n.indexId,uid:this.uid,arrayValue:n.arrayValue,directionalValue:n.directionalValue,documentKey:_T(t.key.path)})}},{key:"cn",value:function(e,t,n){return WN(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,_T(t.key.path)])}},{key:"rn",value:function(e,t,n){var r=WN(e),i=new _I(LN);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,_T(t.path)])},(function(e,r){i=i.add(new MN(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"on",value:function(e,t){var n=new _I(LN),r=this.Ze(t,e);if(null==r)return n;var i=BE(t);if(null!=i){var a=e.data.field(i.fieldPath);if(PE(a)){var o,u=pc(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new MN(t.indexId,e.key,this.He(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new MN(t.indexId,e.key,zN,r));return n}},{key:"un",value:function(e,t,n,r){var i=this;CS("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=SI(a),s=SI(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=SI(o)):l?(i(u),u=SI(a)):(u=SI(a),s=SI(o))}}(n,r,LN,(function(n){a.push(i.an(e,t,n))}),(function(n){a.push(i.cn(e,t,n))})),YT.waitFor(a)}},{key:"sn",value:function(e){var t=1;return HN(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return LN(e,t)})).filter((function(e,t,n){return!t||0!==LN(e,n[t-1])}));var r=[];r.push(e);var i,a=pc(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=LN(o,e),s=LN(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,""],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,""]));return c}}]),e}();function BN(e){return uN(e,"collectionParents")}function WN(e){return uN(e,"indexEntries")}function KN(e){return uN(e,"indexConfiguration")}function HN(e){return uN(e,"indexState")}var GN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QN=function(){function e(t,n,r){ku(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return _u(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function $N(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){PS(1===u)})));var c,l=[],f=pc(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=TT(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return YT.waitFor(a).next((function(){return l}))}function YN(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw RS();t=e.noDocument}return JSON.stringify(t).length}QN.DEFAULT_COLLECTION_PERCENTILE=10,QN.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,QN.DEFAULT=new QN(41943040,QN.DEFAULT_COLLECTION_PERCENTILE,QN.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),QN.DISABLED=new QN(-1,0,0);var XN=function(){function e(t,n,r,i){ku(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.hn={}}return _u(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ZN(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=eR(e),o=ZN(e);return o.add({}).next((function(u){PS("number"==typeof u);var s,c=new sN(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return sT(e.Jt,t)})),i=n.mutations.map((function(t){return sT(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new _I((function(e,t){return GS(e.canonicalString(),t.canonicalString())})),d=pc(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=TT(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,NT))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.hn[u]=c.keys()})),YT.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return ZN(e).get(t).next((function(e){return e?(PS(e.userId===n.userId),yN(n.M,e)):null}))}},{key:"ln",value:function(e,t){var n=this;return this.hn[t]?YT.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.hn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return ZN(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(PS(t.batchId>=r),a=yN(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ZN(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ZN(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return yN(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=IT(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return eR(e).Wt({range:i},(function(r,i,o){var u=c(r,3),s=u[0],l=u[1],f=u[2],h=ET(l);if(s===n.userId&&t.path.isEqual(h))return ZN(e).get(f).next((function(e){if(!e)throw RS();PS(e.userId===n.userId),a.push(yN(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new _I(GS),i=[];return t.forEach((function(t){var a=IT(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=eR(e).Wt({range:o},(function(e,i,a){var o=c(e,3),u=o[0],s=o[1],l=o[2],f=ET(s);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),YT.waitFor(i).next((function(){return n.fn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=IT(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new _I(GS);return eR(e).Wt({range:o},(function(e,t,a){var o=c(e,3),s=o[0],l=o[1],f=o[2],h=ET(l);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.fn(e,u)}))}},{key:"fn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(ZN(e).get(t).next((function(e){if(null===e)throw RS();PS(e.userId===n.userId),r.push(yN(n.M,e))})))})),YT.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return $N(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.dn(t.batchId)})),YT.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"dn",value:function(e){delete this.hn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return YT.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return eR(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=ET(e[1]);i.push(a)}else r.done()})).next((function(){PS(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return JN(e,this.userId,t)}},{key:"_n",value:function(e){var t=this;return tR(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return PS(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function JN(e,t,n){var r=IT(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return eR(e).Wt({range:a,jt:!0},(function(e,n,r){var a=c(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function ZN(e){return uN(e,"mutations")}function eR(e){return uN(e,"documentMutations")}function tR(e){return uN(e,"mutationQueues")}var nR=function(){function e(t){ku(this,e),this.wn=t}return _u(e,[{key:"next",value:function(){return this.wn+=2,this.wn}}],[{key:"mn",value:function(){return new e(0)}},{key:"gn",value:function(){return new e(-1)}}]),e}(),rR=function(){function e(t,n){ku(this,e),this.referenceDelegate=t,this.M=n}return _u(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.yn(e).next((function(n){var r=new nR(n.highestTargetId);return n.highestTargetId=r.next(),t.pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.yn(e).next((function(e){return XS.fromTimestamp(new YS(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.yn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.yn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.In(e,t).next((function(){return n.yn(e).next((function(r){return r.targetCount+=1,n.Tn(t,r),n.pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.In(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return iR(e).delete(t.targetId)})).next((function(){return n.yn(e)})).next((function(t){return PS(t.targetCount>0),t.targetCount-=1,n.pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return iR(e).Wt((function(o,u){var s=gN(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return YT.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return iR(e).Wt((function(e,n){var r=gN(n);t(r)}))}},{key:"yn",value:function(e){return aR(e).get("targetGlobalKey").next((function(e){return PS(null!==e),e}))}},{key:"pn",value:function(e,t){return aR(e).put("targetGlobalKey",t)}},{key:"In",value:function(e,t){return iR(e).put(bN(this.M,t))}},{key:"Tn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.yn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=ZE(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return iR(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=gN(n);eC(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=oR(e);return t.forEach((function(t){var o=_T(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),YT.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=oR(e);return YT.forEach(t,(function(t){var a=_T(t.path);return YT.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=oR(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=oR(e),i=AI();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=ET(e[1]),a=new bE(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=_T(t.path),r=IDBKeyRange.bound([n],[$S(n)],!1,!0),i=0;return oR(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return iR(e).get(t).next((function(e){return e?gN(e):null}))}}]),e}();function iR(e){return uN(e,"targets")}function aR(e){return uN(e,"targetGlobal")}function oR(e){return uN(e,"targetDocuments")}function uR(e){return sR.apply(this,arguments)}function sR(){return sR=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===OS.FAILED_PRECONDITION&&t.message===QT){e.next=2;break}throw t;case 2:CS("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),sR.apply(this,arguments)}function cR(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],u=a[1],s=GS(r,o);return 0===s?GS(i,u):s}var lR=function(){function e(t){ku(this,e),this.En=t,this.buffer=new _I(cR),this.An=0}return _u(e,[{key:"Rn",value:function(){return++this.An}},{key:"bn",value:function(e){var t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();cR(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),fR=function(){function e(t,n){ku(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Pn=!1,this.Vn=null}return _u(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}},{key:"stop",value:function(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}},{key:"started",get:function(){return null!==this.Vn}},{key:"vn",value:function(e){var t=this,n=this.Pn?3e5:6e4;CS("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,o(f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.Vn=null,t.Pn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!tN(n.t0)){n.next=12;break}CS("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,uR(n.t0);case 14:return n.next=16,t.vn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),hR=function(){function e(t,n){ku(this,e),this.Sn=t,this.params=n}return _u(e,[{key:"calculateTargetCount",value:function(e,t){return this.Sn.Dn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return YT.resolve(WS.A);var r=new lR(t);return this.Sn.forEachTarget(e,(function(e){return r.bn(e.sequenceNumber)})).next((function(){return n.Sn.Cn(e,(function(e){return r.bn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Sn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Sn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(CS("LruGarbageCollector","Garbage collection skipped; disabled"),YT.resolve(GN)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(CS("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),GN):n.xn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Sn.getCacheSize(e)}},{key:"xn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(CS("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),ES()<=kl.DEBUG&&CS("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),YT.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),dR=function(){function e(t,n){ku(this,e),this.db=t,this.garbageCollector=function(e,t){return new hR(e,t)}(this,n)}return _u(e,[{key:"Dn",value:function(e){var t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Nn",value:function(e){var t=0;return this.Cn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Cn",value:function(e,t){return this.kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return pR(e,n)}},{key:"removeReference",value:function(e,t,n){return pR(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return pR(e,t)}},{key:"Mn",value:function(e,t){return function(e,t){var n=!1;return tR(e).zt((function(r){return JN(e,r,t).next((function(e){return e&&(n=!0),YT.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.kn(e,(function(o,u){if(u<=t){var s=n.Mn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,XS.min()),oR(e).delete([0,_T(o.path)])}))}));i.push(s)}})).next((function(){return YT.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return pR(e,t)}},{key:"kn",value:function(e,t){var n,r=oR(e),i=WS.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==WS.A&&t(new bE(ET(n)),i),i=s,n=u):i=WS.A})).next((function(){i!==WS.A&&t(new bE(ET(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function pR(e,t){return oR(e).put(function(e,t){return{targetId:0,path:_T(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var vR=function(){function e(){ku(this,e),this.changes=new gI((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return _u(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,zE.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?YT.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),mR=function(){function e(t){ku(this,e),this.M=t}return _u(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return bR(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return bR(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],pN(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.On(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=zE.newInvalidDocument(t);return bR(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(kR(t))},(function(e,i){r=n.Fn(t,i)})).next((function(){return r}))}},{key:"$n",value:function(e,t){var n=this,r={size:0,document:zE.newInvalidDocument(t)};return bR(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(kR(t))},(function(e,i){r={document:n.Fn(t,i),size:YN(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=CI();return this.Bn(e,t,(function(e,t){var i=n.Fn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ln",value:function(e,t){var n=this,r=CI(),i=new bI(bE.comparator);return this.Bn(e,t,(function(e,t){var a=n.Fn(e,t);r=r.insert(e,a),i=i.insert(e,YN(t))})).next((function(){return{documents:r,Un:i}}))}},{key:"Bn",value:function(e,t,n){if(t.isEmpty())return YT.resolve();var r=new _I(_R);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(kR(r.first()),kR(r.last())),a=r.getIterator(),o=a.getNext();return bR(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=bE.fromSegments([].concat(g(t.prefixPath),[t.collectionGroup,t.documentId]));o&&_R(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(kR(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),pN(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return bR(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=CI(),i=pc(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Fn(bE.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=CI(),o=wR(t,n),u=wR(t,$E.max());return bR(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Fn(bE.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new yR(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return gR(e).get("remoteDocumentGlobalKey").next((function(e){return PS(!!e),e}))}},{key:"On",value:function(e,t){return gR(e).put("remoteDocumentGlobalKey",t)}},{key:"Fn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=oT(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=bE.fromSegments(t.noDocument.path),i=mN(t.noDocument.readTime);n=zE.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return RS();var a=bE.fromSegments(t.unknownDocument.path),o=mN(t.unknownDocument.version);n=zE.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new YS(e[0],e[1]);return XS.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(XS.min()))return n}return zE.newInvalidDocument(e)}}]),e}(),yR=function(e){cc(n,e);var t=dc(n);function n(e,r){var i;return ku(this,n),(i=t.call(this)).qn=e,i.trackRemovals=r,i.Gn=new gI((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return _u(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new _I((function(e,t){return GS(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.qn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=dN(t.qn.M,o);i=i.add(a.path.popLast());var c=YN(s);r+=c-u.size,n.push(t.qn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=dN(t.qn.M,o.convertToNoDocument(XS.min()));n.push(t.qn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.qn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.qn.updateMetadata(e,r)),YT.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.qn.$n(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.qn.Ln(e,t).next((function(e){var t=e.documents;return e.Un.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(vR);function gR(e){return uN(e,"remoteDocumentGlobal")}function bR(e){return uN(e,"remoteDocumentsV14")}function kR(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function wR(e,t){var n=t.documentKey.path.toArray();return[e,pN(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function _R(e,t){var n=e.path.length-t.path.length;return 0!==n?n:bE.comparator(e,t)}var xR=function(){function e(t){ku(this,e),this.M=t}return _u(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new XT("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",CT,{unique:!0}),e.createObjectStore("documentMutations")}(e),SR(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=YT.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),SR(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:XS.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",CT,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return YT.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Kn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Qn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.jn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Wn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.zn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:zT});t.createIndex("collectionPathOverlayIndex",qT,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",BT,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:RT});t.createIndex("documentKeyIndex",PT),t.createIndex("collectionGroupIndex",AT)}(e)})).next((function(){return i.Hn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:FT}).createIndex("sequenceNumberIndex",jT,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:VT}).createIndex("documentKeyIndex",UT,{unique:!1})}(e)}))),o}},{key:"Qn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=YN(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Kn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return YT.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return YT.forEach(r,(function(r){PS(r.userId===n.userId);var i=yN(t.M,r);return $N(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"jn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new nE(n),o=function(e){return[0,_T(e)]}(a);r.push(t.get(o).next((function(n){return n?YT.resolve():function(n){return t.put({targetId:0,path:_T(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return YT.waitFor(r)}))}))}},{key:"Wn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:LT});var n=t.store("collectionParents"),r=new UN,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:_T(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new nE(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],ET(r));return i(a.popLast())}))}))}},{key:"zn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=gN(r),a=bN(t.M,i);return n.put(a)}))}},{key:"Hn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new bE(nE.fromString(i.document.name).popFirst(5)):i.noDocument?bE.fromSegments(i.noDocument.path):i.unknownDocument?bE.fromSegments(i.unknownDocument.path):RS()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return YT.waitFor(r)}))}}]),e}();function SR(e){e.createObjectStore("targetDocuments",{keyPath:DT}).createIndex("documentTargetsIndex",MT,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",OT,{unique:!0}),e.createObjectStore("targetGlobal")}var ER="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",CR=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(ku(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Jn=a,this.window=o,this.document=u,this.Yn=c,this.Xn=l,this.Zn=f,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=function(e){return Promise.resolve()},!e.vt())throw new DS(OS.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new dR(this,i),this.cs=n+"main",this.M=new hN(s),this.hs=new JT(this.cs,this.Zn,new xR(this.M)),this.ls=new rR(this.referenceDelegate,this.M),this.fs=function(e){return new mR(e)}(this.M),this.ds=new xN,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===l&&IS("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return _u(e,[{key:"start",value:function(){var e=this;return this.ws().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new DS(OS.FAILED_PRECONDITION,ER);return e.gs(),e.ys(),e.ps(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.ls.getHighestSequenceNumber(t)}))})).then((function(t){e.ts=new WS(t,e.Yn)})).then((function(){e.es=!0})).catch((function(t){return e.hs&&e.hs.close(),Promise.reject(t)}))}},{key:"Is",value:function(e){var t=this;return this.us=function(){var n=o(f().mark((function n(r){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.hs.Ot(function(){var t=o(f().mark((function t(n){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget(o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ws();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ws",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return TR(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ts(t).next((function(t){t||(e.isPrimary=!1,e.Jn.enqueueRetryable((function(){return e.us(!1)})))}))})).next((function(){return e.Es(t)})).next((function(n){return e.isPrimary&&!n?e.As(t).next((function(){return!1})):!!n&&e.Rs(t).next((function(){return!0}))}))})).catch((function(t){if(tN(t))return CS("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return CS("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Jn.enqueueRetryable((function(){return e.us(t)})),e.isPrimary=t}))}},{key:"Ts",value:function(e){var t=this;return IR(e).get("owner").next((function(e){return YT.resolve(t.bs(e))}))}},{key:"Ps",value:function(e){return TR(e).delete(this.clientId)}},{key:"Vs",value:function(){var e=o(f().mark((function e(){var t,n,r,i,a=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.vs(this.os,18e5)){e.next=6;break}return this.os=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=uN(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ss(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return YT.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._s){n=pc(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._s.removeItem(this.Ds(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ps",value:function(){var e=this;this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ws().then((function(){return e.Vs()})).then((function(){return e.ps()}))}))}},{key:"bs",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Es",value:function(e){var t=this;return this.Xn?YT.resolve(!0):IR(e).get("owner").next((function(n){if(null!==n&&t.vs(n.leaseTimestampMs,5e3)&&!t.Cs(n.ownerId)){if(t.bs(n)&&t.networkEnabled)return!0;if(!t.bs(n)){if(!n.allowTabSynchronization)throw new DS(OS.FAILED_PRECONDITION,ER);return!1}}return!(!t.networkEnabled||!t.inForeground)||TR(e).qt().next((function(e){return void 0===t.Ss(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&CS("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=o(f().mark((function e(){var t=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.es=!1,this.xs(),this.rs&&(this.rs.cancel(),this.rs=null),this.Ns(),this.ks(),e.next=7,this.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new oN(e,WS.A);return t.As(n).next((function(){return t.Ps(n)}))}));case 7:this.hs.close(),this.Ms();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ss",value:function(e,t){var n=this;return e.filter((function(e){return n.vs(e.updateTimeMs,t)&&!n.Cs(e.clientId)}))}},{key:"Os",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return TR(t).qt().next((function(t){return e.Ss(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.es}},{key:"getMutationQueue",value:function(e,t){return XN.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.ls}},{key:"getRemoteDocumentCache",value:function(){return this.fs}},{key:"getIndexManager",value:function(e){return new qN(e)}},{key:"getDocumentOverlayCache",value:function(e){return CN.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this.ds}},{key:"runTransaction",value:function(e,t,n){var r=this;CS("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.Zn)?GT:13===i?HT:12===i?KT:11===i?WT:void RS();return this.hs.runTransaction(e,o,u,(function(i){return a=new oN(i,r.ts?r.ts.next():WS.A),"readwrite-primary"===t?r.Ts(a).next((function(e){return!!e||r.Es(a)})).next((function(t){if(!t)throw IS("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Jn.enqueueRetryable((function(){return r.us(!1)})),new DS(OS.FAILED_PRECONDITION,QT);return n(a)})).next((function(e){return r.Rs(a).next((function(){return e}))})):r.Fs(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Fs",value:function(e){var t=this;return IR(e).get("owner").next((function(e){if(null!==e&&t.vs(e.leaseTimestampMs,5e3)&&!t.Cs(e.ownerId)&&!t.bs(e)&&!(t.Xn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new DS(OS.FAILED_PRECONDITION,ER)}))}},{key:"Rs",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return IR(e).put("owner",t)}},{key:"As",value:function(e){var t=this,n=IR(e);return n.get("owner").next((function(e){return t.bs(e)?(CS("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):YT.resolve()}))}},{key:"vs",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(IS("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gs",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=function(){e.Jn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ws()}))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ns",value:function(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}},{key:"ys",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=function(){t.xs(),Lc()&&navigator.appVersion.match(/Version\/1[45]/)&&t.Jn.enterRestrictedMode(!0),t.Jn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ns))}},{key:"ks",value:function(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}},{key:"Cs",value:function(e){var t;try{var n=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return CS("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return IS("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xs",value:function(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(_k){IS("Failed to set zombie client id.",_k)}}},{key:"Ms",value:function(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(_k){}}},{key:"Ds",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return JT.vt()}}]),e}();function IR(e){return uN(e,"owner")}function TR(e){return uN(e,"clientMetadata")}function NR(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var RR=function(){function e(t,n,r){ku(this,e),this.fs=t,this.$s=n,this.indexManager=r}return _u(e,[{key:"Bs",value:function(e,t){var n=this;return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Ls(e,t,r)}))}},{key:"Ls",value:function(e,t,n){return this.fs.getEntry(e,t).next((function(e){var t,r=pc(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Us",value:function(e,t){e.forEach((function(e,n){var r,i=pc(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"qs",value:function(e,t){var n=this;return this.fs.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Us(t,e)}))}},{key:"Ks",value:function(e,t,n){return function(e){return bE.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Qs(e,t.path):SC(t)?this.js(e,t,n):this.Ws(e,t,n)}},{key:"Qs",value:function(e,t){return this.Bs(e,new bE(t)).next((function(e){var t=TI();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"js",value:function(e,t,n){var r=this,i=t.collectionGroup,a=TI();return this.indexManager.getCollectionParents(e,i).next((function(o){return YT.forEach(o,(function(o){var u=function(e,t){return new yC(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Ws(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Ws",value:function(e,t,n){var r,i=this;return this.fs.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.$s.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=pc(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=pc(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=zE.newInvalidDocument(s),r=r.insert(s,c)),nI(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){PC(t,n)||(r=r.remove(e))})),r}))}}]),e}(),PR=function(){function e(t,n,r,i){ku(this,e),this.targetId=t,this.fromCache=n,this.zs=r,this.Hs=i}return _u(e,null,[{key:"Js",value:function(t,n){var r,i=AI(),a=AI(),o=pc(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),AR=function(){function e(){ku(this,e)}return _u(e,[{key:"Ys",value:function(e){this.Xs=e}},{key:"Ks",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(XS.min())?this.Zs(e,t):this.Xs.qs(e,r).next((function(a){var o=i.ti(t,a);return(kC(t)||wC(t))&&i.ei(t.limitType,o,r,n)?i.Zs(e,t):(ES()<=kl.DEBUG&&CS("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),RC(t)),i.Xs.Ks(e,t,GE(n,-1)).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ti",value:function(e,t){var n=new _I(OC(e));return t.forEach((function(t,r){PC(e,r)&&(n=n.add(r))})),n}},{key:"ei",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Zs",value:function(e,t){return ES()<=kl.DEBUG&&CS("QueryEngine","Using full collection scan to execute query:",RC(t)),this.Xs.Ks(e,t,$E.min())}}]),e}(),OR=function(){function e(t,n,r,i){ku(this,e),this.persistence=t,this.ni=n,this.M=i,this.si=new bI(GS),this.ii=new gI((function(e){return ZE(e)}),eC),this.ri=new Map,this.oi=t.getRemoteDocumentCache(),this.ls=t.getTargetCache(),this.ds=t.getBundleCache(),this.ui(r)}return _u(e,[{key:"ui",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new RR(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.si)}))}}]),e}();function DR(e,t,n,r){return new OR(e,t,n,r)}function MR(e,t){return LR.apply(this,arguments)}function LR(){return LR=o(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=AS(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.$s.getAllMutationBatches(e).next((function(i){return t=i,r.ui(n),r.$s.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=AI(),s=pc(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=pc(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var d,p=pc(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=pc(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){p.e(b)}finally{p.f()}return r.ai.qs(e,u).next((function(e){return{ci:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),LR.apply(this,arguments)}function FR(e,t){var n=AS(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.oi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=YT.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);PS(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.$s.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.$s.performConsistencyCheck(e)})).next((function(){return n.ai.qs(e,r)}))}))}function jR(e){var t=AS(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.ls.getLastRemoteSnapshotVersion(e)}))}function VR(e,t){var n=AS(e),r=t.snapshotVersion,i=n.si;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.oi.newChangeBuffer({trackRemovals:!0});i=n.si;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.ls.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.ls.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(oE.EMPTY_BYTE_STRING,XS.min()).withLastLimboFreeSnapshotVersion(XS.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.ls.updateTargetData(e,c))}}));var u=CI();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(UR(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(XS.min())){var s=n.ls.getLastRemoteSnapshotVersion(e).next((function(t){return n.ls.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return YT.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ai.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.si=i,e}))}function UR(e,t,n){var r=AI();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=CI();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(XS.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):CS("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function zR(e,t){var n=AS(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.$s.getNextMutationBatchAfterBatchId(e,t)}))}function qR(e,t){var n=AS(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.ls.getTargetData(e,t).next((function(i){return i?(r=i,YT.resolve(r)):n.ls.allocateTargetId(e).next((function(i){return r=new fN(t,i,0,e.currentSequenceNumber),n.ls.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.si.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.si=n.si.insert(e.targetId,e),n.ii.set(t,e.targetId)),e}))}function BR(e,t,n){return WR.apply(this,arguments)}function WR(){return WR=o(f().mark((function e(t,n,r){var i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=AS(t),a=i.si.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),tN(e.t1)){e.next=12;break}throw e.t1;case 12:CS("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.si=i.si.remove(n),i.ii.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),WR.apply(this,arguments)}function KR(e,t,n){var r=AS(e),i=XS.min(),a=AI();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=AS(e),i=r.ii.get(n);return void 0!==i?YT.resolve(r.si.get(i)):r.ls.getTargetData(t,n)}(r,e,CC(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ni.Ks(e,t,n?i:XS.min(),n?a:AI())})).next((function(e){return QR(r,AC(t),e),{documents:e,hi:a}}))}))}function HR(e,t){var n=AS(e),r=AS(n.ls),i=n.si.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function GR(e,t){var n=AS(e),r=n.ri.get(t)||XS.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.oi.getAllFromCollectionGroup(e,t,GE(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return QR(n,t,e),e}))}function QR(e,t,n){var r=XS.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ri.set(t,r)}function $R(e,t,n,r){return YR.apply(this,arguments)}function YR(){return YR=o(f().mark((function e(t,n,r,i){var a,o,u,s,c,l,h,d,p,v;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=AS(t),o=AI(),u=CI(),s=pc(r);try{for(s.s();!(c=s.n()).done;)l=c.value,h=n.li(l.metadata.name),l.document&&(o=o.add(h)),(d=n.fi(l)).setReadTime(n.di(l.metadata.readTime)),u=u.insert(h,d)}catch(f){s.e(f)}finally{s.f()}return p=a.oi.newChangeBuffer({trackRemovals:!0}),e.next=7,qR(a,function(e){return CC(bC(nE.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return v=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return UR(e,p,u).next((function(t){return p.apply(e),t})).next((function(t){return a.ls.removeMatchingKeysForTargetId(e,v.targetId).next((function(){return a.ls.addMatchingKeys(e,o,v.targetId)})).next((function(){return a.ai.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),YR.apply(this,arguments)}function XR(e,t){return JR.apply(this,arguments)}function JR(){return JR=o(f().mark((function e(t,n){var r,i,a,o=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:AI(),e.next=3,qR(t,CC(kN(n.bundledQuery)));case 3:return i=e.sent,a=AS(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=YI(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.ds.saveNamedQuery(e,n);var o=i.withResumeToken(oE.EMPTY_BYTE_STRING,t);return a.si=a.si.insert(o.targetId,o),a.ls.updateTargetData(e,o).next((function(){return a.ls.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.ls.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),JR.apply(this,arguments)}var ZR=function(){function e(t){ku(this,e),this.M=t,this._i=new Map,this.wi=new Map}return _u(e,[{key:"getBundleMetadata",value:function(e,t){return YT.resolve(this._i.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this._i.set(t.id,{id:(n=t).id,version:n.version,createTime:YI(n.createTime)}),YT.resolve()}},{key:"getNamedQuery",value:function(e,t){return YT.resolve(this.wi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.wi.set(t.name,function(e){return{name:e.name,query:kN(e.bundledQuery),readTime:YI(e.readTime)}}(t)),YT.resolve()}}]),e}(),eP=function(){function e(){ku(this,e),this.overlays=new bI(bE.comparator),this.mi=new Map}return _u(e,[{key:"getOverlay",value:function(e,t){return YT.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),YT.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.mi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.mi.delete(n)),YT.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=NI(),i=t.length+1,a=new bE(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return YT.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new bI((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=NI(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=NI(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return YT.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.mi.get(r.largestBatchId).delete(n.key);this.mi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new lN(t,n));var a=this.mi.get(t);void 0===a&&(a=AI(),this.mi.set(t,a)),this.mi.set(t,a.add(n.key))}}}]),e}(),tP=function(){function e(){ku(this,e),this.gi=new _I(nP.yi),this.pi=new _I(nP.Ii)}return _u(e,[{key:"isEmpty",value:function(){return this.gi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new nP(e,t);this.gi=this.gi.add(n),this.pi=this.pi.add(n)}},{key:"Ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ei(new nP(e,t))}},{key:"Ai",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Ri",value:function(e){var t=this,n=new bE(new nE([])),r=new nP(n,e),i=new nP(n,e+1),a=[];return this.pi.forEachInRange([r,i],(function(e){t.Ei(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.gi.forEach((function(t){return e.Ei(t)}))}},{key:"Ei",value:function(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}},{key:"Pi",value:function(e){var t=new bE(new nE([])),n=new nP(t,e),r=new nP(t,e+1),i=AI();return this.pi.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new nP(e,0),n=this.gi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),nP=function(){function e(t,n){ku(this,e),this.key=t,this.Vi=n}return _u(e,null,[{key:"yi",value:function(e,t){return bE.comparator(e.key,t.key)||GS(e.Vi,t.Vi)}},{key:"Ii",value:function(e,t){return GS(e.Vi,t.Vi)||bE.comparator(e.key,t.key)}}]),e}(),rP=function(){function e(t,n){ku(this,e),this.indexManager=t,this.referenceDelegate=n,this.$s=[],this.vi=1,this.Si=new _I(nP.yi)}return _u(e,[{key:"checkEmpty",value:function(e){return YT.resolve(0===this.$s.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vi;this.vi++,this.$s.length>0&&this.$s[this.$s.length-1];var a=new sN(i,t,n,r);this.$s.push(a);var o,u=pc(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Si=this.Si.add(new nP(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return YT.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return YT.resolve(this.Di(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ci(n),i=r<0?0:r;return YT.resolve(this.$s.length>i?this.$s[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return YT.resolve(0===this.$s.length?-1:this.vi-1)}},{key:"getAllMutationBatches",value:function(e){return YT.resolve(this.$s.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new nP(t,0),i=new nP(t,Number.POSITIVE_INFINITY),a=[];return this.Si.forEachInRange([r,i],(function(e){var t=n.Di(e.Vi);a.push(t)})),YT.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new _I(GS);return t.forEach((function(e){var t=new nP(e,0),i=new nP(e,Number.POSITIVE_INFINITY);n.Si.forEachInRange([t,i],(function(e){r=r.add(e.Vi)}))})),YT.resolve(this.xi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;bE.isDocumentKey(i)||(i=i.child(""));var a=new nP(new bE(i),0),o=new _I(GS);return this.Si.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Vi)),!0)}),a),YT.resolve(this.xi(o))}},{key:"xi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Di(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;PS(0===this.Ni(t.batchId,"removed")),this.$s.shift();var r=this.Si;return YT.forEach(t.mutations,(function(i){var a=new nP(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Si=r}))}},{key:"dn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new nP(t,0),r=this.Si.firstAfterOrEqual(n);return YT.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.$s.length,YT.resolve()}},{key:"Ni",value:function(e,t){return this.Ci(e)}},{key:"Ci",value:function(e){return 0===this.$s.length?0:e-this.$s[0].batchId}},{key:"Di",value:function(e){var t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}]),e}(),iP=function(){function e(t){ku(this,e),this.ki=t,this.docs=new bI(bE.comparator),this.size=0}return _u(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ki(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return YT.resolve(n?n.document.mutableCopy():zE.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=CI();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():zE.newInvalidDocument(e))})),YT.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=CI(),i=new bE(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||YE(QE(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return YT.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){RS()}},{key:"Mi",value:function(e,t){return YT.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new aP(this)}},{key:"getSize",value:function(e){return YT.resolve(this.size)}}]),e}(),aP=function(e){cc(n,e);var t=dc(n);function n(e){var r;return ku(this,n),(r=t.call(this)).qn=e,r}return _u(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.qn.addEntry(e,i)):t.qn.removeEntry(r)})),YT.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.qn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.qn.getEntries(e,t)}}]),n}(vR),oP=function(){function e(t){ku(this,e),this.persistence=t,this.Oi=new gI((function(e){return ZE(e)}),eC),this.lastRemoteSnapshotVersion=XS.min(),this.highestTargetId=0,this.Fi=0,this.$i=new tP,this.targetCount=0,this.Bi=nR.mn()}return _u(e,[{key:"forEachTarget",value:function(e,t){return this.Oi.forEach((function(e,n){return t(n)})),YT.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return YT.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return YT.resolve(this.Fi)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Bi.next(),YT.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Fi&&(this.Fi=t),YT.resolve()}},{key:"In",value:function(e){this.Oi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Bi=new nR(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.In(t),this.targetCount+=1,YT.resolve()}},{key:"updateTargetData",value:function(e,t){return this.In(t),YT.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,YT.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Oi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Oi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),YT.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return YT.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Oi.get(t)||null;return YT.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.$i.Ti(t,n),YT.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.$i.Ai(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),YT.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.$i.Ri(t),YT.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.$i.Pi(t);return YT.resolve(n)}},{key:"containsKey",value:function(e,t){return YT.resolve(this.$i.containsKey(t))}}]),e}(),uP=function(){function e(t,n){var r=this;ku(this,e),this.Li={},this.overlays={},this.ts=new WS(0),this.es=!1,this.es=!0,this.referenceDelegate=t(this),this.ls=new oP(this),this.indexManager=new VN,this.fs=new iP((function(e){return r.referenceDelegate.Ui(e)})),this.M=new hN(n),this.ds=new ZR(this.M)}return _u(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.es=!1,Promise.resolve()}},{key:"started",get:function(){return this.es}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new eP,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Li[e.toKey()];return n||(n=new rP(t,this.referenceDelegate),this.Li[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.ls}},{key:"getRemoteDocumentCache",value:function(){return this.fs}},{key:"getBundleCache",value:function(){return this.ds}},{key:"runTransaction",value:function(e,t,n){var r=this;CS("MemoryPersistence","Starting transaction:",e);var i=new sP(this.ts.next());return this.referenceDelegate.qi(),n(i).next((function(e){return r.referenceDelegate.Gi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ki",value:function(e,t){return YT.or(Object.values(this.Li).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),sP=function(e){cc(n,e);var t=dc(n);function n(e){var r;return ku(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return _u(n)}($T),cP=function(){function e(t){ku(this,e),this.persistence=t,this.Qi=new tP,this.ji=null}return _u(e,[{key:"zi",get:function(){if(this.ji)return this.ji;throw RS()}},{key:"addReference",value:function(e,t,n){return this.Qi.addReference(n,t),this.zi.delete(n.toString()),YT.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qi.removeReference(n,t),this.zi.add(n.toString()),YT.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.zi.add(t.toString()),YT.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qi.Ri(t.targetId).forEach((function(e){return n.zi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.zi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"qi",value:function(){this.ji=new Set}},{key:"Gi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return YT.forEach(this.zi,(function(r){var i=bE.fromPath(r);return t.Hi(e,i).next((function(e){e||n.removeEntry(i,XS.min())}))})).next((function(){return t.ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hi(e,t).next((function(e){e?n.zi.delete(t.toString()):n.zi.add(t.toString())}))}},{key:"Ui",value:function(e){return 0}},{key:"Hi",value:function(e,t){var n=this;return YT.or([function(){return YT.resolve(n.Qi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ki(e,t)}])}}],[{key:"Wi",value:function(t){return new e(t)}}]),e}();function lP(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function fP(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function hP(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var dP=function(){function e(t,n,r,i){ku(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return _u(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new DS(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(IS("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),pP=function(){function e(t,n,r){ku(this,e),this.targetId=t,this.state=n,this.error=r}return _u(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new DS(i.error.code,i.error.message))),a?new e(t,i.state,r):(IS("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),vP=function(){function e(t,n){ku(this,e),this.clientId=t,this.activeTargetIds=n}return _u(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=DI(),o=0;i&&o<r.activeTargetIds.length;++o)i=gE(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(IS("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),mP=function(){function e(t,n){ku(this,e),this.clientId=t,this.onlineState=n}return _u(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(IS("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),yP=function(){function e(){ku(this,e),this.activeTargetIds=DI()}return _u(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),gP=function(){function e(t,n,r,i,a){ku(this,e),this.window=t,this.Jn=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new bI(GS),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=lP(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new yP),this.ar=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.cr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return _u(e,[{key:"start",value:function(){var e=o(f().mark((function e(){var t,n,r,i,a,o,u,s,c,l,h,d=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Os();case 2:t=e.sent,n=pc(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(lP(this.persistenceKey,i)))&&(o=vP.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=pc(this.ir);try{for(c.s();!(l=c.n()).done;)h=l.value,this.nr(h)}catch(f){c.e(f)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(hP(this.persistenceKey,e));if(n){var r=pP.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(hP(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return CS("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){CS("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){CS("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(CS("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void IS("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable(o(f().mark((function e(){var r,i,a,o,u,s,c;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.ar.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.cr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}s=function(e){var t=WS.A;if(null!=e)try{var n=JSON.parse(e);PS("number"==typeof n),t=n}catch(e){IS("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==WS.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new dP(this.currentUser,e,t,n),i=fP(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=fP(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=hP(this.persistenceKey,e),i=new pP(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.ar.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return vP.Ji(n,t)}},{key:"Vr",value:function(e,t){var n=this.cr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return dP.Ji(new _S(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return pP.Ji(r,t)}},{key:"wr",value:function(e){return mP.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"vr",value:function(){var e=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:CS("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Or(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=DI();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),bP=function(){function e(){ku(this,e),this.Fr=new yP,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return _u(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new yP,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),kP=function(){function e(){ku(this,e)}return _u(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),wP=function(){function e(){var t=this;ku(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Gr()},this.Kr=[],this.Qr()}return _u(e,[{key:"Br",value:function(e){this.Kr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){CS("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=pc(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Gr",value:function(){CS("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=pc(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),_P={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},xP=function(){function e(t){ku(this,e),this.jr=t.jr,this.Wr=t.Wr}return _u(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),SP=function(e){cc(n,e);var t=dc(n);function n(e){var r;return ku(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return _u(n,[{key:"ao",value:function(e,t,n,r){return new Promise((function(i,a){var o=new kS;o.listenOnce(vS.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case pS.NO_ERROR:var t=o.getResponseJson();CS("Connection","XHR received:",JSON.stringify(t)),i(t);break;case pS.TIMEOUT:CS("Connection",'RPC "'+e+'" timed out'),a(new DS(OS.DEADLINE_EXCEEDED,"Request time out"));break;case pS.HTTP_ERROR:var n=o.getStatus();if(CS("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(OS).indexOf(t)>=0?t:OS.UNKNOWN}(r.status);a(new DS(u,r.message))}else a(new DS(OS.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new DS(OS.UNAVAILABLE,"Connection failed."));break;default:RS()}}finally{CS("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=hS(),a=dS(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new gS({})),this.uo(o.initMessageHeaders,t,n),Pc()||Oc()||Rc().indexOf("Electron/")>=0||Dc()||Rc().indexOf("MSAppHost/")>=0||Ac()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");CS("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new xP({jr:function(e){l?CS("Connection","Not sending because WebChannel is closed:",e):(c||(CS("Connection","Opening WebChannel transport."),s.open(),c=!0),CS("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,bS.EventType.OPEN,(function(){l||CS("Connection","WebChannel transport opened.")})),h(s,bS.EventType.CLOSE,(function(){l||(l=!0,CS("Connection","WebChannel transport closed"),f.eo())})),h(s,bS.EventType.ERROR,(function(e){l||(l=!0,TS("Connection","WebChannel transport errored:",e),f.eo(new DS(OS.UNAVAILABLE,"The operation could not be completed")))})),h(s,bS.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];PS(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){CS("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=fI[e];if(void 0!==t)return yI(t)}(a),u=i.message;void 0===o&&(o=OS.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new DS(o,u)),s.close()}else CS("Connection","WebChannel received:",n),f.no(n)}})),h(a,mS.STAT_EVENT,(function(e){e.stat===yS.PROXY?CS("Connection","Detected buffering proxy"):e.stat===yS.NOPROXY&&CS("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){ku(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return _u(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);CS("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.ao(e,a,o,n).then((function(e){return CS("RestConnection","Received: ",e),e}),(function(t){throw TS("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"co",value:function(e,t,n,r,i){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+xS,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=_P[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function EP(){return"undefined"!=typeof window?window:null}function CP(){return"undefined"!=typeof document?document:null}function IP(e){return new HI(e,!0)}var TP=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;ku(this,e),this.Jn=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return _u(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&CS("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.Jn.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),NP=function(){function e(t,n,r,i,a,o,u,s){ku(this,e),this.Jn=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new TP(t,n)}return _u(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Mo()})))}},{key:"Oo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"$o",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"close",value:function(){var e=o(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===OS.RESOURCE_EXHAUSTED?(IS(n.toString()),IS("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===OS.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new DS(OS.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.vo=n.Jn.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(o(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return CS("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.Jn.enqueueAndForget((function(){return t.Po===e?n():(CS("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),RP=function(e){cc(n,e);var t=dc(n);function n(e,r,i,a,o,u){var s;return ku(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return _u(n,[{key:"Go",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:RS()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(PS(void 0===t||"string"==typeof t),oE.fromBase64String(t||"")):(PS(void 0===t||t instanceof Uint8Array),oE.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?OS.UNKNOWN:yI(e.code);return new DS(t,e.message||"")}(o);n=new VI(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=eT(e,s.document.name),l=YI(s.document.updateTime),f=new VE({mapValue:{fields:s.document.fields}}),h=zE.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new FI(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=eT(e,v.document),y=v.readTime?YI(v.readTime):XS.min(),g=zE.newNoDocument(m,y),b=v.removedTargetIds||[];n=new FI([],b,g.key,g)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var w=eT(e,k.document),_=k.removedTargetIds||[];n=new FI([],_,w,null)}else{if(!("filter"in t))return RS();t.filter;var x=t.filter;x.targetId;var S=x.count||0,E=new vI(S),C=x.targetId;n=new jI(C,E)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return XS.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?XS.min():t.readTime?YI(t.readTime):XS.min()}(e);return this.listener.Ko(t,n)}},{key:"Qo",value:function(e){var t={};t.database=rT(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=tC(r)?{documents:lT(e,r)}:{query:fT(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=QI(e,t.resumeToken):t.snapshotVersion.compareTo(XS.min())>0&&(n.readTime=GI(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return RS()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Oo(t)}},{key:"jo",value:function(e){var t={};t.database=rT(this.M),t.removeTarget=e,this.Oo(t)}}]),n}(NP),PP=function(e){cc(n,e);var t=dc(n);function n(e,r,i,a,o,u){var s;return ku(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.Wo=!1,s}return _u(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,sc(oc(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Go",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(PS(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(PS(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?YI(e.updateTime):YI(t);return n.isEqual(XS.min())&&(n=YI(t)),new XC(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=YI(e.commitTime);return this.listener.Jo(n,t)}return PS(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=rT(this.M),this.Oo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return sT(t.M,e)}))};this.Oo(n)}}]),n}(NP),AP=function(e){cc(n,e);var t=dc(n);function n(e,r,i,a){var o;return ku(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.M=a,o.Zo=!1,o}return _u(n,[{key:"tu",value:function(){if(this.Zo)throw new DS(OS.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.bo.ro(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===OS.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new DS(OS.UNKNOWN,e.toString())}))}},{key:"co",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.bo.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===OS.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new DS(OS.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return _u((function e(){ku(this,e)}))}()),OP=function(){function e(t,n){ku(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return _u(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(IS(t),this.su=!1):CS("OnlineStateTracker",t)}},{key:"au",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),DP=_u((function e(t,n,r,i,a){var u=this;ku(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=KP(u),!e.t0){e.next=5;break}return CS("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=o(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=AS(t)).lu.add(4),e.next=4,FP(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,MP(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(u);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new OP(r,i)}));function MP(e){return LP.apply(this,arguments)}function LP(){return LP=o(f().mark((function e(t){var n,r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!KP(t)){e.next=18;break}n=pc(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),LP.apply(this,arguments)}function FP(e){return jP.apply(this,arguments)}function jP(){return jP=o(f().mark((function e(t){var n,r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=pc(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),jP.apply(this,arguments)}function VP(e,t){var n=AS(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),WP(n)?BP(n):kA(n).Co()&&zP(n,t))}function UP(e,t){var n=AS(e),r=kA(n);n.hu.delete(t),r.Co()&&qP(n,t),0===n.hu.size&&(r.Co()?r.ko():KP(n)&&n._u.set("Unknown"))}function zP(e,t){e.wu.Z(t.targetId),kA(e).Qo(t)}function qP(e,t){e.wu.Z(t),kA(e).jo(t)}function BP(e){e.wu=new zI({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.hu.get(t)||null}}),kA(e).start(),e._u.iu()}function WP(e){return KP(e)&&!kA(e).Do()&&e.hu.size>0}function KP(e){return 0===AS(e).lu.size}function HP(e){e.wu=void 0}function GP(e){return QP.apply(this,arguments)}function QP(){return QP=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){zP(t,e)}));case 1:case"end":return e.stop()}}),e)}))),QP.apply(this,arguments)}function $P(e,t){return YP.apply(this,arguments)}function YP(){return YP=o(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:HP(t),WP(t)?(t._u.uu(n),BP(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),YP.apply(this,arguments)}function XP(e,t,n){return JP.apply(this,arguments)}function JP(){return JP=o(f().mark((function e(t,n,r){var i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof VI&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=o(f().mark((function e(t,n){var r,i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=pc(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),CS("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,ZP(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof FI?t.wu.ut(n):n instanceof jI?t.wu._t(n):t.wu.ht(n),r.isEqual(XS.min())){e.next=29;break}return e.prev=14,e.next=17,jR(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(oE.EMPTY_BYTE_STRING,n.snapshotVersion)),qP(e,t);var r=new fN(n.target,t,1,n.sequenceNumber);zP(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),CS("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,ZP(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),JP.apply(this,arguments)}function ZP(e,t,n){return eA.apply(this,arguments)}function eA(){return eA=o(f().mark((function e(t,n,r){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(tN(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,FP(t);case 5:t._u.set("Offline"),r||(r=function(){return jR(t.localStore)}),t.asyncQueue.enqueueRetryable(o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return CS("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,MP(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),eA.apply(this,arguments)}function tA(e,t){return t().catch((function(n){return ZP(e,n,t)}))}function nA(e){return rA.apply(this,arguments)}function rA(){return rA=o(f().mark((function e(t){var n,r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=AS(t),r=wA(n),i=n.cu.length>0?n.cu[n.cu.length-1].batchId:-1;case 2:if(!iA(n)){e.next=19;break}return e.prev=3,e.next=6,zR(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.cu.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,aA(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,ZP(n,e.t0);case 17:e.next=2;break;case 19:oA(n)&&uA(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),rA.apply(this,arguments)}function iA(e){return KP(e)&&e.cu.length<10}function aA(e,t){e.cu.push(t);var n=wA(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function oA(e){return KP(e)&&!wA(e).Do()&&e.cu.length>0}function uA(e){wA(e).start()}function sA(e){return cA.apply(this,arguments)}function cA(){return cA=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:wA(t).Xo();case 1:case"end":return e.stop()}}),e)}))),cA.apply(this,arguments)}function lA(e){return fA.apply(this,arguments)}function fA(){return fA=o(f().mark((function e(t){var n,r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=wA(t),r=pc(t.cu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),fA.apply(this,arguments)}function hA(e,t,n){return dA.apply(this,arguments)}function dA(){return dA=o(f().mark((function e(t,n,r){var i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.cu.shift(),a=cN.from(i,n,r),e.next=3,tA(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,nA(t);case 5:case"end":return e.stop()}}),e)}))),dA.apply(this,arguments)}function pA(e,t){return vA.apply(this,arguments)}function vA(){return vA=o(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&wA(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=o(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!mI(i=n.code)||i===OS.ABORTED){e.next=7;break}return r=t.cu.shift(),wA(t).No(),e.next=5,tA(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,nA(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:oA(t)&&uA(t);case 5:case"end":return e.stop()}}),e)}))),vA.apply(this,arguments)}function mA(e,t){return yA.apply(this,arguments)}function yA(){return yA=o(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=AS(t)).asyncQueue.verifyOperationInProgress(),CS("RemoteStore","RemoteStore received new credentials"),i=KP(r),r.lu.add(3),e.next=6,FP(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,MP(r);case 12:case"end":return e.stop()}}),e)}))),yA.apply(this,arguments)}function gA(e,t){return bA.apply(this,arguments)}function bA(){return bA=o(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=AS(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,MP(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,FP(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),bA.apply(this,arguments)}function kA(e){return e.mu||(e.mu=function(e,t,n){var r=AS(e);return r.tu(),new RP(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{zr:GP.bind(null,e),Jr:$P.bind(null,e),Ko:XP.bind(null,e)}),e.fu.push(function(){var t=o(f().mark((function t(n){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),WP(e)?BP(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:HP(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function wA(e){return e.gu||(e.gu=function(e,t,n){var r=AS(e);return r.tu(),new PP(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{zr:sA.bind(null,e),Jr:pA.bind(null,e),Yo:lA.bind(null,e),Jo:hA.bind(null,e)}),e.fu.push(function(){var t=o(f().mark((function t(n){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,nA(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.cu.length>0&&(CS("RemoteStore","Stopping write stream with ".concat(e.cu.length," pending writes")),e.cu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var _A=function(){function e(t,n,r,i,a){ku(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new MS,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return _u(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new DS(OS.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function xA(e,t){if(IS("AsyncQueue","".concat(t,": ").concat(e)),tN(e))return new DS(OS.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var SA=function(){function e(t){ku(this,e),this.comparator=t?function(e,n){return t(e,n)||bE.comparator(e.key,n.key)}:function(e,t){return bE.comparator(e.key,t.key)},this.keyedMap=TI(),this.sortedSet=new bI(this.comparator)}return _u(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),EA=function(){function e(){ku(this,e),this.yu=new bI(bE.comparator)}return _u(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):RS():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),CA=function(){function e(t,n,r,i,a,o,u,s){ku(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return _u(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&TC(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,SA.emptySet(n),a,r,i,!0,!1)}}]),e}(),IA=_u((function e(){ku(this,e),this.Iu=void 0,this.listeners=[]})),TA=_u((function e(){ku(this,e),this.queries=new gI((function(e){return NC(e)}),TC),this.onlineState="Unknown",this.Tu=new Set}));function NA(e,t){return RA.apply(this,arguments)}function RA(){return RA=o(f().mark((function e(t,n){var r,i,a,o,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=AS(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new IA),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=xA(e.t0,"Initialization of query '".concat(RC(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&MA(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),RA.apply(this,arguments)}function PA(e,t){return AA.apply(this,arguments)}function AA(){return AA=o(f().mark((function e(t,n){var r,i,a,o,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=AS(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),AA.apply(this,arguments)}function OA(e,t){var n,r=AS(e),i=!1,a=pc(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=pc(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&MA(r)}function DA(e,t,n){var r=AS(e),i=r.queries.get(t);if(i){var a,o=pc(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function MA(e){e.Tu.forEach((function(e){e.next()}))}var LA=function(){function e(t,n,r){ku(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return _u(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=pc(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new CA(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),a=!0):this.vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=CA.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),FA=function(){function e(t,n){ku(this,e),this.payload=t,this.byteLength=n}return _u(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),jA=function(){function e(t){ku(this,e),this.M=t}return _u(e,[{key:"li",value:function(e){return eT(this.M,e)}},{key:"fi",value:function(e){return e.metadata.exists?oT(this.M,e.document,!1):zE.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}},{key:"di",value:function(e){return YI(e)}}]),e}(),VA=function(){function e(t,n,r){ku(this,e),this.xu=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=UA(t)}return _u(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=nE.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new jA(this.M),i=pc(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.li(a.metadata.name),s=pc(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||AI()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=o(f().mark((function e(){var t,n,r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$R(this.localStore,new jA(this.M),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=pc(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,XR(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Mu:this.collectionGroups,Ou:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function UA(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var zA=_u((function e(t){ku(this,e),this.key=t})),qA=_u((function e(t){ku(this,e),this.key=t})),BA=function(){function e(t,n){ku(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=AI(),this.mutatedKeys=AI(),this.Lu=OC(t),this.Uu=new SA(this.Lu)}return _u(e,[{key:"qu",get:function(){return this.Fu}},{key:"Gu",value:function(e,t){var n=this,r=t?t.Ku:new EA,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=kC(this.query)&&i.size===this.query.limit?i.last():null,c=wC(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=PC(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),kC(this.query)||wC(this.query))for(;o.size>this.query.limit;){var l=kC(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Ku:r,ei:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Ku.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return RS()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new CA(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new EA,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=AI(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new qA(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new zA(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.hi,this.Bu=AI();var t=this.Gu(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return CA.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),WA=_u((function e(t,n,r){ku(this,e),this.query=t,this.targetId=n,this.view=r})),KA=_u((function e(t){ku(this,e),this.key=t,this.Xu=!1})),HA=function(){function e(t,n,r,i,a,o){ku(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.ta=new gI((function(e){return NC(e)}),TC),this.ea=new Map,this.na=new Set,this.sa=new bI(bE.comparator),this.ia=new Map,this.ra=new tP,this.oa={},this.ua=new Map,this.aa=nR.gn(),this.onlineState="Unknown",this.ca=void 0}return _u(e,[{key:"isPrimaryClient",get:function(){return!0===this.ca}}]),e}();function GA(e,t){return QA.apply(this,arguments)}function QA(){return QA=o(f().mark((function e(t,n){var r,i,a,o,u,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=UO(t),!(o=r.ta.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,qR(r.localStore,CC(n));case 8:return u=e.sent,r.isPrimaryClient&&VP(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,$A(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),QA.apply(this,arguments)}function $A(e,t,n,r){return YA.apply(this,arguments)}function YA(){return YA=o(f().mark((function e(t,n,r,i){var a,u,s,c,l,h;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.ha=function(e,n,r){return function(){var e=o(f().mark((function e(t,n,r,i){var a,o,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Gu(r),e.t0=a.ei,!e.t0){e.next=6;break}return e.next=5,KR(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Gu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(mO(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,KR(t.localStore,n,!0);case 3:return a=e.sent,u=new BA(n,a.hi),s=u.Gu(a.documents),c=LI.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),l=u.applyChanges(s,t.isPrimaryClient,c),mO(t,r,l.zu),h=new WA(n,r,u),e.abrupt("return",(t.ta.set(n,h),t.ea.has(r)?t.ea.get(r).push(n):t.ea.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),YA.apply(this,arguments)}function XA(e,t){return JA.apply(this,arguments)}function JA(){return JA=o(f().mark((function e(t,n){var r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=AS(t),i=r.ta.get(n),!((a=r.ea.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ea.set(i.targetId,a.filter((function(e){return!TC(e,n)}))),void r.ta.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,BR(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),UP(r.remoteStore,i.targetId),pO(r,i.targetId)})).catch(uR);case 9:e.next=14;break;case 11:return pO(r,i.targetId),e.next=14,BR(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),JA.apply(this,arguments)}function ZA(e,t,n){return eO.apply(this,arguments)}function eO(){return eO=o(f().mark((function e(t,n,r){var i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zO(t),e.prev=1,e.next=4,function(e,t){var n,r=AS(e),i=YS.now(),a=t.reduce((function(e,t){return e.add(t.key)}),AI());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ai.qs(e,a).next((function(a){n=a;var o,u=[],s=pc(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=rI(c,n.get(c.key));null!=l&&u.push(new uI(c.key,l,UE(l.value.mapValue),JC.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.$s.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oa[e.currentUser.toKey()];r||(r=new bI(GS)),r=r.insert(t,n),e.oa[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,bO(i,a.changes);case 9:return e.next=11,nA(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=xA(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),eO.apply(this,arguments)}function tO(e,t){return nO.apply(this,arguments)}function nO(){return nO=o(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=AS(t),e.prev=1,e.next=4,VR(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ia.get(t);n&&(PS(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?PS(n.Xu):e.removedDocuments.size>0&&(PS(n.Xu),n.Xu=!1))})),e.next=8,bO(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,uR(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),nO.apply(this,arguments)}function rO(e,t,n){var r=AS(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ta.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=AS(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=pc(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&MA(n)}(r.eventManager,t),i.length&&r.Zu.Ko(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function iO(e,t,n){return aO.apply(this,arguments)}function aO(){return aO=o(f().mark((function e(t,n,r){var i,a,o,u,s,c;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=AS(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ia.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new bI(bE.comparator)).insert(o,zE.newNoDocument(o,XS.min())),s=AI().add(o),c=new MI(XS.min(),new Map,new _I(GS),u,s),e.next=9,tO(i,c);case 9:i.sa=i.sa.remove(o),i.ia.delete(n),gO(i),e.next=16;break;case 14:return e.next=16,BR(i.localStore,n,!1).then((function(){return pO(i,n,r)})).catch(uR);case 16:case"end":return e.stop()}}),e)}))),aO.apply(this,arguments)}function oO(e,t){return uO.apply(this,arguments)}function uO(){return uO=o(f().mark((function e(t,n){var r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=AS(t),i=n.batch.batchId,e.prev=1,e.next=4,FR(r.localStore,n);case 4:return a=e.sent,dO(r,i,null),hO(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,bO(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,uR(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),uO.apply(this,arguments)}function sO(e,t,n){return cO.apply(this,arguments)}function cO(){return cO=o(f().mark((function e(t,n,r){var i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=AS(t),e.prev=1,e.next=4,function(e,t){var n=AS(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.$s.lookupMutationBatch(e,t).next((function(t){return PS(null!==t),r=t.keys(),n.$s.removeMutationBatch(e,t)})).next((function(){return n.$s.performConsistencyCheck(e)})).next((function(){return n.ai.qs(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,dO(i,n,r),hO(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,bO(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,uR(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),cO.apply(this,arguments)}function lO(e,t){return fO.apply(this,arguments)}function fO(){return fO=o(f().mark((function e(t,n){var r,i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return KP((r=AS(t)).remoteStore)||CS("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=AS(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.$s.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.ua.get(i)||[]).push(n),r.ua.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=xA(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),fO.apply(this,arguments)}function hO(e,t){(e.ua.get(t)||[]).forEach((function(e){e.resolve()})),e.ua.delete(t)}function dO(e,t,n){var r=AS(e),i=r.oa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oa[r.currentUser.toKey()]=i}}function pO(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=pc(e.ea.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ta.delete(a),n&&e.Zu.la(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ea.delete(t),e.isPrimaryClient&&e.ra.Ri(t).forEach((function(t){e.ra.containsKey(t)||vO(e,t)}))}function vO(e,t){e.na.delete(t.path.canonicalString());var n=e.sa.get(t);null!==n&&(UP(e.remoteStore,n),e.sa=e.sa.remove(t),e.ia.delete(n),gO(e))}function mO(e,t,n){var r,i=pc(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof zA?(e.ra.addReference(a.key,t),yO(e,a)):a instanceof qA?(CS("SyncEngine","Document no longer in limbo: "+a.key),e.ra.removeReference(a.key,t),e.ra.containsKey(a.key)||vO(e,a.key)):RS()}}catch(o){i.e(o)}finally{i.f()}}function yO(e,t){var n=t.key,r=n.path.canonicalString();e.sa.get(n)||e.na.has(r)||(CS("SyncEngine","New document in limbo: "+n),e.na.add(r),gO(e))}function gO(e){for(;e.na.size>0&&e.sa.size<e.maxConcurrentLimboResolutions;){var t=e.na.values().next().value;e.na.delete(t);var n=new bE(nE.fromString(t)),r=e.aa.next();e.ia.set(r,new KA(n)),e.sa=e.sa.insert(n,r),VP(e.remoteStore,new fN(CC(bC(n.path)),r,2,WS.A))}}function bO(e,t,n){return kO.apply(this,arguments)}function kO(){return kO=o(f().mark((function e(t,n,r){var i,a,u,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=AS(t),a=[],u=[],s=[],e.t0=i.ta.isEmpty(),e.t0){e.next=9;break}return i.ta.forEach((function(e,t){s.push(i.ha(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=PR.Js(t.targetId,e);u.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Zu.Ko(a),e.next=9,function(){var e=o(f().mark((function e(t,n){var r,i,a,o,u,s,c,l;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=AS(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return YT.forEach(n,(function(t){return YT.forEach(t.zs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return YT.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),tN(e.t0)){e.next=10;break}throw e.t0;case 10:CS("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=pc(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.si.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.si=r.si.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,u);case 9:case"end":return e.stop()}}),e)}))),kO.apply(this,arguments)}function wO(e,t){return _O.apply(this,arguments)}function _O(){return _O=o(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=AS(t)).currentUser.isEqual(n)){e.next=11;break}return CS("SyncEngine","User change. New user:",n.toKey()),e.next=5,MR(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.ua.forEach((function(e){e.forEach((function(e){e.reject(new DS(OS.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ua.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,bO(r,i.ci);case 11:case"end":return e.stop()}}),e)}))),_O.apply(this,arguments)}function xO(e,t){var n=AS(e),r=n.ia.get(t);if(r&&r.Xu)return AI().add(r.key);var i=AI(),a=n.ea.get(t);if(!a)return i;var o,u=pc(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ta.get(s);i=i.unionWith(c.view.qu)}}catch(l){u.e(l)}finally{u.f()}return i}function SO(e,t){return EO.apply(this,arguments)}function EO(){return EO=o(f().mark((function e(t,n){var r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=AS(t),e.next=3,KR(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&mO(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),EO.apply(this,arguments)}function CO(e,t){return IO.apply(this,arguments)}function IO(){return IO=o(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=AS(t),e.abrupt("return",GR(r.localStore,n).then((function(e){return bO(r,e)})));case 2:case"end":return e.stop()}}),e)}))),IO.apply(this,arguments)}function TO(e,t,n,r){return NO.apply(this,arguments)}function NO(){return NO=o(f().mark((function e(t,n,r,i){var a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=AS(t),e.next=3,function(e,t){var n=AS(e),r=AS(n.$s);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.ln(e,t).next((function(t){return t?n.ai.qs(e,t):YT.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,nA(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(dO(a,n,i||null),hO(a,n),function(e,t){AS(AS(e).$s).dn(t)}(a.localStore,n)):RS();case 11:return e.next=13,bO(a,o);case 13:e.next=16;break;case 15:CS("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),NO.apply(this,arguments)}function RO(e,t){return PO.apply(this,arguments)}function PO(){return PO=o(f().mark((function e(t,n){var r,i,a,o,u,s,c,l;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(UO(r=AS(t)),zO(r),!0!==n||!0===r.ca){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,AO(r,i.toArray());case 5:return a=e.sent,r.ca=!0,e.next=9,gA(r.remoteStore,!0);case 9:o=pc(a);try{for(o.s();!(u=o.n()).done;)s=u.value,VP(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ca){e.next=25;break}return c=[],l=Promise.resolve(),r.ea.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return pO(r,t),BR(r.localStore,t,!0)})),UP(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,AO(r,c);case 21:return function(e){var t=AS(e);t.ia.forEach((function(e,n){UP(t.remoteStore,n)})),t.ra.bi(),t.ia=new Map,t.sa=new bI(bE.comparator)}(r),r.ca=!1,e.next=25,gA(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),PO.apply(this,arguments)}function AO(e,t,n){return OO.apply(this,arguments)}function OO(){return OO=o(f().mark((function e(t,n,r){var i,a,o,u,s,c,l,h,d,p,v,m,y,g;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=AS(t),a=[],o=[],u=pc(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(h=i.ea.get(c))||0===h.length){e.next=34;break}return e.next=11,qR(i.localStore,CC(h[0]));case 11:l=e.sent,d=pc(h),e.prev=13,d.s();case 15:if((p=d.n()).done){e.next=24;break}return v=p.value,m=i.ta.get(v),e.next=20,SO(i,m);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,HR(i.localStore,c);case 36:return g=e.sent,e.next=39,qR(i.localStore,g);case 39:return l=e.sent,e.next=42,$A(i,DO(g),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Ko(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),OO.apply(this,arguments)}function DO(e){return gC(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function MO(e){var t=AS(e);return AS(AS(t.localStore).persistence).Os()}function LO(e,t,n,r){return FO.apply(this,arguments)}function FO(){return FO=o(f().mark((function e(t,n,r,i){var a,o,u,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=AS(t)).ca){e.next=3;break}return e.abrupt("return",void CS("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ea.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,GR(a.localStore,AC(o[0]));case 10:return u=e.sent,s=MI.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,bO(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,BR(a.localStore,n,!0);case 17:return pO(a,n,i),e.abrupt("break",20);case 19:RS();case 20:case"end":return e.stop()}}),e)}))),FO.apply(this,arguments)}function jO(e,t,n){return VO.apply(this,arguments)}function VO(){return VO=o(f().mark((function e(t,n,r){var i,a,o,u,s,c,l,h,d;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=UO(t)).ca){e.next=45;break}a=pc(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ea.has(u)){e.next=10;break}return CS("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,HR(i.localStore,u);case 12:return s=e.sent,e.next=15,qR(i.localStore,s);case 15:return c=e.sent,e.next=18,$A(i,DO(s),c.targetId,!1);case 18:VP(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=pc(r),e.prev=30,d=f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.value,e.t0=i.ea.has(t),!e.t0){e.next=5;break}return e.next=5,BR(i.localStore,t,!1).then((function(){UP(i.remoteStore,t),pO(i,t)})).catch(uR);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((h=l.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),VO.apply(this,arguments)}function UO(e){var t=AS(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=tO.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=iO.bind(null,t),t.Zu.Ko=OA.bind(null,t.eventManager),t.Zu.la=DA.bind(null,t.eventManager),t}function zO(e){var t=AS(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=oO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=sO.bind(null,t),t}function qO(e,t,n){var r=AS(e);(function(){var e=o(f().mark((function e(t,n,r){var i,a,o,u,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=AS(e),r=YI(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(UA(i)),a=new VA(i,t.localStore,n.M),e.next=15,n.fa();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.fa();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,bO(t,s.Ou,void 0);case 31:return e.next=33,function(e,t){var n=AS(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Mu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(TS("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var BO=function(){function e(){ku(this,e),this.synchronizeTabs=!1}return _u(e,[{key:"initialize",value:function(){var e=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=IP(t.databaseInfo.databaseId),this.sharedClientState=this.da(t),this.persistence=this._a(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.wa(t),this.localStore=this.ma(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wa",value:function(e){return null}},{key:"ma",value:function(e){return DR(this.persistence,new AR,e.initialUser,this.M)}},{key:"_a",value:function(e){return new uP(cP.Wi,this.M)}},{key:"da",value:function(e){return new bP}},{key:"terminate",value:function(){var e=o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),WO=function(e){cc(n,e);var t=dc(n);function n(e,r,i){var a;return ku(this,n),(a=t.call(this)).ga=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return _u(n,[{key:"initialize",value:function(){var e=o(f().mark((function e(t){var r=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sc(oc(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.ga.initialize(this,t);case 4:return e.next=6,zO(this.ga.syncEngine);case 6:return e.next=8,nA(this.ga.remoteStore);case 8:return e.next=10,this.persistence.Is((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ma",value:function(e){return DR(this.persistence,new AR,e.initialUser,this.M)}},{key:"wa",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new fR(t,e.asyncQueue)}},{key:"_a",value:function(e){var t=NR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?QN.withCacheSize(this.cacheSizeBytes):QN.DEFAULT;return new CR(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,EP(),CP(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"da",value:function(e){return new bP}}]),n}(BO),KO=function(e){cc(n,e);var t=dc(n);function n(e,r){var i;return ku(this,n),(i=t.call(this,e,r,!1)).ga=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return _u(n,[{key:"initialize",value:function(){var e=o(f().mark((function e(t){var r,i=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sc(oc(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ga.syncEngine,e.t0=this.sharedClientState instanceof gP,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:TO.bind(null,r),Mr:LO.bind(null,r),Or:jO.bind(null,r),Os:MO.bind(null,r),Nr:CO.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Is(function(){var e=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,RO(i.ga.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"da",value:function(e){var t=EP();if(!gP.vt(t))throw new DS(OS.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=NR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new gP(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(WO),HO=function(){function e(){ku(this,e)}return _u(e,[{key:"initialize",value:function(){var e=o(f().mark((function e(t,n){var r=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return rO(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=wO.bind(null,this.syncEngine),e.next=12,gA(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new TA}},{key:"createDatastore",value:function(e){var t,n=IP(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new SP(t));return function(e,t,n,r){return new AP(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return rO(o.syncEngine,e,0)},a=wP.vt()?new wP:new kP,new DP(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new HA(e,t,n,r,i,a);return o&&(u.ca=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=o(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=AS(t),CS("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,FP(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function GO(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return o(f().mark((function r(){var i;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var QO=function(){function e(t){ku(this,e),this.observer=t,this.muted=!1}return _u(e,[{key:"next",value:function(e){this.observer.next&&this.ya(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"pa",value:function(){this.muted=!0}},{key:"ya",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),$O=function(){function e(t,n){var r=this;ku(this,e),this.Ia=t,this.M=n,this.metadata=new MS,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return _u(e,[{key:"close",value:function(){return this.Ia.cancel()}},{key:"getMetadata",value:function(){var e=o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fa",value:function(){var e=o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Ea());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ea",value:function(){var e=o(f().mark((function e(){var t,n,r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Aa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ta.decode(t),r=Number(n),isNaN(r)&&this.Ra("length string (".concat(n,") is not valid number")),e.next=9,this.ba(r);case 9:return i=e.sent,e.abrupt("return",new FA(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pa",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Aa",value:function(){var e=o(f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Pa()<0)){e.next=7;break}return e.next=3,this.Va();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Pa())<0&&this.Ra("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(){var e=o(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Va();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Ra("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ta.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ra",value:function(e){throw this.Ia.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Va",value:function(){var e=o(f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ia.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),YO=function(){function e(t){ku(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return _u(e,[{key:"lookup",value:function(){var e=o(f().mark((function e(t){var n,r=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new DS(OS.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=o(f().mark((function e(t,n){var r,i,a,o,u,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=AS(t),i=rT(r.M)+"/documents",a={documents:n.map((function(e){return ZI(r.M,e)}))},e.next=5,r.co("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=uT(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());PS(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new dI(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=o(f().mark((function e(){var t,n=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=bE.fromPath(t);n.mutations.push(new pI(r,n.precondition(r)))})),e.next=7,function(){var e=o(f().mark((function e(t,n){var r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=AS(t),i=rT(r.M)+"/documents",a={writes:n.map((function(e){return sT(r.M,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw RS();t=XS.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new DS(OS.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?JC.updateTime(t):JC.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(XS.min()))throw new DS(OS.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return JC.updateTime(t)}return JC.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),XO=function(){function e(t,n,r,i){ku(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.va=5,this.So=new TP(this.asyncQueue,"transaction_retry")}return _u(e,[{key:"run",value:function(){this.va-=1,this.Sa()}},{key:"Sa",value:function(){var e=this;this.So.Io(o(f().mark((function t(){var n,r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new YO(e.datastore),(r=e.Da(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ca(t)}))}))})).catch((function(t){e.Ca(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Da",value:function(e){try{var t=this.updateFunction(e);return!mE(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ca",value:function(e){var t=this;this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget((function(){return t.Sa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"xa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!mI(t)}return!1}}]),e}(),JO=function(){function e(t,n,r,i){var a=this;ku(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=_S.UNAUTHENTICATED,this.clientId=HS.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return CS("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return CS("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return _u(e,[{key:"getConfiguration",value:function(){var e=o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new DS(OS.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new MS;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(o(f().mark((function n(){var r;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=xA(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function ZO(e,t){return eD.apply(this,arguments)}function eD(){return eD=o(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),CS("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,MR(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),eD.apply(this,arguments)}function tD(e,t){return nD.apply(this,arguments)}function nD(){return nD=o(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,rD(t);case 3:return r=e.sent,CS("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return mA(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return mA(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),nD.apply(this,arguments)}function rD(e){return iD.apply(this,arguments)}function iD(){return iD=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return CS("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,ZO(t,new BO);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),iD.apply(this,arguments)}function aD(e){return oD.apply(this,arguments)}function oD(){return oD=o(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return CS("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,tD(t,new HO);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),oD.apply(this,arguments)}function uD(e){return rD(e).then((function(e){return e.persistence}))}function sD(e){return rD(e).then((function(e){return e.localStore}))}function cD(e){return aD(e).then((function(e){return e.remoteStore}))}function lD(e){return aD(e).then((function(e){return e.syncEngine}))}function fD(e){return hD.apply(this,arguments)}function hD(){return hD=o(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aD(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=GA.bind(null,n.syncEngine),r.onUnlisten=XA.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),hD.apply(this,arguments)}function dD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new MS;return e.asyncQueue.enqueueAndForget(o(f().mark((function i(){return f().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new QO({next:function(a){t.enqueueAndForget((function(){return PA(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new DS(OS.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new DS(OS.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new LA(bC(n.path),a,{includeMetadataChanges:!0,Du:!0});return NA(e,o)},i.next=3,fD(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function pD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new MS;return e.asyncQueue.enqueueAndForget(o(f().mark((function i(){return f().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new QO({next:function(n){t.enqueueAndForget((function(){return PA(e,o)})),n.fromCache&&"server"===r.source?i.reject(new DS(OS.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new LA(n,a,{includeMetadataChanges:!0,Du:!0});return NA(e,o)},i.next=3,fD(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var vD=new Map;function mD(e,t,n){if(!n)throw new DS(OS.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function yD(e,t,n,r){if(!0===t&&!0===r)throw new DS(OS.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function gD(e){if(!bE.isDocumentKey(e))throw new DS(OS.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function bD(e){if(bE.isDocumentKey(e))throw new DS(OS.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function kD(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":RS()}function wD(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new DS(OS.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=kD(e);throw new DS(OS.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function _D(e,t){if(t<=0)throw new DS(OS.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var xD=function(){function e(t){var n;if(ku(this,e),void 0===t.host){if(void 0!==t.ssl)throw new DS(OS.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new DS(OS.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,yD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return _u(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),SD=function(){function e(t,n,r){ku(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xD({}),this._settingsFrozen=!1,t instanceof vE?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new DS(OS.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vE(e.options.projectId)}(t))}return _u(e,[{key:"app",get:function(){if(!this._app)throw new DS(OS.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new DS(OS.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xD(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new FS;switch(e.type){case"gapi":var t=e.client;return PS(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new zS(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new DS(OS.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=vD.get(e);t&&(CS("ComponentProvider","Removing Datastore"),vD.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function ED(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=wD(e,SD))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&TS("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=_S.MOCK_USER;else{o=Nc(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new DS(OS.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new _S(s)}e._authCredentials=new jS(new LS(o,u))}}var CD=function(){function e(t,n,r){ku(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return _u(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new TD(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),ID=function(){function e(t,n,r){ku(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return _u(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),TD=function(e){cc(n,e);var t=dc(n);function n(e,r,i){var a;return ku(this,n),(a=t.call(this,e,r,bC(i)))._path=i,a.type="collection",a}return _u(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new CD(this.firestore,null,new bE(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(ID);function ND(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=cl(e),mD("collection","path",t),e instanceof SD){var a=nE.fromString.apply(nE,[t].concat(r));return bD(a),new TD(e,null,a)}if(!(e instanceof CD||e instanceof TD))throw new DS(OS.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(nE.fromString.apply(nE,[t].concat(r)));return bD(o),new TD(e.firestore,null,o)}function RD(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=cl(e),1===arguments.length&&(t=HS.R()),mD("doc","path",t),e instanceof SD){var a=nE.fromString.apply(nE,[t].concat(r));return gD(a),new CD(e,null,new bE(a))}if(!(e instanceof CD||e instanceof TD))throw new DS(OS.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(nE.fromString.apply(nE,[t].concat(r)));return gD(o),new CD(e.firestore,e instanceof TD?e.converter:null,new bE(o))}function PD(e,t){return e=cl(e),t=cl(t),(e instanceof CD||e instanceof TD)&&(t instanceof CD||t instanceof TD)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function AD(e,t){return e=cl(e),t=cl(t),e instanceof ID&&t instanceof ID&&e.firestore===t.firestore&&TC(e._query,t._query)&&e.converter===t.converter}var OD=function(){function e(){var t=this;ku(this,e),this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new TP(this,"async_queue_retry"),this.Ua=function(){var e=CP();e&&CS("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=CP();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ua)}return _u(e,[{key:"isShuttingDown",get:function(){return this.Ma}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.qa(),this.Ga(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;var t=CP();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}},{key:"enqueue",value:function(e){var t=this;if(this.qa(),this.Ma)return new Promise((function(){}));var n=new MS;return this.Ga((function(){return t.Ma&&t.Ba?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ka.push(e),t.Ka()}))}},{key:"Ka",value:function(){var e=o(f().mark((function e(){var t=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ka.length){e.next=14;break}return e.prev=1,e.next=4,this.ka[0]();case 4:this.ka.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),tN(e.t0)){e.next=12;break}throw e.t0;case 12:CS("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ka.length>0&&this.So.Io((function(){return t.Ka()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Ga",value:function(e){var t=this,n=this.Na.then((function(){return t.$a=!0,e().catch((function(e){t.Fa=e,t.$a=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw IS("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.$a=!1,e}))}));return this.Na=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.qa(),this.La.indexOf(e)>-1&&(t=0);var i=_A.createAndSchedule(this,e,t,n,(function(e){return r.Qa(e)}));return this.Oa.push(i),i}},{key:"qa",value:function(){this.Fa&&RS()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ja",value:function(){var e=o(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Na,e.next=3,t;case 3:if(t!==this.Na){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(e){var t,n=pc(this.Oa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"za",value:function(e){var t=this;return this.ja().then((function(){t.Oa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=pc(t.Oa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ja()}))}},{key:"Ha",value:function(e){this.La.push(e)}},{key:"Qa",value:function(e){var t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}]),e}();function DD(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=pc(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var MD=function(){function e(){ku(this,e),this._progressObserver={},this._taskCompletionResolver=new MS,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return _u(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),LD=function(e){cc(n,e);var t=dc(n);function n(e,r,i){var a;return ku(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new OD,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return _u(n,[{key:"_terminate",value:function(){return this._firestoreClient||jD(this),this._firestoreClient.terminate()}}]),n}(SD);function FD(e){return e._firestoreClient||jD(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function jD(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new pE(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new JO(e._authCredentials,e._appCheckCredentials,e._queue,r)}function VD(e,t,n){var r=new MS;return e.asyncQueue.enqueue(o(f().mark((function i(){return f().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,ZO(e,n);case 3:return i.next=5,tD(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===OS.FAILED_PRECONDITION||e.code===OS.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function UD(e){return function(e){return e.asyncQueue.enqueue(o(f().mark((function t(){var n,r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,uD(e);case 2:return n=t.sent,t.next=5,cD(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=AS(e);return t.lu.delete(0),MP(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(FD(e=wD(e,LD)))}function zD(e){return function(e){return e.asyncQueue.enqueue(o(f().mark((function t(){var n,r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,uD(e);case 2:return n=t.sent,t.next=5,cD(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=o(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=AS(t)).lu.add(0),e.next=4,FP(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(FD(e=wD(e,LD)))}function qD(e,t){var n=FD(e=wD(e,LD)),r=new MD;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new $O(e,t)}(function(e,t){if(e instanceof Uint8Array)return GO(e,t);if(e instanceof ArrayBuffer)return GO(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,IP(t));e.asyncQueue.enqueueAndForget(o(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=qO,t.next=3,lD(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function BD(e,t){return function(e,t){return e.asyncQueue.enqueue(o(f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=AS(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.ds.getNamedQuery(e,t)}))},n.next=3,sD(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(FD(e=wD(e,LD)),t).then((function(t){return t?new ID(e,null,t.query):null}))}function WD(e){if(e._initialized||e._terminated)throw new DS(OS.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var KD=function(){function e(){ku(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new DS(OS.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new iE(n)}return _u(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var HD=function(){function e(t){ku(this,e),this._byteString=t}return _u(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(oE.fromBase64String(t))}catch(t){throw new DS(OS.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(oE.fromUint8Array(t))}}]),e}(),GD=_u((function e(t){ku(this,e),this._methodName=t})),QD=function(){function e(t,n){if(ku(this,e),!isFinite(t)||t<-90||t>90)throw new DS(OS.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new DS(OS.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return _u(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return GS(this._lat,e._lat)||GS(this._long,e._long)}}]),e}(),$D=/^__.*__$/,YD=function(){function e(t,n,r){ku(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return _u(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new uI(e,this.data,this.fieldMask,t,this.fieldTransforms):new oI(e,this.data,t,this.fieldTransforms)}}]),e}(),XD=function(){function e(t,n,r){ku(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return _u(e,[{key:"toMutation",value:function(e,t){return new uI(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function JD(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw RS()}}var ZD=function(){function e(t,n,r,i,a,o){ku(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ja(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return _u(e,[{key:"path",get:function(){return this.settings.path}},{key:"Ya",get:function(){return this.settings.Ya}},{key:"Xa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Za",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:n,tc:!1});return r.ec(e),r}},{key:"nc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:n,tc:!1});return r.Ja(),r}},{key:"sc",value:function(e){return this.Xa({path:void 0,tc:!0})}},{key:"ic",value:function(e){return bM(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Ja",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ec(this.path.get(e))}},{key:"ec",value:function(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(JD(this.Ya)&&$D.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}]),e}(),eM=function(){function e(t,n,r){ku(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||IP(t)}return _u(e,[{key:"uc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ZD({Ya:e,methodName:t,oc:n,path:iE.emptyPath(),tc:!1,rc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function tM(e){var t=e._freezeSettings(),n=IP(e._databaseId);return new eM(e._databaseId,!!t.ignoreUndefinedProperties,n)}function nM(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.uc(a.merge||a.mergeFields?2:0,t,n,i);vM("Data must be an object, but it was:",o,r);var u,s,c=dM(r,o);if(a.merge)u=new aE(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=pc(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=mM(t,d,n);if(!o.contains(p))throw new DS(OS.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));kM(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new aE(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new YD(new VE(c),u,s)}var rM=function(e){cc(n,e);var t=dc(n);function n(){return ku(this,n),t.apply(this,arguments)}return _u(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Ya)throw 1===e.Ya?e.ic("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ic("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(GD);function iM(e,t,n){return new ZD({Ya:3,oc:t.settings.oc,methodName:e._methodName,tc:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var aM=function(e){cc(n,e);var t=dc(n);function n(){return ku(this,n),t.apply(this,arguments)}return _u(n,[{key:"_toFieldTransform",value:function(e){return new YC(e.path,new qC)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(GD),oM=function(e){cc(n,e);var t=dc(n);function n(e,r){var i;return ku(this,n),(i=t.call(this,e)).ac=r,i}return _u(n,[{key:"_toFieldTransform",value:function(e){var t=iM(this,e,!0),n=this.ac.map((function(e){return hM(e,t)})),r=new BC(n);return new YC(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(GD),uM=function(e){cc(n,e);var t=dc(n);function n(e,r){var i;return ku(this,n),(i=t.call(this,e)).ac=r,i}return _u(n,[{key:"_toFieldTransform",value:function(e){var t=iM(this,e,!0),n=this.ac.map((function(e){return hM(e,t)})),r=new KC(n);return new YC(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(GD),sM=function(e){cc(n,e);var t=dc(n);function n(e,r){var i;return ku(this,n),(i=t.call(this,e)).cc=r,i}return _u(n,[{key:"_toFieldTransform",value:function(e){var t=new GC(e.M,FC(e.M,this.cc));return new YC(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(GD);function cM(e,t,n,r){var i=e.uc(1,t,n);vM("Data must be an object, but it was:",i,r);var a=[],o=VE.empty();ZS(r,(function(e,r){var u=gM(t,e,n);r=cl(r);var s=i.nc(u);if(r instanceof rM)a.push(u);else{var c=hM(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new aE(a);return new XD(o,u,i.fieldTransforms)}function lM(e,t,n,r,i,a){var o=e.uc(1,t,n),u=[mM(t,r,n)],s=[i];if(a.length%2!=0)throw new DS(OS.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(mM(t,a[c])),s.push(a[c+1]);for(var l=[],f=VE.empty(),h=u.length-1;h>=0;--h)if(!kM(l,u[h])){var d=u[h],p=s[h];p=cl(p);var v=o.nc(d);if(p instanceof rM)l.push(d);else{var m=hM(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new aE(l);return new XD(f,y,o.fieldTransforms)}function fM(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return hM(n,e.uc(r?4:3,t))}function hM(e,t){if(pM(e=cl(e)))return vM("Unsupported field value:",t,e),dM(e,t);if(e instanceof GD)return function(e,t){if(!JD(t.Ya))throw t.ic("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ic("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.tc&&4!==t.Ya)throw t.ic("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=pc(e);try{for(a.s();!(n=a.n()).done;){var o=hM(n.value,t.sc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=cl(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return FC(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=YS.fromDate(e);return{timestampValue:GI(t.M,n)}}if(e instanceof YS){var r=new YS(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:GI(t.M,r)}}if(e instanceof QD)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof HD)return{bytesValue:QI(t.M,e._byteString)};if(e instanceof CD){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ic("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:XI(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ic("Unsupported field value: ".concat(kD(e)))}(e,t)}function dM(e,t){var n={};return eE(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ZS(e,(function(e,r){var i=hM(r,t.Za(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function pM(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof YS||e instanceof QD||e instanceof HD||e instanceof CD||e instanceof GD)}function vM(e,t,n){if(!pM(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=kD(n);throw"an object"===r?t.ic(e+" a custom object"):t.ic(e+" "+r)}}function mM(e,t,n){if((t=cl(t))instanceof KD)return t._internalPath;if("string"==typeof t)return gM(e,t);throw bM("Field path arguments must be of type string or ",e,!1,void 0,n)}var yM=new RegExp("[~\\*/\\[\\]]");function gM(e,t,n){if(t.search(yM)>=0)throw bM("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return vc(KD,g(t.split(".")))._internalPath}catch(r){throw bM("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function bM(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new DS(OS.INVALID_ARGUMENT,u+e+s)}function kM(e,t){return e.some((function(e){return e.isEqual(t)}))}var wM=function(){function e(t,n,r,i,a){ku(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return _u(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new CD(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new _M(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(xM("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),_M=function(e){cc(n,e);var t=dc(n);function n(){return ku(this,n),t.apply(this,arguments)}return _u(n,[{key:"data",value:function(){return sc(oc(n.prototype),"data",this).call(this)}}]),n}(wM);function xM(e,t){return"string"==typeof t?gM(e,t):t instanceof KD?t._internalPath:t._delegate._internalPath}var SM=function(){function e(t,n){ku(this,e),this.hasPendingWrites=t,this.fromCache=n}return _u(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),EM=function(e){cc(n,e);var t=dc(n);function n(e,r,i,a,o,u){var s;return ku(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return _u(n,[{key:"exists",value:function(){return sc(oc(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new CM(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(xM("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(wM),CM=function(e){cc(n,e);var t=dc(n);function n(){return ku(this,n),t.apply(this,arguments)}return _u(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return sc(oc(n.prototype),"data",this).call(this,e)}}]),n}(EM),IM=function(){function e(t,n,r,i){ku(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new SM(i.hasPendingWrites,i.fromCache),this.query=r}return _u(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new CM(n._firestore,n._userDataWriter,r.key,r,new SM(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new DS(OS.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new CM(e._firestore,e._userDataWriter,t.doc.key,t.doc,new SM(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new CM(e._firestore,e._userDataWriter,t.doc.key,t.doc,new SM(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:TM(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function TM(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return RS()}}function NM(e,t){return e instanceof EM&&t instanceof EM?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof IM&&t instanceof IM&&e._firestore===t._firestore&&AD(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function RM(e){if(wC(e)&&0===e.explicitOrderBy.length)throw new DS(OS.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var PM=_u((function e(){ku(this,e)}));function AM(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var OM=function(e){cc(n,e);var t=dc(n);function n(e,r,i){var a;return ku(this,n),(a=t.call(this)).hc=e,a.lc=r,a.fc=i,a.type="where",a}return _u(n,[{key:"_apply",value:function(e){var t=tM(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new DS(OS.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){WM(o,a);var s,c=[],l=pc(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(BM(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=BM(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||WM(o,a),u=fM(n,"where",o,"in"===a||"not-in"===a);var h=rC.create(i,a,u);return function(e,t){if(t.S()){var n=xC(e);if(null!==n&&!n.isEqual(t.field))throw new DS(OS.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=_C(e);null!==r&&KM(e,t.field,r)}var i=function(e,t){var n,r=pc(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new DS(OS.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new DS(OS.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new ID(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new yC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(PM);var DM=function(e){cc(n,e);var t=dc(n);function n(e,r){var i;return ku(this,n),(i=t.call(this)).hc=e,i.dc=r,i.type="orderBy",i}return _u(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new DS(OS.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new DS(OS.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new dC(t,n);return function(e,t){if(null===_C(e)){var n=xC(e);null!==n&&KM(e,n,t.field)}}(e,r),r}(e._query,this.hc,this.dc);return new ID(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new yC(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(PM);var MM=function(e){cc(n,e);var t=dc(n);function n(e,r,i){var a;return ku(this,n),(a=t.call(this)).type=e,a._c=r,a.wc=i,a}return _u(n,[{key:"_apply",value:function(e){return new ID(e.firestore,e.converter,IC(e._query,this._c,this.wc))}}]),n}(PM);var LM=function(e){cc(n,e);var t=dc(n);function n(e,r,i){var a;return ku(this,n),(a=t.call(this)).type=e,a.mc=r,a.gc=i,a}return _u(n,[{key:"_apply",value:function(e){var t=qM(e,this.type,this.mc,this.gc);return new ID(e.firestore,e.converter,function(e,t){return new yC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(PM);function FM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new LM("startAt",t,!0)}function jM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new LM("startAfter",t,!1)}var VM=function(e){cc(n,e);var t=dc(n);function n(e,r,i){var a;return ku(this,n),(a=t.call(this)).type=e,a.mc=r,a.gc=i,a}return _u(n,[{key:"_apply",value:function(e){var t=qM(e,this.type,this.mc,this.gc);return new ID(e.firestore,e.converter,function(e,t){return new yC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(PM);function UM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new VM("endBefore",t,!1)}function zM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new VM("endAt",t,!0)}function qM(e,t,n,r){if(n[0]=cl(n[0]),n[0]instanceof wM)return function(e,t,n,r,i){if(!r)throw new DS(OS.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=pc(EC(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(NE(t,r.key));else{var c=r.data.field(s.field);if(fE(c))throw new DS(OS.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new DS(OS.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new hC(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=tM(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new DS(OS.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new DS(OS.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!SC(e)&&-1!==c.indexOf("/"))throw new DS(OS.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(nE.fromString(c));if(!bE.isDocumentKey(l))throw new DS(OS.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new bE(l);u.push(NE(t,f))}else{var h=fM(n,r,c);u.push(h)}}return new hC(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function BM(e,t,n){if("string"==typeof(n=cl(n))){if(""===n)throw new DS(OS.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SC(t)&&-1!==n.indexOf("/"))throw new DS(OS.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(nE.fromString(n));if(!bE.isDocumentKey(r))throw new DS(OS.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return NE(e,new bE(r))}if(n instanceof CD)return NE(e,n._key);throw new DS(OS.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(kD(n),"."))}function WM(e,t){if(!Array.isArray(e)||0===e.length)throw new DS(OS.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new DS(OS.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function KM(e,t,n){if(!n.isEqual(t))throw new DS(OS.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var HM=function(){function e(){ku(this,e)}return _u(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(_E(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cE(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(lE(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw RS()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return ZS(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new QD(cE(e.latitude),cE(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=hE(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(dE(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=sE(e);return new YS(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=nE.fromString(e);PS(wT(n));var r=new vE(n.get(1),n.get(3)),i=new bE(n.popFirst(5));return r.isEqual(t)||IS("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function GM(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var QM=function(e){cc(n,e);var t=dc(n);function n(e){var r;return ku(this,n),(r=t.call(this)).firestore=e,r}return _u(n,[{key:"convertBytes",value:function(e){return new HD(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new CD(this.firestore,null,t)}}]),n}(HM),$M=function(){function e(t,n){ku(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=tM(t)}return _u(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=YM(e,this._firestore),i=GM(r.converter,t,n),a=nM(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,JC.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=YM(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=cl(t))||t instanceof KD?lM(this._dataReader,"WriteBatch.update",i._key,t,n,o):cM(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,JC.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=YM(e,this._firestore);return this._mutations=this._mutations.concat(new dI(t._key,JC.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new DS(OS.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function YM(e,t){if((e=cl(e)).firestore!==t)throw new DS(OS.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var XM=function(e){cc(n,e);var t=dc(n);function n(e){var r;return ku(this,n),(r=t.call(this)).firestore=e,r}return _u(n,[{key:"convertBytes",value:function(e){return new HD(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new CD(this.firestore,null,t)}}]),n}(HM);function JM(e){e=wD(e,CD);var t=wD(e.firestore,LD),n=FD(t),r=new XM(t);return function(e,t){var n=new MS;return e.asyncQueue.enqueueAndForget(o(f().mark((function r(){return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=o(f().mark((function e(t,n,r){var i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=AS(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.ai.Bs(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new DS(OS.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=xA(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,sD(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new EM(t,r,e._key,n,new SM(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function ZM(e){e=wD(e,ID);var t=wD(e.firestore,LD),n=FD(t),r=new XM(t);return function(e,t){var n=new MS;return e.asyncQueue.enqueueAndForget(o(f().mark((function r(){return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=o(f().mark((function e(t,n,r){var i,a,o,u,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,KR(t,n,!0);case 3:i=e.sent,a=new BA(n,i.hi),o=a.Gu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=xA(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,sD(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new IM(t,r,e,n)}))}function eL(e,t,n){e=wD(e,CD);var r=wD(e.firestore,LD),i=GM(e.converter,t,n);return iL(r,[nM(tM(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,JC.none())])}function tL(e,t,n){e=wD(e,CD);for(var r=wD(e.firestore,LD),i=tM(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return iL(r,[("string"==typeof(t=cl(t))||t instanceof KD?lM(i,"updateDoc",e._key,t,n,o):cM(i,"updateDoc",e._key,t)).toMutation(e._key,JC.exists(!0))])}function nL(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,u;e=cl(e);var s={includeMetadataChanges:!1},c=0;"object"!=typeof n[c]||DD(n[c])||(s=n[c],c++);var l,h,d,p={includeMetadataChanges:s.includeMetadataChanges};if(DD(n[c])){var v=n[c];n[c]=null===(i=v.next)||void 0===i?void 0:i.bind(v),n[c+1]=null===(a=v.error)||void 0===a?void 0:a.bind(v),n[c+2]=null===(u=v.complete)||void 0===u?void 0:u.bind(v)}if(e instanceof CD)h=wD(e.firestore,LD),d=bC(e._key.path),l={next:function(t){n[c]&&n[c](aL(h,e,t))},error:n[c+1],complete:n[c+2]};else{var m=wD(e,ID);h=wD(m.firestore,LD),d=m._query;var y=new XM(h);l={next:function(e){n[c]&&n[c](new IM(h,y,m,e))},error:n[c+1],complete:n[c+2]},RM(e._query)}return function(e,t,n,r){var i=new QO(r),a=new LA(t,i,n);return e.asyncQueue.enqueueAndForget(o(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=NA,t.next=3,fD(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.pa(),e.asyncQueue.enqueueAndForget(o(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=PA,t.next=3,fD(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(FD(h),d,p,l)}function rL(e,t){return function(e,t){var n=new QO(t);return e.asyncQueue.enqueueAndForget(o(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){AS(e).Tu.add(t),t.next()},t.next=3,fD(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.pa(),e.asyncQueue.enqueueAndForget(o(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){AS(e).Tu.delete(t)},t.next=3,fD(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(FD(e=wD(e,LD)),DD(t)?t:{next:t})}function iL(e,t){return function(e,t){var n=new MS;return e.asyncQueue.enqueueAndForget(o(f().mark((function r(){return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=ZA,r.next=3,lD(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(FD(e),t)}function aL(e,t,n){var r=n.docs.get(t._key),i=new XM(e);return new EM(e,i,t._key,r,new SM(n.hasPendingWrites,n.fromCache),t.converter)}var oL=function(e){cc(n,e);var t=dc(n);function n(e,r){var i;return ku(this,n),(i=t.call(this,e,r))._firestore=e,i}return _u(n,[{key:"get",value:function(e){var t=this,r=YM(e,this._firestore),i=new XM(this._firestore);return sc(oc(n.prototype),"get",this).call(this,e).then((function(e){return new EM(t._firestore,i,r._key,e._document,new SM(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){ku(this,e),this._firestore=t,this._transaction=n,this._dataReader=tM(t)}return _u(e,[{key:"get",value:function(e){var t=this,n=YM(e,this._firestore),r=new QM(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return RS();var i=e[0];if(i.isFoundDocument())return new wM(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new wM(t._firestore,r,n._key,null,n.converter);throw RS()}))}},{key:"set",value:function(e,t,n){var r=YM(e,this._firestore),i=GM(r.converter,t,n),a=nM(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=YM(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=cl(t))||t instanceof KD?lM(this._dataReader,"Transaction.update",i._key,t,n,o):cM(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=YM(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function uL(e,t){return function(e,t){var n=new MS;return e.asyncQueue.enqueueAndForget(o(f().mark((function r(){var i;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return aD(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new XO(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(FD(e=wD(e,LD)),(function(n){return t(new oL(e,n))}))}function sL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new oM("arrayUnion",t)}function cL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new uM("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){xS=e}(Gl),Ul(new vl("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new LD(i,new VS(e.getProvider("auth-internal")),new BS(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Zl(wS,"3.4.7",e),Zl(wS,"3.4.7","esm2017")}();function lL(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new DS("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function fL(){if("undefined"===typeof Uint8Array)throw new DS("unimplemented","Uint8Arrays are not available in this environment.")}function hL(){if("undefined"==typeof atob)throw new DS("unimplemented","Blobs are unavailable in Firestore in this environment.")}var dL=function(){function e(t){ku(this,e),this._delegate=t}return _u(e,[{key:"toBase64",value:function(){return hL(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return fL(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return hL(),new e(HD.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return fL(),new e(HD.fromUint8Array(t))}}]),e}();function pL(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=pc(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var vL=function(){function e(){ku(this,e)}return _u(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){WD(e=wD(e,LD));var n=FD(e),r=e._freezeSettings(),i=new HO;return VD(n,i,new WO(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){WD(e=wD(e,LD));var t=FD(e),n=e._freezeSettings(),r=new HO;return VD(t,r,new KO(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new DS(OS.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new MS;return e._queue.enqueueAndForgetEvenWhileRestricted(o(f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=o(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(JT.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,JT.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(NR(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),mL=function(){function e(t,n,r){var i=this;ku(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof vE||(this._appCompat=t)}return _u(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||TS("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ED(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return UD(this._delegate)}},{key:"disableNetwork",value:function(){return zD(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&yD("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new MS;return e.asyncQueue.enqueueAndForget(o(f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=lO,n.next=3,lD(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(FD(e=wD(e,LD)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return rL(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new DS("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new RL(this,ND(this._delegate,e))}catch(jB){throw _L(jB,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new wL(this,RD(this._delegate,e))}catch(jB){throw _L(jB,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new IL(this,function(e,t){if(e=wD(e,SD),mD("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new DS(OS.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new ID(e,null,function(e){return new yC(nE.emptyPath(),e)}(t))}(this._delegate,e))}catch(jB){throw _L(jB,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return uL(this._delegate,(function(n){return e(new gL(t,n))}))}},{key:"batch",value:function(){var e=this;return FD(this._delegate),new bL(new $M(this._delegate,(function(t){return iL(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return qD(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return BD(this._delegate,e).then((function(e){return e?new IL(t,e):null}))}}]),e}(),yL=function(e){cc(n,e);var t=dc(n);function n(e){var r;return ku(this,n),(r=t.call(this)).firestore=e,r}return _u(n,[{key:"convertBytes",value:function(e){return new dL(new HD(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return wL.forKey(t,this.firestore,null)}}]),n}(HM);var gL=function(){function e(t,n){ku(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new yL(t)}return _u(e,[{key:"get",value:function(e){var t=this,n=PL(e);return this._delegate.get(n).then((function(e){return new EL(t._firestore,new EM(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=PL(e);return n?(lL("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=PL(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=PL(e);return this._delegate.delete(t),this}}]),e}(),bL=function(){function e(t){ku(this,e),this._delegate=t}return _u(e,[{key:"set",value:function(e,t,n){var r=PL(e);return n?(lL("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=PL(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=PL(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),kL=function(){function e(t,n,r){ku(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return _u(e,[{key:"fromFirestore",value:function(e,t){var n=new CM(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new CL(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new yL(t),n),i.set(n,a)),a}}]),e}();kL.INSTANCES=new WeakMap;var wL=function(){function e(t,n){ku(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new yL(t)}return _u(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new RL(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new RL(this.firestore,ND(this._delegate,e))}catch(jB){throw _L(jB,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=cl(e))instanceof CD&&PD(this._delegate,e)}},{key:"set",value:function(e,t){t=lL("DocumentReference.set",t);try{return t?eL(this._delegate,e,t):eL(this._delegate,e)}catch(jB){throw _L(jB,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?tL(this._delegate,e):tL.apply(void 0,[this._delegate,e,t].concat(r))}catch(jB){throw _L(jB,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return iL(wD(e.firestore,LD),[new dI(e._key,JC.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=xL(n),a=SL(n,(function(t){return new EL(e.firestore,new EM(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return nL(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?JM(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=wD(e,CD);var t=wD(e.firestore,LD);return dD(FD(t),e._key,{source:"server"}).then((function(n){return aL(t,e,n)}))}(this._delegate):function(e){e=wD(e,CD);var t=wD(e.firestore,LD);return dD(FD(t),e._key).then((function(n){return aL(t,e,n)}))}(this._delegate),t.then((function(e){return new EL(n.firestore,new EM(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(kL.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new DS("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new CD(n._delegate,r,new bE(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new CD(n._delegate,r,t))}}]),e}();function _L(e,t,n){return e.message=e.message.replace(t,n),e}function xL(e){var t,n=pc(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!pL(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function SL(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=pL(e[0])?e[0]:pL(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var EL=function(){function e(t,n){ku(this,e),this._firestore=t,this._delegate=n}return _u(e,[{key:"ref",get:function(){return new wL(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return NM(this._delegate,e._delegate)}}]),e}(),CL=function(e){cc(n,e);var t=dc(n);function n(){return ku(this,n),t.apply(this,arguments)}return _u(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||RS()}(void 0!==t),t}}]),n}(EL),IL=function(){function e(t,n){ku(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new yL(t)}return _u(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,AM(this._delegate,function(e,t,n){var r=t,i=xM("where",e);return new OM(i,r,n)}(t,n,r)))}catch(jB){throw _L(jB,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,AM(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=xM("orderBy",e);return new DM(n,t)}(t,n)))}catch(jB){throw _L(jB,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,AM(this._delegate,function(e){return _D("limit",e),new MM("limit",e,"F")}(t)))}catch(jB){throw _L(jB,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,AM(this._delegate,function(e){return _D("limitToLast",e),new MM("limitToLast",e,"L")}(t)))}catch(jB){throw _L(jB,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,AM(this._delegate,FM.apply(void 0,arguments)))}catch(jB){throw _L(jB,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,AM(this._delegate,jM.apply(void 0,arguments)))}catch(jB){throw _L(jB,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,AM(this._delegate,UM.apply(void 0,arguments)))}catch(jB){throw _L(jB,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,AM(this._delegate,zM.apply(void 0,arguments)))}catch(jB){throw _L(jB,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return AD(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?ZM(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=wD(e,ID);var t=wD(e.firestore,LD),n=FD(t),r=new XM(t);return pD(n,e._query,{source:"server"}).then((function(n){return new IM(t,r,e,n)}))}(this._delegate):function(e){e=wD(e,ID);var t=wD(e.firestore,LD),n=FD(t),r=new XM(t);return RM(e._query),pD(n,e._query).then((function(n){return new IM(t,r,e,n)}))}(this._delegate),t.then((function(e){return new NL(n.firestore,new IM(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=xL(n),a=SL(n,(function(t){return new NL(e.firestore,new IM(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return nL(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(kL.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),TL=function(){function e(t,n){ku(this,e),this._firestore=t,this._delegate=n}return _u(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new CL(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),NL=function(){function e(t,n){ku(this,e),this._firestore=t,this._delegate=n}return _u(e,[{key:"query",get:function(){return new IL(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new CL(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new TL(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new CL(n._firestore,r))}))}},{key:"isEqual",value:function(e){return NM(this._delegate,e._delegate)}}]),e}(),RL=function(e){cc(n,e);var t=dc(n);function n(e,r){var i;return ku(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return _u(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new wL(this.firestore,e):null}},{key:"doc",value:function(e){try{return new wL(this.firestore,void 0===e?RD(this._delegate):RD(this._delegate,e))}catch(jB){throw _L(jB,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=wD(e.firestore,LD),r=RD(e),i=GM(e.converter,t);return iL(n,[nM(tM(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,JC.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new wL(t.firestore,e)}))}},{key:"isEqual",value:function(e){return PD(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(kL.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(IL);function PL(e){return wD(e,CD)}var AL,OL=function(){function e(){ku(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=vc(KD,n)}return _u(e,[{key:"isEqual",value:function(e){return(e=cl(e))instanceof KD&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(iE.keyField().canonicalString())}}]),e}(),DL=function(){function e(t){ku(this,e),this._delegate=t}return _u(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new aM("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new rM("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=sL.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=cL.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new sM("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),ML={Firestore:mL,GeoPoint:QD,Timestamp:YS,Blob:dL,Transaction:gL,WriteBatch:bL,DocumentReference:wL,DocumentSnapshot:EL,Query:IL,QueryDocumentSnapshot:CL,QuerySnapshot:NL,CollectionReference:RL,FieldPath:OL,FieldValue:DL,setLogLevel:function(e){!function(e){SS.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new vl("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},ML)))})(AL=uk,(function(e,t){return new mL(e,t,new vL)})),AL.registerVersion("@firebase/firestore-compat","0.1.16");var LL="@firebase/database",FL="0.12.7",jL="";function VL(e){jL=e}var UL=function(){function e(t){ku(this,e),this.domStorage_=t,this.prefix_="firebase:"}return _u(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Bc(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:qc(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),zL=function(){function e(){ku(this,e),this.cache_={},this.isInMemoryStorage=!0}return _u(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Kc(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),qL=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new UL(t)}}catch(jB){}return new zL},BL=qL("localStorage"),WL=qL("sessionStorage"),KL=new Nl("@firebase/database"),HL=function(){var e=1;return function(){return e++}}(),GL=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,kc(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new el;n.update(t);var r=n.digest();return xc.encodeByteArray(r)},QL=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Bc(r):r,t+=" "}return t},$L=null,YL=!0,XL=function(e,t){kc(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(KL.logLevel=kl.VERBOSE,$L=KL.log.bind(KL),t&&WL.set("logging_enabled",!0)):"function"===typeof e?$L=e:($L=null,WL.remove("logging_enabled"))},JL=function(){if(!0===YL&&(YL=!1,null===$L&&!0===WL.get("logging_enabled")&&XL(!0)),$L){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=QL.apply(null,t);$L(r)}},ZL=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];JL.apply(void 0,[e].concat(n))}},eF=function(){var e="FIREBASE INTERNAL ERROR: "+QL.apply(void 0,arguments);KL.error(e)},tF=function(){var e="FIREBASE FATAL ERROR: ".concat(QL.apply(void 0,arguments));throw KL.error(e),new Error(e)},nF=function(){var e="FIREBASE WARNING: "+QL.apply(void 0,arguments);KL.warn(e)},rF=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},iF="[MIN_NAME]",aF="[MAX_NAME]",oF=function(e,t){if(e===t)return 0;if(e===iF||t===aF)return-1;if(t===iF||e===aF)return 1;var n=mF(e),r=mF(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},uF=function(e,t){return e===t?0:e<t?-1:1},sF=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Bc(t))},cF=function e(t){if("object"!==typeof t||null===t)return Bc(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Bc(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},lF=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function fF(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var hF=function(e){kc(!rF(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var u=[];for(a=52;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var s=u.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(s.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var dF=new RegExp("^-?(0*)\\d{1,10}$"),pF=-2147483648,vF=2147483647,mF=function(e){if(dF.test(e)){var t=Number(e);if(t>=pF&&t<=vF)return t}return null},yF=function(e){try{e()}catch(jB){setTimeout((function(){var t=jB.stack||"";throw nF("Exception was thrown by user callback.",t),jB}),Math.floor(0))}},gF=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},bF=function(){function e(t,n){var r=this;ku(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return _u(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){nF('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),kF=function(){function e(t,n,r){var i=this;ku(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return _u(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(JL("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',nF(e)}}]),e}(),wF=function(){function e(t){ku(this,e),this.accessToken=t}return _u(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();wF.OWNER="owner";var _F="5",xF=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,SF="websocket",EF="long_polling",CF=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];ku(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=BL.get("host:"+t)||this._host}return _u(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&BL.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function IF(e,t,n){var r;if(kc("string"===typeof t,"typeof type must == string"),kc("object"===typeof n,"typeof params must == object"),t===SF)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==EF)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return fF(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var TF=function(){function e(){ku(this,e),this.counters_={}}return _u(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Kc(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return Ic(void 0,this.counters_)}}]),e}(),NF={},RF={};function PF(e){var t=e.toString();return NF[t]||(NF[t]=new TF),NF[t]}var AF=function(){function e(t){ku(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return _u(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&yF((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),OF="start",DF="close",MF=function(){function e(t,n,r,i,a,o,u){var s=this;ku(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ZL(t),this.stats_=PF(n),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),IF(n,EF,e)}}return _u(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new AF(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Mc()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new LF((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===OF)n.id=a,n.password=o;else{if(i!==DF)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=_F,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&xF.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Bc(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Sc(t),r=lF(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Mc()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Bc(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Mc()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),LF=function(){function e(t,n,r,i){if(ku(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Mc())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=HL(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(jB){JL("frame writing exception"),jB.stack&&JL(jB.stack),JL(jB)}}}return _u(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Mc()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){JL("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(jB){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||JL("No IE domain setting required")}catch(jB){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),FF=null;"undefined"!==typeof MozWebSocket?FF=MozWebSocket:"undefined"!==typeof WebSocket&&(FF=WebSocket);var jF=function(){function e(t,n,r,i,a,o,u){ku(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ZL(this.connId),this.stats_=PF(n),this.connURL=e.connectionURL_(n,o,u,i),this.nodeAdmin=n.nodeAdmin}return _u(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,BL.set("previous_websocket_failure",!0);try{if(Mc()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/".concat(_F,"/").concat(jL,"/").concat(process.platform,"/").concat(r),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(i.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/memento",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(i.proxy={origin:o}),this.mySock=new FF(this.connURL,[],i)}else{var u={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new FF(this.connURL,[],u)}}catch(jB){this.log_("Error instantiating WebSocket.");var s=jB.message||jB.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){BL.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=qc(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(kc(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Bc(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=lF(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(jB){this.log_("Exception thrown from WebSocket.send():",jB.message||jB.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r){var i={};return i.v=_F,!Mc()&&"undefined"!==typeof location&&location.hostname&&xF.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),IF(e,SF,i)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==FF&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return BL.isInMemoryStorage||!0===BL.get("previous_websocket_failure")}}]),e}();jF.responsesRequiredToBeHealthy=2,jF.healthyTimeout=3e4;var VF=function(){function e(t){ku(this,e),this.initTransports_(t)}return _u(e,[{key:"initTransports_",value:function(t){var n=jF&&jF.isAvailable(),r=n&&!jF.previouslyFailed();if(t.webSocketOnly&&(n||nF("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[jF];else{var i,a=this.transports_=[],o=pc(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var u=i.value;u&&u.isAvailable()&&a.push(u)}}catch(s){o.e(s)}finally{o.f()}}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[MF,jF]}}]),e}(),UF=function(){function e(t,n,r,i,a,o,u,s,c,l){ku(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=u,this.onDisconnect_=s,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ZL("c:"+this.id+":"),this.transportManager_=new VF(n),this.log_("Connection created"),this.start_()}return _u(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=gF((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=sF("t",e),n=sF("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=sF("t",e),n=sF("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=sF("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?eF("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):eF("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),_F!==n&&nF("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),gF((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):gF((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(BL.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),zF=function(){function e(){ku(this,e)}return _u(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),qF=function(){function e(t){ku(this,e),this.allowedEvents_=t,this.listeners_={},kc(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return _u(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=g(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){kc(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),BF=function(e){cc(n,e);var t=dc(n);function n(){var e;return ku(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Pc()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return _u(n,[{key:"getInitialEvent",value:function(e){return kc("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(qF),WF=function(){function e(t,n){if(ku(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return _u(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function KF(){return new WF("")}function HF(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function GF(e){return e.pieces_.length-e.pieceNum_}function QF(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new WF(e.pieces_,t)}function $F(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function YF(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function XF(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new WF(t,0)}function JF(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof WF)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new WF(n,0)}function ZF(e){return e.pieceNum_>=e.pieces_.length}function ej(e,t){var n=HF(e),r=HF(t);if(null===n)return t;if(n===r)return ej(QF(e),QF(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function tj(e,t){for(var n=YF(e,0),r=YF(t,0),i=0;i<n.length&&i<r.length;i++){var a=oF(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function nj(e,t){if(GF(e)!==GF(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function rj(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(GF(e)>GF(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var ij=_u((function e(t,n){ku(this,e),this.errorPrefix_=n,this.parts_=YF(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=sl(this.parts_[r]);aj(this)}));function aj(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+oj(e))}function oj(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var uj=function(e){cc(n,e);var t=dc(n);function n(){var e,r,i;return ku(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return _u(n,[{key:"getInitialEvent",value:function(e){return kc("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(qF),sj=1e3,cj=function(e){cc(n,e);var t=dc(n);function n(e,r,i,a,o,u,s,c){var l;if(ku(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=o,l.authTokenProvider_=u,l.appCheckTokenProvider_=s,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=ZL("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=sj,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Mc())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return uj.getInstance().on("visible",l.onVisible_,Zr(l)),-1===e.host.indexOf("fblocal")&&BF.getInstance().on("online",l.onOnline_,Zr(l)),l}return _u(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Bc(i)),kc(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){var t=this;this.initConnection_();var n=new Tc,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),kc(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),kc(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var u=o.d,s=o.s;n.warnOnListenWarnings_(u,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==s&&t.removeListen_(i,a),e.onComplete&&e.onComplete(s,u))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=Wc(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=Wc(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),kc(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Bc(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):eF("Unrecognized action received from server: "+Bc(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;kc(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=sj,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=sj,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=sj),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=o(f().mark((function e(){var t,r,i,a,o,u,s,l,h,d,p,v,m,y,g=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,u=!1,s=null,l=function(){s?s.close():(u=!0,i())},h=function(e){kc(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)},this.realtime_={close:l,sendRequest:h},d=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);case 19:p=e.sent,v=c(p,2),m=v[0],y=v[1],u?JL("getToken() completed but was canceled"):(JL("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=y&&y.token,s=new UF(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){nF(e+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),u||(this.repoInfo_.nodeAdmin&&nF(e.t0),l());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){JL("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){JL("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Gc(this.interruptReasons_)&&(this.reconnectDelay_=sj,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return cF(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new WF(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){JL("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){JL("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=pc(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=pc(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(s){r.e(s)}finally{r.f()}}}catch(s){t.e(s)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var u=0;u<this.outstandingGets_.length;u++)this.outstandingGets_[u]&&this.sendGet_(u)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Mc()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+jL.replace(/\./g,"-")]=1,Pc()?e["framework.cordova"]=1:Oc()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=BF.getInstance().currentlyOnline();return Gc(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Kc(e,"w")){var n=Hc(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();nF("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(zF);cj.nextPersistentConnectionId_=0,cj.nextConnectionId_=0;var lj,fj=function(){function e(t,n){ku(this,e),this.name=t,this.node=n}return _u(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),hj=function(){function e(){ku(this,e)}return _u(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new fj(iF,e),r=new fj(iF,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return fj.MIN}}]),e}(),dj=function(e){cc(n,e);var t=dc(n);function n(){return ku(this,n),t.apply(this,arguments)}return _u(n,[{key:"compare",value:function(e,t){return oF(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw wc("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return fj.MIN}},{key:"maxPost",value:function(){return new fj(aF,lj)}},{key:"makePost",value:function(e,t){return kc("string"===typeof e,"KeyIndex indexValue must always be a string."),new fj(e,lj)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return lj},set:function(e){lj=e}}]),n}(hj),pj=new dj,vj=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;ku(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return _u(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),mj=function(){function e(t,n,r,i,a){ku(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:bj.EMPTY_NODE,this.right=null!=a?a:bj.EMPTY_NODE}return _u(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return bj.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return bj.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();mj.RED=!0,mj.BLACK=!1;var yj,gj=function(){function e(){ku(this,e)}return _u(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new mj(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),bj=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;ku(this,e),this.comparator_=t,this.root_=n}return _u(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,mj.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,mj.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new vj(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new vj(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new vj(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new vj(this.root_,null,this.comparator_,!0,e)}}]),e}();function kj(e,t){return oF(e.name,t.name)}function wj(e,t){return oF(e,t)}bj.EMPTY_NODE=new gj;var _j,xj,Sj,Ej=function(e){return"number"===typeof e?"number:"+hF(e):"string:"+e},Cj=function(e){if(e.isLeafNode()){var t=e.val();kc("string"===typeof t||"number"===typeof t||"object"===typeof t&&Kc(t,".sv"),"Priority must be a string or number.")}else kc(e===yj||e.isEmpty(),"priority of unexpected type.");kc(e===yj||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Ij=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;ku(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,kc(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Cj(this.priorityNode_)}return _u(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return ZF(t)?this:".priority"===HF(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=HF(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(kc(".priority"!==r||1===GF(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(QF(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ej(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?hF(this.value_):this.value_,this.lazyHash_=GL(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(kc(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return kc(i>=0,"Unknown leaf type: "+n),kc(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return _j},set:function(e){_j=e}}]),e}();Ij.VALUE_TYPE_ORDER=["object","boolean","number","string"];var Tj,Nj,Rj=function(e){cc(n,e);var t=dc(n);function n(){return ku(this,n),t.apply(this,arguments)}return _u(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?oF(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return fj.MIN}},{key:"maxPost",value:function(){return new fj(aF,new Ij("[PRIORITY-POST]",Sj))}},{key:"makePost",value:function(e,t){var n=xj(e);return new fj(t,new Ij("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(hj),Pj=new Rj,Aj=Math.log(2),Oj=function(){function e(t){ku(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/Aj,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return _u(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),Dj=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,u=i-r;if(0===u)return null;if(1===u)return a=e[r],o=n?n(a):a,new mj(o,a.node,mj.BLACK,null,null);var s=parseInt(u/2,10)+r,c=t(r,s),l=t(s+1,i);return a=e[s],o=n?n(a):a,new mj(o,a.node,mj.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,u=function(t,r){var a=o-t,u=o;o-=t;var c=i(a+1,u),l=e[a],f=n?n(l):l;s(new mj(f,l.node,r,null,c))},s=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?u(f,mj.BLACK):(u(f,mj.BLACK),u(f,mj.RED))}return a}(new Oj(e.length));return new bj(r||t,a)},Mj={},Lj=function(){function e(t,n){ku(this,e),this.indexes_=t,this.indexSet_=n}return _u(e,[{key:"get",value:function(e){var t=Hc(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof bj?t:null}},{key:"hasIndex",value:function(e){return Kc(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){kc(t!==pj,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(fj.Wrap),u=o.getNext();u;)a=a||t.isDefinedOn(u.node),i.push(u),u=o.getNext();r=a?Dj(i,t.getCompare()):Mj;var s=t.toString(),c=Object.assign({},this.indexSet_);c[s]=t;var l=Object.assign({},this.indexes_);return l[s]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this,i=Qc(this.indexes_,(function(e,i){var a=Hc(r.indexSet_,i);if(kc(a,"Missing index implementation for "+i),e===Mj){if(a.isDefinedOn(t.node)){for(var o=[],u=n.getIterator(fj.Wrap),s=u.getNext();s;)s.name!==t.name&&o.push(s),s=u.getNext();return o.push(t),Dj(o,a.getCompare())}return Mj}var c=n.get(t.name),l=e;return c&&(l=l.remove(new fj(t.name,c))),l.insert(t,t.node)}));return new e(i,this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Qc(this.indexes_,(function(e){if(e===Mj)return e;var r=n.get(t.name);return r?e.remove(new fj(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return kc(Mj&&Pj,"ChildrenNode.ts has not been loaded"),Tj=Tj||new e({".priority":Mj},{".priority":Pj})}}]),e}(),Fj=function(){function e(t,n,r){ku(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Cj(this.priorityNode_),this.children_.isEmpty()&&kc(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return _u(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||Nj}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Nj:t}},{key:"getChild",value:function(e){var t=HF(e);return null===t?this:this.getImmediateChild(t).getChild(QF(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(kc(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new fj(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?Nj:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=HF(e);if(null===n)return t;kc(".priority"!==HF(e)||1===GF(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(QF(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(Pj,(function(o,u){n[o]=u.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var u in n)o[u]=n[u];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Ej(this.getPriority().val())+":"),this.forEachChild(Pj,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":GL(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new fj(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new fj(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new fj(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,fj.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,fj.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===jj?-1:0}},{key:"withIndex",value:function(t){if(t===pj||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===pj||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Pj),r=t.getIterator(Pj),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===pj?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return Nj||(Nj=new e(new bj(wj),null,Lj.Default))}}]),e}();Fj.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var jj=new(function(e){cc(n,e);var t=dc(n);function n(){return ku(this,n),t.call(this,new bj(wj),Fj.EMPTY_NODE,Lj.Default)}return _u(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return Fj.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(Fj));Object.defineProperties(fj,{MIN:{value:new fj(iF,Fj.EMPTY_NODE)},MAX:{value:new fj(aF,jj)}}),dj.__EMPTY_NODE=Fj.EMPTY_NODE,Ij.__childrenNodeConstructor=Fj,yj=jj,function(e){Sj=e}(jj);function Vj(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Fj.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),kc(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new Ij(n,Vj(t))}if(e instanceof Array){var r=Fj.EMPTY_NODE;return fF(e,(function(t,n){if(Kc(e,t)&&"."!==t.substring(0,1)){var i=Vj(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(Vj(t))}var i=[],a=!1,o=e;if(fF(o,(function(e,t){if("."!==e.substring(0,1)){var n=Vj(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new fj(e,n)))}})),0===i.length)return Fj.EMPTY_NODE;var u=Dj(i,kj,(function(e){return e.name}),wj);if(a){var s=Dj(i,Pj.getCompare());return new Fj(u,Vj(t),new Lj({".priority":s},{".priority":Pj}))}return new Fj(u,Vj(t),Lj.Default)}!function(e){xj=e}(Vj);var Uj=function(e){cc(n,e);var t=dc(n);function n(e){var r;return ku(this,n),(r=t.call(this)).indexPath_=e,kc(!ZF(e)&&".priority"!==HF(e),"Can't create PathIndex with empty path or .priority key"),r}return _u(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?oF(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=Vj(e),r=Fj.EMPTY_NODE.updateChild(this.indexPath_,n);return new fj(t,r)}},{key:"maxPost",value:function(){var e=Fj.EMPTY_NODE.updateChild(this.indexPath_,jj);return new fj(aF,e)}},{key:"toString",value:function(){return YF(this.indexPath_,0).join("/")}}]),n}(hj),zj=function(e){cc(n,e);var t=dc(n);function n(){return ku(this,n),t.apply(this,arguments)}return _u(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?oF(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return fj.MIN}},{key:"maxPost",value:function(){return fj.MAX}},{key:"makePost",value:function(e,t){var n=Vj(e);return new fj(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(hj),qj=new zj,Bj="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Wj=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=Bj.charAt(n%64),n=Math.floor(n/64);kc(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=Bj.charAt(t[r]);return kc(20===o.length,"nextPushId: Length should be 20."),o}}(),Kj=function(e){if("2147483647"===e)return"-";var t=mF(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return aF;var a=n[i],o=Bj.charAt(Bj.indexOf(a)+1);return n[i]=o,n.slice(0,i+1).join("")},Hj=function(e){if("-2147483648"===e)return iF;var t=mF(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=Bj.charAt(Bj.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function Gj(e){return{type:"value",snapshotNode:e}}function Qj(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function $j(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Yj(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Xj=function(){function e(t){ku(this,e),this.index_=t}return _u(e,[{key:"updateChild",value:function(e,t,n,r,i,a){kc(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange($j(t,o)):kc(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(Qj(t,n)):a.trackChildChange(Yj(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Pj,(function(e,r){t.hasChild(e)||n.trackChildChange($j(e,r))})),t.isLeafNode()||t.forEachChild(Pj,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Yj(t,r,i))}else n.trackChildChange(Qj(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?Fj.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),Jj=function(){function e(t){ku(this,e),this.indexedFilter_=new Xj(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return _u(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new fj(t,n))||(n=Fj.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=Fj.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(Fj.EMPTY_NODE);var i=this;return t.forEachChild(Pj,(function(e,t){i.matches(new fj(e,t))||(r=r.updateImmediateChild(e,Fj.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),Zj=function(){function e(t){ku(this,e),this.rangedFilter_=new Jj(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return _u(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new fj(t,n))||(n=Fj.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=Fj.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=Fj.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0:this.index_.compare(o,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(o.name,o.node),a++}}else{var u,s,c,l;if(r=(r=t.withIndex(this.index_)).updatePriority(Fj.EMPTY_NODE),this.reverse_){l=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),s=this.rangedFilter_.getStartPost();var f=this.index_.getCompare();c=function(e,t){return f(t,e)}}else l=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),s=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();for(var h=0,d=!1;l.hasNext();){var p=l.getNext();!d&&c(u,p)<=0&&(d=!0),d&&h<this.limit_&&c(p,s)<=0?h++:r=r.updateImmediateChild(p.name,Fj.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var u=e;kc(u.numChildren()===this.limit_,"");var s=new fj(t,n),c=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),l=this.rangedFilter_.matches(s);if(u.hasChild(t)){for(var f=u.getImmediateChild(t),h=r.getChildAfterChild(this.index_,c,this.reverse_);null!=h&&(h.name===t||u.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var d=null==h?1:a(h,s);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(Yj(t,n,f)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange($j(t,f));var p=u.updateImmediateChild(t,Fj.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(Qj(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}return n.isEmpty()?e:l&&a(c,s)>=0?(null!=i&&(i.trackChildChange($j(c.name,c.node)),i.trackChildChange(Qj(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(c.name,Fj.EMPTY_NODE)):e}}]),e}(),eV=function(){function e(){ku(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Pj}return _u(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return kc(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return kc(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:iF}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return kc(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return kc(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:aF}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return kc(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===Pj}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function tV(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function nV(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function rV(e,t){var n=e.copy();return n.index_=t,n}function iV(e){var t,n={};return e.isDefault()||(e.index_===Pj?t="$priority":e.index_===qj?t="$value":e.index_===pj?t="$key":(kc(e.index_ instanceof Uj,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Bc(t),e.startSet_&&(n.startAt=Bc(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Bc(e.indexStartName_))),e.endSet_&&(n.endAt=Bc(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Bc(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function aV(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Pj&&(t.i=e.index_.toString()),t}var oV=function(e){cc(n,e);var t=dc(n);function n(e,r,i,a){var o;return ku(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=ZL("p:rest:"),o.listens_={},o}return _u(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var u=n.getListenId_(e,r),s={};this.listens_[u]=s;var c=iV(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Hc(a.listens_,u)===s)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=iV(e._queryParams),r=e._path.toString(),i=new Tc;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=c(i,2),o=a[0],u=a[1];o&&o.accessToken&&(n.auth=o.accessToken),u&&u.token&&(n.ac=u.token);var s=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Xc(n);t.log_("Sending REST request for "+s);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+s+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=qc(l.responseText)}catch(jB){nF("Failed to parse JSON response for "+s+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&nF("Got unsuccessful REST response for "+s+" Status: "+l.status),r(l.status);r=null}},l.open("GET",s,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(kc(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(zF),uV=function(){function e(){ku(this,e),this.rootNode_=Fj.EMPTY_NODE}return _u(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function sV(){return{value:null,children:new Map}}function cV(e,t,n){if(ZF(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=HF(t);e.children.has(r)||e.children.set(r,sV()),cV(e.children.get(r),t=QF(t),n)}}function lV(e,t){if(ZF(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(Pj,(function(t,n){cV(e,new WF(t),n)})),lV(e,t)}if(e.children.size>0){var r=HF(t);if(t=QF(t),e.children.has(r))lV(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function fV(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){fV(r,new WF(t.toString()+"/"+e),n)}))}var hV,dV=function(){function e(t){ku(this,e),this.collection_=t,this.last_=null}return _u(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&fF(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),pV=function(){function e(t,n){ku(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new dV(t);var r=1e4+2e4*Math.random();gF(this.reportStats_.bind(this),Math.floor(r))}return _u(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;fF(t,(function(t,i){i>0&&Kc(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),gF(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function vV(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(hV||(hV={}));var mV,yV=function(){function e(t,n,r){ku(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=hV.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return _u(e,[{key:"operationForChild",value:function(t){if(ZF(this.path)){if(null!=this.affectedTree.value)return kc(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new WF(t));return new e(KF(),n,this.revert)}return kc(HF(this.path)===t,"operationForChild called for unrelated child."),new e(QF(this.path),this.affectedTree,this.revert)}}]),e}(),gV=function(){function e(t,n){ku(this,e),this.source=t,this.path=n,this.type=hV.LISTEN_COMPLETE}return _u(e,[{key:"operationForChild",value:function(t){return ZF(this.path)?new e(this.source,KF()):new e(this.source,QF(this.path))}}]),e}(),bV=function(){function e(t,n,r){ku(this,e),this.source=t,this.path=n,this.snap=r,this.type=hV.OVERWRITE}return _u(e,[{key:"operationForChild",value:function(t){return ZF(this.path)?new e(this.source,KF(),this.snap.getImmediateChild(t)):new e(this.source,QF(this.path),this.snap)}}]),e}(),kV=function(){function e(t,n,r){ku(this,e),this.source=t,this.path=n,this.children=r,this.type=hV.MERGE}return _u(e,[{key:"operationForChild",value:function(t){if(ZF(this.path)){var n=this.children.subtree(new WF(t));return n.isEmpty()?null:n.value?new bV(this.source,KF(),n.value):new e(this.source,KF(),n)}return kc(HF(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,QF(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),wV=function(){function e(t,n,r){ku(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return _u(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(ZF(e))return this.isFullyInitialized()&&!this.filtered_;var t=HF(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),_V=_u((function e(t){ku(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function xV(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw wc("Should only compare child_ events.");var r=new fj(t.childName,t.snapshotNode),i=new fj(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function SV(e,t){return{eventCache:e,serverCache:t}}function EV(e,t,n,r){return SV(new wV(t,n,r),e.serverCache)}function CV(e,t,n,r){return SV(e.eventCache,new wV(t,n,r))}function IV(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function TV(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var NV=function(){return mV||(mV=new bj(uF)),mV},RV=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:NV();ku(this,e),this.value=t,this.children=n}return _u(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:KF(),value:this.value};if(ZF(e))return null;var n=HF(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(QF(e),t);return null!=i?{path:JF(new WF(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(ZF(t))return this;var n=HF(t),r=this.children.get(n);return null!==r?r.subtree(QF(t)):new e(null)}},{key:"set",value:function(t,n){if(ZF(t))return new e(n,this.children);var r=HF(t),i=(this.children.get(r)||new e(null)).set(QF(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(ZF(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=HF(t),r=this.children.get(n);if(r){var i,a=r.remove(QF(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(ZF(e))return this.value;var t=HF(e),n=this.children.get(t);return n?n.get(QF(e)):null}},{key:"setTree",value:function(t,n){if(ZF(t))return n;var r,i=HF(t),a=(this.children.get(i)||new e(null)).setTree(QF(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(KF(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(JF(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,KF(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(ZF(e))return null;var i=HF(e),a=this.children.get(i);return a?a.findOnPath_(QF(e),JF(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,KF(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(ZF(t))return this;this.value&&r(n,this.value);var i=HF(t),a=this.children.get(i);return a?a.foreachOnPath_(QF(t),JF(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(KF(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(JF(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return fF(t,(function(e,t){n=n.set(new WF(e),t)})),n}}]),e}(),PV=function(){function e(t){ku(this,e),this.writeTree_=t}return _u(e,null,[{key:"empty",value:function(){return new e(new RV(null))}}]),e}();function AV(e,t,n){if(ZF(t))return new PV(new RV(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=ej(i,t);return a=a.updateChild(o,n),new PV(e.writeTree_.set(i,a))}var u=new RV(n),s=e.writeTree_.setTree(t,u);return new PV(s)}function OV(e,t,n){var r=e;return fF(n,(function(e,n){r=AV(r,JF(t,e),n)})),r}function DV(e,t){if(ZF(t))return PV.empty();var n=e.writeTree_.setTree(t,new RV(null));return new PV(n)}function MV(e,t){return null!=LV(e,t)}function LV(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(ej(n.path,t)):null}function FV(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Pj,(function(e,n){t.push(new fj(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new fj(e,n.value))})),t}function jV(e,t){if(ZF(t))return e;var n=LV(e,t);return new PV(null!=n?new RV(n):e.writeTree_.subtree(t))}function VV(e){return e.writeTree_.isEmpty()}function UV(e,t){return zV(KF(),e.writeTree_,t)}function zV(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(kc(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=zV(JF(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(JF(e,".priority"),r)),n}function qV(e,t){return nU(t,e)}function BV(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function WV(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));kc(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var u=e.allWrites[o];u.visible&&(o>=n&&KV(u,r.path)?i=!1:rj(r.path,u.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=GV(e.allWrites,HV,KF()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=DV(e.visibleWrites,r.path):fF(r.children,(function(t){e.visibleWrites=DV(e.visibleWrites,JF(r.path,t))}));return!0}return!1}function KV(e,t){if(e.snap)return rj(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&rj(JF(e.path,n),t))return!0;return!1}function HV(e){return e.visible}function GV(e,t,n){for(var r=PV.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,u=void 0;if(a.snap)rj(n,o)?r=AV(r,u=ej(n,o),a.snap):rj(o,n)&&(u=ej(o,n),r=AV(r,KF(),a.snap.getChild(u)));else{if(!a.children)throw wc("WriteRecord should have .snap or .children");if(rj(n,o))r=OV(r,u=ej(n,o),a.children);else if(rj(o,n))if(ZF(u=ej(o,n)))r=OV(r,KF(),a.children);else{var s=Hc(a.children,HF(u));if(s){var c=s.getChild(QF(u));r=AV(r,KF(),c)}}}}}return r}function QV(e,t,n,r,i){if(r||i){var a=jV(e.visibleWrites,t);if(!i&&VV(a))return n;if(i||null!=n||MV(a,KF())){return UV(GV(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(rj(e.path,t)||rj(t,e.path))}),t),n||Fj.EMPTY_NODE)}return null}var o=LV(e.visibleWrites,t);if(null!=o)return o;var u=jV(e.visibleWrites,t);return VV(u)?n:null!=n||MV(u,KF())?UV(u,n||Fj.EMPTY_NODE):null}function $V(e,t,n,r){return QV(e.writeTree,e.treePath,t,n,r)}function YV(e,t){return function(e,t,n){var r=Fj.EMPTY_NODE,i=LV(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Pj,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=jV(e.visibleWrites,t);return n.forEachChild(Pj,(function(e,t){var n=UV(jV(a,new WF(e)),t);r=r.updateImmediateChild(e,n)})),FV(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return FV(jV(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function XV(e,t,n,r){return function(e,t,n,r,i){kc(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=JF(t,n);if(MV(e.visibleWrites,a))return null;var o=jV(e.visibleWrites,a);return VV(o)?i.getChild(n):UV(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function JV(e,t){return function(e,t){return LV(e.visibleWrites,t)}(e.writeTree,JF(e.treePath,t))}function ZV(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var u,s=jV(e.visibleWrites,t),c=LV(s,KF());if(null!=c)u=c;else{if(null==n)return[];u=UV(s,n)}if((u=u.withIndex(o)).isEmpty()||u.isLeafNode())return[];for(var l=[],f=o.getCompare(),h=a?u.getReverseIteratorFrom(r,o):u.getIteratorFrom(r,o),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function eU(e,t,n){return function(e,t,n,r){var i=JF(t,n),a=LV(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?UV(jV(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function tU(e,t){return nU(JF(e.treePath,t),e.writeTree)}function nU(e,t){return{treePath:e,writeTree:t}}var rU=function(){function e(){ku(this,e),this.changeMap=new Map}return _u(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;kc("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),kc(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Yj(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,$j(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Qj(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw wc("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Yj(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),iU=new(function(){function e(){ku(this,e)}return _u(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),aU=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;ku(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return _u(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new wV(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return eU(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:TV(this.viewCache_),i=ZV(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function oU(e,t,n,r,i){var a,o,u=new rU;if(n.type===hV.OVERWRITE){var s=n;s.source.fromUser?a=cU(e,t,s.path,s.snap,r,i,u):(kc(s.source.fromServer,"Unknown source."),o=s.source.tagged||t.serverCache.isFiltered()&&!ZF(s.path),a=sU(e,t,s.path,s.snap,r,i,o,u))}else if(n.type===hV.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var u=t;return r.foreach((function(r,s){var c=JF(n,r);lU(t,HF(c))&&(u=cU(e,u,c,s,i,a,o))})),r.foreach((function(r,s){var c=JF(n,r);lU(t,HF(c))||(u=cU(e,u,c,s,i,a,o))})),u}(e,t,c.path,c.children,r,i,u):(kc(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=hU(e,t,c.path,c.children,r,i,o,u))}else if(n.type===hV.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=JV(r,n))return t;var u,s=new aU(r,t,i),c=t.eventCache.getNode();if(ZF(n)||".priority"===HF(n)){var l;if(t.serverCache.isFullyInitialized())l=$V(r,TV(t));else{var f=t.serverCache.getNode();kc(f instanceof Fj,"serverChildren would be complete if leaf node"),l=YV(r,f)}l=l,u=e.filter.updateFullNode(c,l,a)}else{var h=HF(n),d=eU(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),(u=null!=d?e.filter.updateChild(c,h,d,QF(n),s,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(c,h,Fj.EMPTY_NODE,QF(n),s,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=$V(r,TV(t))).isLeafNode()&&(u=e.filter.updateFullNode(u,o,a))}return o=t.serverCache.isFullyInitialized()||null!=JV(r,KF()),EV(t,u,o,e.filter.filtersNodes())}(e,t,l.path,r,i,u):function(e,t,n,r,i,a,o){if(null!=JV(i,n))return t;var u=t.serverCache.isFiltered(),s=t.serverCache;if(null!=r.value){if(ZF(n)&&s.isFullyInitialized()||s.isCompleteForPath(n))return sU(e,t,n,s.getNode().getChild(n),i,a,u,o);if(ZF(n)){var c=new RV(null);return s.getNode().forEachChild(pj,(function(e,t){c=c.set(new WF(e),t)})),hU(e,t,n,c,i,a,u,o)}return t}var l=new RV(null);return r.foreach((function(e,t){var r=JF(n,e);s.isCompleteForPath(r)&&(l=l.set(e,s.getNode().getChild(r)))})),hU(e,t,n,l,i,a,u,o)}(e,t,l.path,l.affectedTree,r,i,u)}else{if(n.type!==hV.LISTEN_COMPLETE)throw wc("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=CV(t,a.getNode(),a.isFullyInitialized()||ZF(n),a.isFiltered());return uU(e,o,n,r,iU,i)}(e,t,n.path,r,u)}var f=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=IV(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(Gj(IV(t)))}}(t,a,f),{viewCache:a,changes:f}}function uU(e,t,n,r,i,a){var o,u,s=t.eventCache;if(null!=JV(r,n))return t;if(ZF(n))if(kc(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=TV(t),l=YV(r,c instanceof Fj?c:Fj.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var f=$V(r,TV(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=HF(n);if(".priority"===h){kc(1===GF(n),"Can't have a priority with additional path components");var d=s.getNode(),p=XV(r,n,d,u=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):s.getNode()}else{var v,m=QF(n);if(s.isCompleteForChild(h)){u=t.serverCache.getNode();var y=XV(r,n,s.getNode(),u);v=null!=y?s.getNode().getImmediateChild(h).updateChild(m,y):s.getNode().getImmediateChild(h)}else v=eU(r,h,t.serverCache);o=null!=v?e.filter.updateChild(s.getNode(),h,v,m,i,a):s.getNode()}}return EV(t,o,s.isFullyInitialized()||ZF(n),e.filter.filtersNodes())}function sU(e,t,n,r,i,a,o,u){var s,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(ZF(n))s=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);s=l.updateFullNode(c.getNode(),f,null)}else{var h=HF(n);if(!c.isCompleteForPath(n)&&GF(n)>1)return t;var d=QF(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);s=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,iU,null)}var v=CV(t,s,c.isFullyInitialized()||ZF(n),l.filtersNodes());return uU(e,v,n,i,new aU(i,v,a),u)}function cU(e,t,n,r,i,a,o){var u,s,c=t.eventCache,l=new aU(i,t,a);if(ZF(n))s=e.filter.updateFullNode(t.eventCache.getNode(),r,o),u=EV(t,s,!0,e.filter.filtersNodes());else{var f=HF(n);if(".priority"===f)s=e.filter.updatePriority(t.eventCache.getNode(),r),u=EV(t,s,c.isFullyInitialized(),c.isFiltered());else{var h,d=QF(n),p=c.getNode().getImmediateChild(f);if(ZF(d))h=r;else{var v=l.getCompleteChild(f);h=null!=v?".priority"===$F(d)&&v.getChild(XF(d)).isEmpty()?v:v.updateChild(d,r):Fj.EMPTY_NODE}if(p.equals(h))u=t;else u=EV(t,e.filter.updateChild(c.getNode(),f,h,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return u}function lU(e,t){return e.eventCache.isCompleteForChild(t)}function fU(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function hU(e,t,n,r,i,a,o,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var s,c=t;s=ZF(n)?r:new RV(null).setTree(n,r);var l=t.serverCache.getNode();return s.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var s=fU(0,t.serverCache.getNode().getImmediateChild(n),r);c=sU(e,c,new WF(n),s,i,a,o,u)}})),s.children.inorderTraversal((function(n,r){var s=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!s){var f=fU(0,t.serverCache.getNode().getImmediateChild(n),r);c=sU(e,c,new WF(n),f,i,a,o,u)}})),c}var dU,pU=function(){function e(t,n){ku(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new Xj(i.getIndex()),o=(r=i).loadsAllData()?new Xj(r.getIndex()):r.hasLimit()?new Zj(r):new Jj(r);this.processor_=function(e){return{filter:e}}(o);var u=n.serverCache,s=n.eventCache,c=a.updateFullNode(Fj.EMPTY_NODE,u.getNode(),null),l=o.updateFullNode(Fj.EMPTY_NODE,s.getNode(),null),f=new wV(c,u.isFullyInitialized(),a.filtersNodes()),h=new wV(l,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=SV(h,f),this.eventGenerator_=new _V(this.query_)}return _u(e,[{key:"query",get:function(){return this.query_}}]),e}();function vU(e,t){var n=TV(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ZF(t)&&!n.getImmediateChild(HF(t)).isEmpty())?n.getChild(t):null}function mU(e){return 0===e.eventRegistrations_.length}function yU(e,t,n){var r=[];if(n){kc(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var u=e.eventRegistrations_[o];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function gU(e,t,n,r){t.type===hV.MERGE&&null!==t.source.queryId&&(kc(TV(e.viewCache_),"We should always have a full cache before handling merges"),kc(IV(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,u=oU(e.processor_,o,t,n,r);return i=e.processor_,a=u.viewCache,kc(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),kc(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),kc(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,bU(e,u.changes,u.viewCache.eventCache.getNode(),null)}function bU(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),xV(e,i,"child_removed",t,r,n),xV(e,i,"child_added",t,r,n),xV(e,i,"child_moved",a,r,n),xV(e,i,"child_changed",t,r,n),xV(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var kU,wU=_u((function e(){ku(this,e),this.views=new Map}));function _U(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return kc(null!=a,"SyncTree gave us an op for an invalid query."),gU(a,t,n,r)}var o,u=[],s=pc(e.views.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u=u.concat(gU(c,t,n,r))}}catch(l){s.e(l)}finally{s.f()}return u}function xU(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var u=$V(n,i?r:null),s=!1;u?s=!0:r instanceof Fj?(u=YV(n,r),s=!1):(u=Fj.EMPTY_NODE,s=!1);var c=SV(new wV(u,s,!1),new wV(r,i,!1));return new pU(t,c)}return o}function SU(e,t,n,r,i,a){var o=xU(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Pj,(function(e,t){r.push(Qj(e,t))})),n.isFullyInitialized()&&r.push(Gj(n.getNode())),bU(e,r,n.getNode(),t)}(o,n)}function EU(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],u=RU(e);if("default"===i){var s,l=pc(e.views.entries());try{for(l.s();!(s=l.n()).done;){var f=c(s.value,2),h=f[0],d=f[1];o=o.concat(yU(d,n,r)),mU(d)&&(e.views.delete(h),d.query._queryParams.loadsAllData()||a.push(d.query))}}catch(v){l.e(v)}finally{l.f()}}else{var p=e.views.get(i);p&&(o=o.concat(yU(p,n,r)),mU(p)&&(e.views.delete(i),p.query._queryParams.loadsAllData()||a.push(p.query)))}return u&&!RU(e)&&a.push(new(kc(dU,"Reference.ts has not been loaded"),dU)(t._repo,t._path)),{removed:a,events:o}}function CU(e){var t,n=[],r=pc(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function IU(e,t){var n,r=null,i=pc(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||vU(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function TU(e,t){if(t._queryParams.loadsAllData())return PU(e);var n=t._queryIdentifier;return e.views.get(n)}function NU(e,t){return null!=TU(e,t)}function RU(e){return null!=PU(e)}function PU(e){var t,n=pc(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var AU=1,OU=_u((function e(t){ku(this,e),this.listenProvider_=t,this.syncPointTree_=new RV(null),this.pendingWriteTree_={visibleWrites:PV.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function DU(e,t,n,r,i){return function(e,t,n,r,i){kc(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=AV(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?qU(e,new bV({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function MU(e,t,n,r){!function(e,t,n,r){kc(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=OV(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=RV.fromObject(n);return qU(e,new kV({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function LU(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=BV(e.pendingWriteTree_,t),i=WV(e.pendingWriteTree_,t);if(i){var a=new RV(null);return null!=r.snap?a=a.set(KF(),!0):fF(r.children,(function(e){a=a.set(new WF(e),!0)})),qU(e,new yV(r.path,a,n))}return[]}function FU(e,t,n){return qU(e,new bV({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function jU(e,t,n,r){var i=t._path,a=e.syncPointTree_.get(i),o=[];if(a&&("default"===t._queryIdentifier||NU(a,t))){var u=EU(a,t,n,r);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var s=u.removed;o=u.events;var c=-1!==s.findIndex((function(e){return e._queryParams.loadsAllData()})),l=e.syncPointTree_.findOnPath(i,(function(e,t){return RU(t)}));if(c&&!l){var f=e.syncPointTree_.subtree(i);if(!f.isEmpty())for(var h=function(e){return e.fold((function(e,t,n){if(t&&RU(t))return[PU(t)];var r=[];return t&&(r=CU(t)),fF(n,(function(e,t){r=r.concat(t)})),r}))}(f),d=0;d<h.length;++d){var p=h[d],v=p.query,m=KU(e,p);e.listenProvider_.startListening(XU(v),HU(e,v),m.hashFn,m.onComplete)}}if(!l&&s.length>0&&!r)if(c){e.listenProvider_.stopListening(XU(t),null)}else s.forEach((function(t){var n=e.queryToTagMap.get(GU(t));e.listenProvider_.stopListening(XU(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=GU(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}(e,s)}return o}function VU(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=ej(e,r);i=i||IU(t,n),a=a||RU(t)}));var o,u=e.syncPointTree_.get(r);(u?(a=a||RU(u),i=i||IU(u,KF())):(u=new wU,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i)?o=!0:(o=!1,i=Fj.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=IU(t,KF());n&&(i=i.updateImmediateChild(e,n))})));var s=NU(u,t);if(!s&&!t._queryParams.loadsAllData()){var c=GU(t);kc(!e.queryToTagMap.has(c),"View does not exist, but we have a tag");var l=AU++;e.queryToTagMap.set(c,l),e.tagToQueryMap.set(l,c)}var f=SU(u,t,n,qV(e.pendingWriteTree_,r),i,o);if(!s&&!a){var h=TU(u,t);f=f.concat(function(e,t,n){var r=t._path,i=HU(e,t),a=KU(e,n),o=e.listenProvider_.startListening(XU(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)kc(!RU(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var s=u.fold((function(e,t,n){if(!ZF(e)&&t&&RU(t))return[PU(t).query];var r=[];return t&&(r=r.concat(CU(t).map((function(e){return e.query})))),fF(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<s.length;++c){var l=s[c];e.listenProvider_.stopListening(XU(l),HU(e,l))}return o}(e,t,h))}return f}function UU(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=IU(n,ej(e,t));if(r)return r}));return QV(r,t,i,n,!0)}function zU(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=ej(e,n);r=r||IU(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||IU(i,KF()):(i=new wU,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new wV(r,!0,!1):null;return function(e){return IV(e.viewCache_)}(xU(i,t,qV(e.pendingWriteTree_,t._path),a?o.getNode():Fj.EMPTY_NODE,a))}function qU(e,t){return BU(t,e.syncPointTree_,null,qV(e.pendingWriteTree_,KF()))}function BU(e,t,n,r){if(ZF(e.path))return WU(e,t,n,r);var i=t.get(KF());null==n&&null!=i&&(n=IU(i,KF()));var a=[],o=HF(e.path),u=e.operationForChild(o),s=t.children.get(o);if(s&&u){var c=n?n.getImmediateChild(o):null,l=tU(r,o);a=a.concat(BU(u,s,c,l))}return i&&(a=a.concat(_U(i,e,r,n))),a}function WU(e,t,n,r){var i=t.get(KF());null==n&&null!=i&&(n=IU(i,KF()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,u=tU(r,t),s=e.operationForChild(t);s&&(a=a.concat(WU(s,i,o,u)))})),i&&(a=a.concat(_U(i,e,r,n))),a}function KU(e,t){var n=t.query,r=HU(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Fj.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=QU(e,n);if(r){var i=$U(r),a=i.path,o=i.queryId,u=ej(a,t);return YU(e,a,new gV(vV(o),u))}return[]}(e,n._path,r):function(e,t){return qU(e,new gV({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return jU(e,n,null,i)}}}function HU(e,t){var n=GU(t);return e.queryToTagMap.get(n)}function GU(e){return e._path.toString()+"$"+e._queryIdentifier}function QU(e,t){return e.tagToQueryMap.get(t)}function $U(e){var t=e.indexOf("$");return kc(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new WF(e.substr(0,t))}}function YU(e,t,n){var r=e.syncPointTree_.get(t);return kc(r,"Missing sync point for query tag that we're tracking"),_U(r,n,qV(e.pendingWriteTree_,t),null)}function XU(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(kc(kU,"Reference.ts has not been loaded"),kU)(e._repo,e._path):e}var JU=function(){function e(t){ku(this,e),this.node_=t}return _u(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),ZU=function(){function e(t,n){ku(this,e),this.syncTree_=t,this.path_=n}return _u(e,[{key:"getImmediateChild",value:function(t){var n=JF(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return UU(this.syncTree_,this.path_)}}]),e}(),ez=function(e,t,n){return e&&"object"===typeof e?(kc(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?tz(e[".sv"],t,n):"object"===typeof e[".sv"]?nz(e[".sv"],t):void kc(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},tz=function(e,t,n){if("timestamp"===e)return n.timestamp;kc(!1,"Unexpected server value: "+e)},nz=function(e,t,n){e.hasOwnProperty("increment")||kc(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&kc(!1,"Unexpected increment value: "+r);var i=t.node();if(kc(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},rz=function(e,t,n,r){return az(t,new ZU(n,e),r)},iz=function(e,t,n){return az(e,new JU(t),n)};function az(e,t,n){var r,i=e.getPriority().val(),a=ez(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,u=ez(o.getValue(),t,n);return u!==o.getValue()||a!==o.getPriority().val()?new Ij(u,Vj(a)):e}var s=e;return r=s,a!==s.getPriority().val()&&(r=r.updatePriority(new Ij(a))),s.forEachChild(Pj,(function(e,i){var a=az(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var oz=_u((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};ku(this,e),this.name=t,this.parent=n,this.node=r}));function uz(e,t){for(var n=t instanceof WF?t:new WF(t),r=e,i=HF(n);null!==i;){var a=Hc(r.node.children,i)||{children:{},childCount:0};r=new oz(i,r,a),i=HF(n=QF(n))}return r}function sz(e){return e.node.value}function cz(e,t){e.node.value=t,pz(e)}function lz(e){return e.node.childCount>0}function fz(e,t){fF(e.node.children,(function(n,r){t(new oz(n,e,r))}))}function hz(e,t,n,r){n&&!r&&t(e),fz(e,(function(e){hz(e,t,!0,r)})),n&&r&&t(e)}function dz(e){return new WF(null===e.parent?e.name:dz(e.parent)+"/"+e.name)}function pz(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===sz(e)&&!lz(e)}(n),i=Kc(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,pz(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,pz(e))}(e.parent,e.name,e)}var vz=/[\[\].#$\/\u0000-\u001F\u007F]/,mz=/[\[\].#$\u0000-\u001F\u007F]/,yz=10485760,gz=function(e){return"string"===typeof e&&0!==e.length&&!vz.test(e)},bz=function(e){return"string"===typeof e&&0!==e.length&&!mz.test(e)},kz=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!rF(e)||e&&"object"===typeof e&&Kc(e,".sv")},wz=function(e,t,n,r){r&&void 0===t||_z(al(e,"value"),t,n)},_z=function e(t,n,r){var i=r instanceof WF?new ij(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+oj(i));if("function"===typeof n)throw new Error(t+"contains a function "+oj(i)+" with contents = "+n.toString());if(rF(n))throw new Error(t+"contains "+n.toString()+" "+oj(i));if("string"===typeof n&&n.length>yz/3&&sl(n)>yz)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+oj(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(fF(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!gz(n)))throw new Error(t+" contains an invalid key ("+n+") "+oj(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var u,s;s=n,(u=i).parts_.length>0&&(u.byteLength_+=1),u.parts_.push(s),u.byteLength_+=sl(s),aj(u),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=sl(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+oj(i)+" in addition to actual children.")}},xz=function(e,t,n,r){if(!r||void 0!==t){var i=al(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];fF(t,(function(e,t){var r=new WF(e);if(_z(i,t,JF(n,r)),".priority"===$F(r)&&!kz(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=YF(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!gz(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(tj);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&rj(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},Sz=function(e,t,n){if(!n||void 0!==t){if(rF(t))throw new Error(al(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!kz(t))throw new Error(al(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ez=function(e,t,n,r){if((!r||void 0!==n)&&!gz(n))throw new Error(al(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Cz=function(e,t,n,r){if((!r||void 0!==n)&&!bz(n))throw new Error(al(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Iz=function(e,t){if(".info"===HF(t))throw new Error(e+" failed = Can't modify data under /.info/")},Tz=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!gz(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),bz(e)}(n))throw new Error(al(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Nz=_u((function e(){ku(this,e),this.eventLists_=[],this.recursionDepth_=0}));function Rz(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||nj(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function Pz(e,t,n){Rz(e,n),Oz(e,(function(e){return nj(e,t)}))}function Az(e,t,n){Rz(e,n),Oz(e,(function(e){return rj(e,t)||rj(t,e)}))}function Oz(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(Dz(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function Dz(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();$L&&JL("event: "+n.toString()),yF(r)}}}var Mz="repo_interrupt",Lz=function(){function e(t,n,r,i){ku(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Nz,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=sV(),this.transactionQueueTree_=new oz,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return _u(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function Fz(e,t,n){if(e.stats_=PF(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new oV(e.repoInfo_,(function(t,n,r,i){Uz(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return zz(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Bc(n)}catch(jB){throw new Error("Invalid authOverride provided: "+jB)}}e.persistentConnection_=new cj(e.repoInfo_,t,(function(t,n,r,i){Uz(e,t,n,r,i)}),(function(t){zz(e,t)}),(function(t){!function(e,t){fF(t,(function(t,n){qz(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return RF[n]||(RF[n]=t()),RF[n]}(e.repoInfo_,(function(){return new pV(e.stats_,e.server_)})),e.infoData_=new uV,e.infoSyncTree_=new OU({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=FU(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),qz(e,"connected",!1),e.serverSyncTree_=new OU({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);Az(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function jz(e){var t=e.infoData_.getNode(new WF(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Vz(e){return function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e}({timestamp:jz(e)})}function Uz(e,t,n,r,i){e.dataUpdateCount++;var a=new WF(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var u=Qc(n,(function(e){return Vj(e)}));o=function(e,t,n,r){var i=QU(e,r);if(i){var a=$U(i),o=a.path,u=a.queryId,s=ej(o,t),c=RV.fromObject(n);return YU(e,o,new kV(vV(u),s,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var s=Vj(n);o=function(e,t,n,r){var i=QU(e,r);if(null!=i){var a=$U(i),o=a.path,u=a.queryId,s=ej(o,t);return YU(e,o,new bV(vV(u),s,n))}return[]}(e.serverSyncTree_,a,s,i)}else if(r){var c=Qc(n,(function(e){return Vj(e)}));o=function(e,t,n){var r=RV.fromObject(n);return qU(e,new kV({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=Vj(n);o=FU(e.serverSyncTree_,a,l)}var f=a;o.length>0&&(f=eq(e,a)),Az(e.eventQueue_,f,o)}function zz(e,t){qz(e,"connected",t),!1===t&&function(e){$z(e,"onDisconnectEvents");var t=Vz(e),n=sV();fV(e.onDisconnect_,KF(),(function(r,i){var a=rz(r,i,e.serverSyncTree_,t);cV(n,r,a)}));var r=[];fV(n,KF(),(function(t,n){r=r.concat(FU(e.serverSyncTree_,t,n));var i=aq(e,t);eq(e,i)})),e.onDisconnect_=sV(),Az(e.eventQueue_,KF(),r)}(e)}function qz(e,t,n){var r=new WF("/.info/"+t),i=Vj(n);e.infoData_.updateSnapshot(r,i);var a=FU(e.infoSyncTree_,r,i);Az(e.eventQueue_,r,a)}function Bz(e){return e.nextWriteId_++}function Wz(e,t,n,r,i){$z(e,"set",{path:t.toString(),value:n,priority:r});var a=Vz(e),o=Vj(n,r),u=UU(e.serverSyncTree_,t),s=iz(o,u,a),c=Bz(e),l=DU(e.serverSyncTree_,t,s,c,!0);Rz(e.eventQueue_,l),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||nF("set at "+t+" failed: "+n);var o=LU(e.serverSyncTree_,c,!a);Az(e.eventQueue_,t,o),Yz(e,i,n,r)}));var f=aq(e,t);eq(e,f),Az(e.eventQueue_,f,[])}function Kz(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&lV(e.onDisconnect_,t),Yz(e,n,r,i)}))}function Hz(e,t,n,r){var i=Vj(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,a){"ok"===n&&cV(e.onDisconnect_,t,i),Yz(e,r,n,a)}))}function Gz(e,t,n){var r;r=".info"===HF(t._path)?jU(e.infoSyncTree_,t,n):jU(e.serverSyncTree_,t,n),Pz(e.eventQueue_,t._path,r)}function Qz(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Mz)}function $z(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];JL.apply(void 0,[t].concat(r))}function Yz(e,t,n,r){t&&yF((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function Xz(e,t,n){return UU(e.serverSyncTree_,t,n)||Fj.EMPTY_NODE}function Jz(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||iq(e,t),sz(t)){var n=nq(e,t);kc(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&Zz(e,dz(t),n)}else lz(t)&&fz(t,(function(t){Jz(e,t)}))}function Zz(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Xz(e,t,r),a=i,o=i.hash(),u=0;u<n.length;u++){var s=n[u];kc(0===s.status,"tryToSendTransactionQueue_: items in queue should all be run."),s.status=1,s.retryCount++;var c=ej(t,s.path);a=a.updateChild(c,s.currentOutputSnapshotRaw)}var l=a.val(!0),f=t;e.server_.put(f.toString(),l,(function(r){$z(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(LU(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},u=0;u<n.length;u++)o(u);iq(e,uz(e.transactionQueueTree_,t)),Jz(e,e.transactionQueueTree_),Az(e.eventQueue_,t,i);for(var s=0;s<a.length;s++)yF(a[s])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{nF("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}eq(e,t)}}),o)}function eq(e,t){var n=tq(e,t),r=dz(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),u=function(a){var u,s=t[a],c=ej(n,s.path),l=!1,f=void 0;if(kc(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)l=!0,f=s.abortReason,i=i.concat(LU(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=25)l=!0,f="maxretry",i=i.concat(LU(e.serverSyncTree_,s.currentWriteId,!0));else{var h=Xz(e,s.path,o);s.currentInputSnapshot=h;var d=t[a].update(h.val());if(void 0!==d){_z("transaction failed: Data returned ",d,s.path);var p=Vj(d);"object"===typeof d&&null!=d&&Kc(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=s.currentWriteId,m=Vz(e),y=iz(p,h,m);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=y,s.currentWriteId=Bz(e),o.splice(o.indexOf(v),1),i=(i=i.concat(DU(e.serverSyncTree_,s.path,y,s.currentWriteId,s.applyLocally))).concat(LU(e.serverSyncTree_,v,!0))}else l=!0,f="nodata",i=i.concat(LU(e.serverSyncTree_,s.currentWriteId,!0))}Az(e.eventQueue_,n,i),i=[],l&&(t[a].status=2,u=t[a].unwatcher,setTimeout(u,Math.floor(0)),t[a].onComplete&&("nodata"===f?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(f),!1,null)}))))},s=0;s<t.length;s++)u(s);iq(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)yF(r[c]);Jz(e,e.transactionQueueTree_)}(e,nq(e,n),r),r}function tq(e,t){var n,r=e.transactionQueueTree_;for(n=HF(t);null!==n&&void 0===sz(r);)r=uz(r,n),n=HF(t=QF(t));return r}function nq(e,t){var n=[];return rq(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function rq(e,t,n){var r=sz(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);fz(t,(function(t){rq(e,t,n)}))}function iq(e,t){var n=sz(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,cz(t,n.length>0?n:void 0)}fz(t,(function(t){iq(e,t)}))}function aq(e,t){var n=dz(tq(e,t)),r=uz(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){oq(e,t)})),oq(e,r),hz(r,(function(t){oq(e,t)})),n}function oq(e,t){var n=sz(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(kc(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(kc(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(LU(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?cz(t,void 0):n.length=a+1,Az(e.eventQueue_,dz(t),i);for(var u=0;u<r.length;u++)yF(r[u])}}var uq=function(e,t){var n=sq(e),r=n.namespace;"firebase.com"===n.domain&&tF(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||tF("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&nF("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new CF(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new WF(n.pathString)}},sq=function(e){var t="",n="",r="",i="",a="",o=!0,u="https",s=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(u=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(l,f)),l<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(jB){}t+="/"+i}return t}(e.substring(l,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=pc(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):nF("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(c=t.indexOf(":"))>=0?(o="https"===u||"wss"===u,s=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:s,domain:n,subdomain:r,secure:o,scheme:u,pathString:i,namespace:a}},cq=function(){function e(t,n,r,i){ku(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return _u(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+Bc(this.snapshot.exportVal())}}]),e}(),lq=function(){function e(t,n,r){ku(this,e),this.eventRegistration=t,this.error=n,this.path=r}return _u(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),fq=function(){function e(t,n){ku(this,e),this.snapshotCallback=t,this.cancelCallback=n}return _u(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return kc(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),hq=function(){function e(t,n){ku(this,e),this._repo=t,this._path=n}return _u(e,[{key:"cancel",value:function(){var e=new Tc;return Kz(this._repo,this._path,e.wrapCallback((function(){}))),e.promise}},{key:"remove",value:function(){Iz("OnDisconnect.remove",this._path);var e=new Tc;return Hz(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise}},{key:"set",value:function(e){Iz("OnDisconnect.set",this._path),wz("OnDisconnect.set",e,this._path,!1);var t=new Tc;return Hz(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}},{key:"setWithPriority",value:function(e,t){Iz("OnDisconnect.setWithPriority",this._path),wz("OnDisconnect.setWithPriority",e,this._path,!1),Sz("OnDisconnect.setWithPriority",t,!1);var n=new Tc;return function(e,t,n,r,i){var a=Vj(n,r);e.server_.onDisconnectPut(t.toString(),a.val(!0),(function(n,r){"ok"===n&&cV(e.onDisconnect_,t,a),Yz(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise}},{key:"update",value:function(e){Iz("OnDisconnect.update",this._path),xz("OnDisconnect.update",e,this._path,!1);var t=new Tc;return function(e,t,n,r){if(Gc(n))return JL("onDisconnect().update() called with empty data.  Don't do anything."),void Yz(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,a){"ok"===i&&fF(n,(function(n,r){var i=Vj(r);cV(e.onDisconnect_,JF(t,n),i)})),Yz(0,r,i,a)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}}]),e}(),dq=function(){function e(t,n,r,i){ku(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return _u(e,[{key:"key",get:function(){return ZF(this._path)?null:$F(this._path)}},{key:"ref",get:function(){return new yq(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=aV(this._queryParams),t=cF(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return aV(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=cl(t))instanceof e))return!1;var n=this._repo===t._repo,r=nj(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();function pq(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function vq(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===pj){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==iF)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==aF)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===Pj){if(null!=t&&!kz(t)||null!=n&&!kz(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(kc(e.getIndex()instanceof Uj||e.getIndex()===qj,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function mq(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var yq=function(e){cc(n,e);var t=dc(n);function n(e,r){return ku(this,n),t.call(this,e,r,new eV,!1)}return _u(n,[{key:"parent",get:function(){var e=XF(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(dq),gq=function(){function e(t,n,r){ku(this,e),this._node=t,this.ref=n,this._index=r}return _u(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new WF(t),r=wq(this.ref,t);return new e(this._node.getChild(n),r,Pj)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,wq(n.ref,r),Pj))}))}},{key:"hasChild",value:function(e){var t=new WF(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function bq(e,t){return(e=cl(e))._checkNotDeleted("ref"),void 0!==t?wq(e._root,t):e._root}function kq(e,t){(e=cl(e))._checkNotDeleted("refFromURL");var n=uq(t,e._repo.repoInfo_.nodeAdmin);Tz("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||tF("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),bq(e,n.path.toString())}function wq(e,t){var n,r,i,a;return null===HF((e=cl(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Cz(n,r,i,a)):Cz("child","path",t,!1),new yq(e._repo,JF(e._path,t))}function _q(e,t){e=cl(e),Iz("push",e._path),wz("push",t,e._path,!0);var n,r=jz(e._repo),i=Wj(r),a=wq(e,i),o=wq(e,i);return n=null!=t?Sq(o,t).then((function(){return o})):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function xq(e){return Iz("remove",e._path),Sq(e,null)}function Sq(e,t){e=cl(e),Iz("set",e._path),wz("set",t,e._path,!1);var n=new Tc;return Wz(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Eq(e,t){e=cl(e),Iz("setPriority",e._path),Sz("setPriority",t,!1);var n=new Tc;return Wz(e._repo,JF(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function Cq(e,t,n){if(Iz("setWithPriority",e._path),wz("setWithPriority",t,e._path,!1),Sz("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new Tc;return Wz(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function Iq(e,t){xz("update",t,e._path,!1);var n=new Tc;return function(e,t,n,r){$z(e,"update",{path:t.toString(),value:n});var i=!0,a=Vz(e),o={};if(fF(n,(function(n,r){i=!1,o[n]=rz(JF(t,n),Vj(r),e.serverSyncTree_,a)})),i)JL("update() called with empty data.  Don't do anything."),Yz(0,r,"ok",void 0);else{var u=Bz(e),s=MU(e.serverSyncTree_,t,o,u);Rz(e.eventQueue_,s),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||nF("update at "+t+" failed: "+n);var o=LU(e.serverSyncTree_,u,!a),s=o.length>0?eq(e,t):t;Az(e.eventQueue_,s,o),Yz(0,r,n,i)})),fF(n,(function(n){var r=aq(e,JF(t,n));eq(e,r)})),Az(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function Tq(e){return function(e,t){var n=zU(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=Vj(n).withIndex(t._queryParams.getIndex()),i=FU(e.serverSyncTree_,t._path,r);return Pz(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return $z(e,"get for query "+Bc(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=cl(e))._repo,e).then((function(t){return new gq(t,new yq(e._repo,e._path),e._queryParams.getIndex())}))}var Nq=function(){function e(t){ku(this,e),this.callbackContext=t}return _u(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new cq("value",this,new gq(e.snapshotNode,new yq(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new lq(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),Rq=function(){function e(t,n){ku(this,e),this.eventType=t,this.callbackContext=n}return _u(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new lq(this,e,t):null}},{key:"createEvent",value:function(e,t){kc(null!=e.childName,"Child events should have a childName.");var n=wq(new yq(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new cq(e.type,this,new gq(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function Pq(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,u=function(t,n){Gz(e._repo,e,c),o(t,n)};u.userCallback=n.userCallback,u.context=n.context,n=u}var s=new fq(n,a||void 0),c="value"===t?new Nq(s):new Rq(t,s);return function(e,t,n){var r;r=".info"===HF(t._path)?VU(e.infoSyncTree_,t,n):VU(e.serverSyncTree_,t,n),Pz(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return Gz(e._repo,e,c)}}function Aq(e,t,n,r){return Pq(e,"value",t,n,r)}function Oq(e,t,n,r){return Pq(e,"child_added",t,n,r)}function Dq(e,t,n,r){return Pq(e,"child_changed",t,n,r)}function Mq(e,t,n,r){return Pq(e,"child_moved",t,n,r)}function Lq(e,t,n,r){return Pq(e,"child_removed",t,n,r)}function Fq(e,t,n){var r=null,i=n?new fq(n):null;"value"===t?r=new Nq(i):t&&(r=new Rq(t,i)),Gz(e._repo,e,r)}var jq=_u((function e(){ku(this,e)})),Vq=function(e){cc(n,e);var t=dc(n);function n(e,r){var i;return ku(this,n),(i=t.call(this))._value=e,i._key=r,i}return _u(n,[{key:"_apply",value:function(e){wz("endAt",this._value,e._path,!0);var t=nV(e._queryParams,this._value,this._key);if(mq(t),vq(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new dq(e._repo,e._path,t,e._orderByCalled)}}]),n}(jq);function Uq(e,t){return Ez("endAt","key",t,!0),new Vq(e,t)}var zq=function(e){cc(n,e);var t=dc(n);function n(e,r){var i;return ku(this,n),(i=t.call(this))._value=e,i._key=r,i}return _u(n,[{key:"_apply",value:function(e){wz("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===pj?("string"===typeof t&&(t=Hj(t)),r=nV(e,t,n)):r=nV(e,t,null==n?iF:Hj(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(mq(t),vq(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new dq(e._repo,e._path,t,e._orderByCalled)}}]),n}(jq);function qq(e,t){return Ez("endBefore","key",t,!0),new zq(e,t)}var Bq=function(e){cc(n,e);var t=dc(n);function n(e,r){var i;return ku(this,n),(i=t.call(this))._value=e,i._key=r,i}return _u(n,[{key:"_apply",value:function(e){wz("startAt",this._value,e._path,!0);var t=tV(e._queryParams,this._value,this._key);if(mq(t),vq(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new dq(e._repo,e._path,t,e._orderByCalled)}}]),n}(jq);function Wq(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return Ez("startAt","key",t,!0),new Bq(e,t)}var Kq=function(e){cc(n,e);var t=dc(n);function n(e,r){var i;return ku(this,n),(i=t.call(this))._value=e,i._key=r,i}return _u(n,[{key:"_apply",value:function(e){wz("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===pj?("string"===typeof t&&(t=Kj(t)),r=tV(e,t,n)):r=tV(e,t,null==n?aF:Kj(n)),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(mq(t),vq(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new dq(e._repo,e._path,t,e._orderByCalled)}}]),n}(jq);function Hq(e,t){return Ez("startAfter","key",t,!0),new Kq(e,t)}var Gq=function(e){cc(n,e);var t=dc(n);function n(e){var r;return ku(this,n),(r=t.call(this))._limit=e,r}return _u(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new dq(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(jq);function Qq(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Gq(e)}var $q=function(e){cc(n,e);var t=dc(n);function n(e){var r;return ku(this,n),(r=t.call(this))._limit=e,r}return _u(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new dq(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(jq);function Yq(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new $q(e)}var Xq=function(e){cc(n,e);var t=dc(n);function n(e){var r;return ku(this,n),(r=t.call(this))._path=e,r}return _u(n,[{key:"_apply",value:function(e){pq(e,"orderByChild");var t=new WF(this._path);if(ZF(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new Uj(t),r=rV(e._queryParams,n);return vq(r),new dq(e._repo,e._path,r,!0)}}]),n}(jq);function Jq(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Cz("orderByChild","path",e,!1),new Xq(e)}var Zq=function(e){cc(n,e);var t=dc(n);function n(){return ku(this,n),t.apply(this,arguments)}return _u(n,[{key:"_apply",value:function(e){pq(e,"orderByKey");var t=rV(e._queryParams,pj);return vq(t),new dq(e._repo,e._path,t,!0)}}]),n}(jq);function eB(){return new Zq}var tB=function(e){cc(n,e);var t=dc(n);function n(){return ku(this,n),t.apply(this,arguments)}return _u(n,[{key:"_apply",value:function(e){pq(e,"orderByPriority");var t=rV(e._queryParams,Pj);return vq(t),new dq(e._repo,e._path,t,!0)}}]),n}(jq);function nB(){return new tB}var rB=function(e){cc(n,e);var t=dc(n);function n(){return ku(this,n),t.apply(this,arguments)}return _u(n,[{key:"_apply",value:function(e){pq(e,"orderByValue");var t=rV(e._queryParams,qj);return vq(t),new dq(e._repo,e._path,t,!0)}}]),n}(jq);function iB(){return new rB}var aB=function(e){cc(n,e);var t=dc(n);function n(e,r){var i;return ku(this,n),(i=t.call(this))._value=e,i._key=r,i}return _u(n,[{key:"_apply",value:function(e){if(wz("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Vq(this._value,this._key)._apply(new Bq(this._value,this._key)._apply(e))}}]),n}(jq);function oB(e,t){return Ez("equalTo","key",t,!0),new aB(e,t)}function uB(e){for(var t=cl(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];t=u._apply(t)}return t}!function(e){kc(!dU,"__referenceConstructor has already been defined"),dU=e}(yq),function(e){kc(!kU,"__referenceConstructor has already been defined"),kU=e}(yq);var sB={},cB=!1;function lB(e,t,n,r){e.repoInfo_=new CF("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function fB(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||tF("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),JL("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,u=uq(a,i),s=u.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"/memento",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),c?(o=!0,a="http://".concat(c,"?ns=").concat(s.namespace),s=(u=uq(a,i)).repoInfo):o=!u.repoInfo.secure;var l=i&&o?new wF(wF.OWNER):new kF(e.name,e.options,t);Tz("Invalid Firebase Database URL",u),ZF(u.path)||tF("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=sB[t.name];i||(i={},sB[t.name]=i);var a=i[e.toURLString()];a&&tF("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new Lz(e,cB,n,r),i[e.toURLString()]=a,a}(s,e,l,new bF(e.name,n));return new hB(f,e)}var hB=function(){function e(t,n){ku(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return _u(e,[{key:"_repo",get:function(){return this._instanceStarted||(Fz(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new yq(this._repo,KF())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=sB[t];n&&n[e.key]===e||tF("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Qz(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&tF("Cannot call "+e+" on a deleted database.")}}]),e}();function dB(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=cl(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&tF("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&tF('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new wF(wF.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:Nc(r.mockUserToken,e.app.options.projectId);a=new wF(o)}lB(i,t,n,a)}function pB(e){(e=cl(e))._checkNotDeleted("goOffline"),Qz(e._repo)}function vB(e){var t;(e=cl(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(Mz)}function mB(e,t){XL(e,t)}var yB={".sv":"timestamp"};var gB=function(){function e(t,n){ku(this,e),this.committed=t,this.snapshot=n}return _u(e,[{key:"toJSON",value:function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}();function bB(e,t,n){var r;if(e=cl(e),Iz("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new Tc,o=Aq(e,(function(){}));return function(e,t,n,r,i,a){$z(e,"transaction on "+t);var o={path:t,update:n,onComplete:r,status:null,order:HL(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=Xz(e,t,void 0);o.currentInputSnapshot=u;var s=o.update(u.val());if(void 0===s)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{_z("transaction failed: Data returned ",s,o.path),o.status=0;var c,l=uz(e.transactionQueueTree_,t),f=sz(l)||[];f.push(o),cz(l,f),"object"===typeof s&&null!==s&&Kc(s,".priority")?(c=Hc(s,".priority"),kc(kz(c),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):c=(UU(e.serverSyncTree_,t)||Fj.EMPTY_NODE).getPriority().val();var h=Vz(e),d=Vj(s,c),p=iz(d,u,h);o.currentOutputSnapshotRaw=d,o.currentOutputSnapshotResolved=p,o.currentWriteId=Bz(e);var v=DU(e.serverSyncTree_,t,p,o.currentWriteId,o.applyLocally);Az(e.eventQueue_,t,v),Jz(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new gq(r,new yq(e._repo,e._path),Pj),a.resolve(new gB(n,i)))}),o,i),a.promise}cj.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},cj.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){VL(Gl),Ul(new vl("database",(function(e,t){var n=t.instanceIdentifier;return fB(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Zl(LL,FL,e),Zl(LL,FL,"esm2017")}();var kB=new Nl("@firebase/database-compat"),wB=function(e){var t="FIREBASE WARNING: "+e;kB.warn(t)},_B=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(al(e,t)+"must be a boolean.")},xB=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(al(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},SB=function(){function e(t){ku(this,e),this._delegate=t}return _u(e,[{key:"cancel",value:function(e){il("OnDisconnect.cancel",0,1,arguments.length),ol("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"remove",value:function(e){il("OnDisconnect.remove",0,1,arguments.length),ol("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"set",value:function(e,t){il("OnDisconnect.set",1,2,arguments.length),ol("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"setWithPriority",value:function(e,t,n){il("OnDisconnect.setWithPriority",2,3,arguments.length),ol("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"update",value:function(e,t){if(il("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,wB("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ol("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}}]),e}(),EB=function(){function e(t,n){ku(this,e),this.committed=t,this.snapshot=n}return _u(e,[{key:"toJSON",value:function(){return il("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}(),CB=function(){function e(t,n){ku(this,e),this._database=t,this._delegate=n}return _u(e,[{key:"val",value:function(){return il("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}},{key:"exportVal",value:function(){return il("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}},{key:"toJSON",value:function(){return il("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"exists",value:function(){return il("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}},{key:"child",value:function(t){return il("DataSnapshot.child",0,1,arguments.length),t=String(t),Cz("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}},{key:"hasChild",value:function(e){return il("DataSnapshot.hasChild",1,1,arguments.length),Cz("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}},{key:"getPriority",value:function(){return il("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}},{key:"forEach",value:function(t){var n=this;return il("DataSnapshot.forEach",1,1,arguments.length),ol("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))}},{key:"hasChildren",value:function(){return il("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}},{key:"key",get:function(){return this._delegate.key}},{key:"numChildren",value:function(){return il("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}},{key:"getRef",value:function(){return il("DataSnapshot.ref",0,0,arguments.length),new TB(this._database,this._delegate.ref)}},{key:"ref",get:function(){return this.getRef()}}]),e}(),IB=function(){function e(t,n){ku(this,e),this.database=t,this._delegate=n}return _u(e,[{key:"on",value:function(t,n,r,i){var a,o=this;il("Query.on",2,4,arguments.length),ol("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),s=function(e,t){n.call(u.context,new CB(o.database,e),t)};s.userCallback=n,s.context=u.context;var c=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return Aq(this._delegate,s,c),n;case"child_added":return Oq(this._delegate,s,c),n;case"child_removed":return Lq(this._delegate,s,c),n;case"child_changed":return Dq(this._delegate,s,c),n;case"child_moved":return Mq(this._delegate,s,c),n;default:throw new Error(al("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}},{key:"off",value:function(e,t,n){if(il("Query.off",0,3,arguments.length),xB("Query.off",e,!0),ol("Query.off","callback",t,!0),ul("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,Fq(this._delegate,e,r)}else Fq(this._delegate,e)}},{key:"get",value:function(){var e=this;return Tq(this._delegate).then((function(t){return new CB(e.database,t)}))}},{key:"once",value:function(t,n,r,i){var a=this;il("Query.once",1,4,arguments.length),ol("Query.once","callback",n,!0);var o=e.getCancelAndContextArgs_("Query.once",r,i),u=new Tc,s=function(e,t){var r=new CB(a.database,e);n&&n.call(o.context,r,t),u.resolve(r)};s.userCallback=n,s.context=o.context;var c=function(e){o.cancel&&o.cancel.call(o.context,e),u.reject(e)};switch(t){case"value":Aq(this._delegate,s,c,{onlyOnce:!0});break;case"child_added":Oq(this._delegate,s,c,{onlyOnce:!0});break;case"child_removed":Lq(this._delegate,s,c,{onlyOnce:!0});break;case"child_changed":Dq(this._delegate,s,c,{onlyOnce:!0});break;case"child_moved":Mq(this._delegate,s,c,{onlyOnce:!0});break;default:throw new Error(al("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise}},{key:"limitToFirst",value:function(t){return il("Query.limitToFirst",1,1,arguments.length),new e(this.database,uB(this._delegate,Qq(t)))}},{key:"limitToLast",value:function(t){return il("Query.limitToLast",1,1,arguments.length),new e(this.database,uB(this._delegate,Yq(t)))}},{key:"orderByChild",value:function(t){return il("Query.orderByChild",1,1,arguments.length),new e(this.database,uB(this._delegate,Jq(t)))}},{key:"orderByKey",value:function(){return il("Query.orderByKey",0,0,arguments.length),new e(this.database,uB(this._delegate,eB()))}},{key:"orderByPriority",value:function(){return il("Query.orderByPriority",0,0,arguments.length),new e(this.database,uB(this._delegate,nB()))}},{key:"orderByValue",value:function(){return il("Query.orderByValue",0,0,arguments.length),new e(this.database,uB(this._delegate,iB()))}},{key:"startAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return il("Query.startAt",0,2,arguments.length),new e(this.database,uB(this._delegate,Wq(t,n)))}},{key:"startAfter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return il("Query.startAfter",0,2,arguments.length),new e(this.database,uB(this._delegate,Hq(t,n)))}},{key:"endAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return il("Query.endAt",0,2,arguments.length),new e(this.database,uB(this._delegate,Uq(t,n)))}},{key:"endBefore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return il("Query.endBefore",0,2,arguments.length),new e(this.database,uB(this._delegate,qq(t,n)))}},{key:"equalTo",value:function(t,n){return il("Query.equalTo",1,2,arguments.length),new e(this.database,uB(this._delegate,oB(t,n)))}},{key:"toString",value:function(){return il("Query.toString",0,0,arguments.length),this._delegate.toString()}},{key:"toJSON",value:function(){return il("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"isEqual",value:function(t){if(il("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}},{key:"ref",get:function(){return new TB(this.database,new yq(this._delegate._repo,this._delegate._path))}}],[{key:"getCancelAndContextArgs_",value:function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,ol(e,"cancel",r.cancel,!0),r.context=n,ul(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(al(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}}]),e}(),TB=function(e){cc(n,e);var t=dc(n);function n(e,r){var i;return ku(this,n),(i=t.call(this,e,new dq(r._repo,r._path,new eV,!1))).database=e,i._delegate=r,i}return _u(n,[{key:"getKey",value:function(){return il("Reference.key",0,0,arguments.length),this._delegate.key}},{key:"child",value:function(e){return il("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new n(this.database,wq(this._delegate,e))}},{key:"getParent",value:function(){il("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new n(this.database,e):null}},{key:"getRoot",value:function(){return il("Reference.root",0,0,arguments.length),new n(this.database,this._delegate.root)}},{key:"set",value:function(e,t){il("Reference.set",1,2,arguments.length),ol("Reference.set","onComplete",t,!0);var n=Sq(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"update",value:function(e,t){if(il("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,wB("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Iz("Reference.update",this._delegate._path),ol("Reference.update","onComplete",t,!0);var i=Iq(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}},{key:"setWithPriority",value:function(e,t,n){il("Reference.setWithPriority",2,3,arguments.length),ol("Reference.setWithPriority","onComplete",n,!0);var r=Cq(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"remove",value:function(e){il("Reference.remove",0,1,arguments.length),ol("Reference.remove","onComplete",e,!0);var t=xq(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"transaction",value:function(e,t,n){var r=this;il("Reference.transaction",1,3,arguments.length),ol("Reference.transaction","transactionUpdate",e,!1),ol("Reference.transaction","onComplete",t,!0),_B("Reference.transaction","applyLocally",n,!0);var i=bB(this._delegate,e,{applyLocally:n}).then((function(e){return new EB(e.committed,new CB(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i}},{key:"setPriority",value:function(e,t){il("Reference.setPriority",1,2,arguments.length),ol("Reference.setPriority","onComplete",t,!0);var n=Eq(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"push",value:function(e,t){var r=this;il("Reference.push",0,2,arguments.length),ol("Reference.push","onComplete",t,!0);var i=_q(this._delegate,e),a=i.then((function(e){return new n(r.database,e)}));t&&a.then((function(){return t(null)}),(function(e){return t(e)}));var o=new n(this.database,i);return o.then=a.then.bind(a),o.catch=a.catch.bind(a,void 0),o}},{key:"onDisconnect",value:function(){return Iz("Reference.onDisconnect",this._delegate._path),new SB(new hq(this._delegate._repo,this._delegate._path))}},{key:"key",get:function(){return this.getKey()}},{key:"parent",get:function(){return this.getParent()}},{key:"root",get:function(){return this.getRoot()}}]),n}(IB),NB=function(){function e(t,n){var r=this;ku(this,e),this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return _u(e,[{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};dB(this._delegate,e,t,n)}},{key:"ref",value:function(e){if(il("database.ref",0,1,arguments.length),e instanceof TB){var t=kq(this._delegate,e.toString());return new TB(this,t)}var n=bq(this._delegate,e);return new TB(this,n)}},{key:"refFromURL",value:function(e){var t="database.refFromURL";il(t,1,1,arguments.length);var n=kq(this._delegate,e);return new TB(this,n)}},{key:"goOffline",value:function(){return il("database.goOffline",0,0,arguments.length),pB(this._delegate)}},{key:"goOnline",value:function(){return il("database.goOnline",0,0,arguments.length),vB(this._delegate)}}]),e}();NB.ServerValue={TIMESTAMP:yB,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}};var RB=Object.freeze({__proto__:null,initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,a=e.namespace,o=e.nodeAdmin,u=void 0!==o&&o;VL(r);var s=new yl("auth-internal",new wl("database-standalone"));return s.setComponent(new vl("auth-internal",(function(){return i}),"PRIVATE")),{instance:new NB(fB(t,s,void 0,n,u),t),namespace:a}}}),PB=NB.ServerValue;!function(e){e.INTERNAL.registerComponent(new vl("database-compat",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new NB(i,r)}),"PUBLIC").setServiceProps({Reference:TB,Query:IB,Database:NB,DataSnapshot:CB,enableLogging:mB,INTERNAL:RB,ServerValue:PB}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","0.1.7")}(uk);var AB=uk.initializeApp({apiKey:"AIzaSyBRkRPB2sbw7Z2G3LzsRtl5ExkQyG1SlbA",authDomain:"memento-c73cc.firebaseapp.com",databaseURL:"https://memento-c73cc-default-rtdb.firebaseio.com",projectId:"memento-c73cc",storageBucket:"memento-c73cc.appspot.com",messagingSenderId:"303380494144",appId:"1:303380494144:web:c19bc4954d6425645e2ca5",measurementId:"G-PVE1S8JEEQ"}),OB=uk.database(),DB=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$l(),t=zl(e,"auth");return t.isInitialized()?t.getImmediate():Of(e,{popupRedirectResolver:cv,persistence:[sp,Fd,Vd]})}(AB);function MB(e){var n=e.quotes,r=e.setQuotes,i=c((0,t.useState)(),2),a=i[0],o=i[1],u=c((0,t.useState)(),2),s=u[0],l=u[1];return(0,di.jsx)(jb,yv(yv({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:(0,di.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;return Math.random().toString(20).substr(2,e)}();OB.ref("Chris/quotes/"+t).set({quote:a,author:s}).catch(alert),r([].concat(g(n),[{quote:a,author:s}])),o(""),l("")},children:[(0,di.jsx)(jb.Header,{closeButton:!0,children:(0,di.jsx)(jb.Title,{id:"contained-modal-title-vcenter",children:"Write an Idea"})}),(0,di.jsxs)(jb.Body,{children:[(0,di.jsx)(ac,{fullWidth:!0,required:!0,multiline:!0,rows:4,id:"inputQuote",type:"text",placeholder:'"Ill be back"',name:"quoteInput",label:"Quote",value:a,onChange:function(e){return o(e.target.value)}}),(0,di.jsx)(ac,{className:"mt-3",id:"Author",label:"Author",placeholder:"Marcus Aurelius",value:s,onChange:function(e){return l(e.target.value)}})]}),(0,di.jsx)(jb.Footer,{children:(0,di.jsxs)(Bb,{spacing:1,direction:"row",children:[(0,di.jsx)(ek,{variant:"outlined",onClick:e.onHide,children:"Cancel"}),(0,di.jsx)(ek,{variant:"contained",onClick:e.onHide,type:"submit",children:"Save"})]})})]})}))}var LB=function(){var e=c((0,t.useState)(!1),2),n=e[0],r=e[1],i=c((0,t.useState)(""),2),a=i[0],u=i[1],s=c((0,t.useState)(""),2),l=s[0],h=s[1],d=c((0,t.useState)({}),2),p=d[0],v=d[1],m=c((0,t.useState)([{quote:"The quality of your life depends on the quality of your thoughts.",author:"Marcus Aurelius"},{quote:"Don't just explain your philosophy, embody it",author:"Epictetus"}]),2),y=m[0],g=m[1];!function(e,t,n,r){cl(e).onAuthStateChanged(t,n,r)}(DB,(function(e){v(e)}));var b=function(){var e=o(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Nd(DB,a,l);case 3:t=e.sent,console.log(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=o(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pd(DB,a,l);case 3:t=e.sent,console.log(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=o(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ad(DB);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,di.jsxs)("div",{className:"App",children:[(0,di.jsx)(db,{login:function(){return k()},logout:function(){return w()},register:function(){return b()},user:p}),(0,di.jsx)(Zv,{quotes:y}),(0,di.jsx)(Yi,{className:"FixedButton",color:"primary",onClick:function(){return r(!0)},children:(0,di.jsx)(_b,{style:{height:"1.5rem"}})}),(0,di.jsx)(MB,{show:n,onHide:function(){return r(!1)},quotes:y,setQuotes:g}),(0,di.jsxs)(ta,{className:"mt-3",children:[(0,di.jsx)(ac,{id:"liEmail",label:"Email",placeholder:"email@gmail.com",className:"m-2",onChange:function(e){u(e.target.value)}}),(0,di.jsx)(ac,{id:"liPassword",type:"password",className:"m-2",onChange:function(e){h(e.target.value)},label:"Password"}),(0,di.jsx)("h4",{children:null===p||void 0===p?void 0:p.email})]})]})},FB=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.render((0,di.jsx)(t.StrictMode,{children:(0,di.jsx)(LB,{})}),document.getElementById("root")),FB()}()}();
//# sourceMappingURL=main.f97af316.js.map